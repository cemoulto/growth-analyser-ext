!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);FusionCharts.register("extension",["private","legend-ext",function(){function t(){this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore}t.prototype.constructor=t,t.prototype.renderChange=function(){var t=this.tsObject.chartInstance,e=t.apiInstance.getComponentStore(),n=0;for(n=0;e.getCanvasByIndex(n);++n)e.getCanvasByIndex(n).getComposition().PlotManager.plot()},t.prototype.analyser=function(t){var e,n=this.ga||{},o=this.tsObject.apiInstance.getComponentStore(),a=o.getCanvasByIndex(0),r=(o.getNavigatorByIndex(0),a.getComposition()),s=n.ds||r.dataset,l=n.idMap||{},h=n.storeAr||[],p=[],c=a.composition.yAxis;if("reset"===t?c.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t}:c.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t+"%"},this.ga=n,!n.storeAr&&(o={},!n.idMap)){s.forEachSeries(function(t,e,n,i){o[i.getId()]=i.getOriginalData()});for(e in o)h.push(o[e]),l[e]=h.length-1;n.idMap=l,n.ds=s,n.storeAr=h,n.gAnalyser=new i(h)}p=n.gAnalyser.analyse(t),s.setDataBySeries(function(t){p.length&&t.setOriginalData(p[l[t.getId()]])}),r.impl.update()},t.prototype.init=function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","canvasData",function(t,n,i,o,a,r,s,l,h,p,c,u,d,g){e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=o,e.dataset=a,e.plotManager=r,e.markerManager=l,e.canvasConfig=s,e.reactiveModel=h,e.globalReactiveModel=p,e.spaceManagerInstance=c,e.smartLabel=u,e.chartInstance=d,e.canvasData=g}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.tsObject=e.chartInstance,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this},t.prototype.createToolbar=function(){var t,e,n,i,o=this,a=[],r={},s=this.graphics.paper,l=this.graphics.container,h={"font-size":"12px",color:"#696969",fontFamily:"Myriad Pro"},p={"font-size":"13px",color:"#696969","font-family":"Myriad Pro Semibold"};t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),e=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),r={"Fixed-Number":"dialogBox",Functions:["Minimum","Maximum","Mean","Median","Standard Deviation"],Position:"dialogBox",Dataset:["Previous Dataset","Next Dataset"],"Relative-Position":["Next","Previous"]},n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),a.push({"Growth Analyser":{style:p}}),i=function(t){function e(){r.element.value=r.element.value.replace(/[^\d.-]/g,"")}var n,i,o,a,r,h,p={fontSize:"10px",lineHeight:"15px",fontFamily:"Lucida Grande",stroke:"#676767","stroke-width":"2"},c=180,u=500,d=100;n=s.html("div",{fill:"#f7f7f7",x:u-200,y:d+100,width:180,height:80},p,l),i=s.html("div",{fill:"#e8e8e8",width:c,height:20},p,n),o=s.html("div",{fill:"transparent",width:.6*c,height:20,x:10,y:2},p,i),o.attr({text:"Provide Specific Value"}),a=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},p,i),a.on("click",function(){n.hide()}),r=s.html("input",{width:100,height:20,x:10,y:30},p,n),h=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px",fontFamily:"Lucida Grande",fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},n),h.on("click",function(){n.hide(),t(r.val())}),h.attr({text:"Apply"}),r.element.focus(),r.element.addEventListener("keyup",e),a.element.style.position="relative",a.element.style.backgroundColor="#d2d2d2",a.element.style.border="2px solid #cbcbcb",a.element.style.padding="0px 0px 3.5px 2px",a.element.style.color="#8c8c8c",a.element.style.margin="1px 2px",a.element.style.float="right",r.element.style.marginTop="8px",r.element.style.border="2px solid #dadbda",h.element.style.marginTop="8px",n.element.style.border="1px solid #d4d2d3",i.element.style.border="1px solid #d4d2d3",i.element.style.width="179px",o.element.style.fontSize="11.5px",o.element.style.marginTop="0.5px",o.element.style.color="#676767",i.element.style.fontFamily="Myriad pro Semibold",h.element.style.textAlign="center",h.element.style.fontSize="11px",h.element.style.paddingTop="3px",h.element.style.borderRadius="3px",h.element.style.color="#e4e4e4"};var c=function(t){var e=void 0,n={},s={};if("dialogBox"===r[t])e="&nbsp; &nbsp; "+t,n[e]={},n[e]={style:h,handler:function(){if("Fixed-Number"===t){i(function(t){o.analyser(parseInt(t))})}else if("Position"===t){i(function(t){o.analyser({position:t})})}},action:"click"};else{e="&#9666&nbsp; "+t,n[e]={},n[e].action="click",n[e].style=h,n[e].handler=[];for(var l=function(i){var a=r[t][i];s={},s["&nbsp;"+a]={},s["&nbsp;"+a].handler=function(){"Minimum"===a||"Maximum"===a||"Mean"===a||"Median"===a||"Standard Deviation"===a?o.analyser(a):"Previous Dataset"===a?o.analyser({reldatasetposition:-1}):"Next Dataset"===a?o.analyser({reldatasetposition:1}):"Next"===a?o.analyser({relposition:-1}):"Previous"===a&&o.analyser({relposition:1})},s["&nbsp;"+a].action="click",s["&nbsp;"+a].style=h,n[e].handler.push(s),i!==r[t].length-1&&n[e].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})},p=0;p<r[t].length;p++)l(p)}a.push(n),a.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var u in r)c(u);return a.push({"&nbsp; &nbsp; Reset View":{handler:function(){o.analyser("reset")},action:"click",style:h}}),n.appendAsList(a),this.SymbolStore.register("ContextIcon",function(t,e,n){var i=t,o=e,a=2*n,r=Math.round(a/4),s=.7*Math.round(a/2),l=i-s,h=i+s,p=o+r,c=o-r;return["M",l,o,"L",h,o,"M",l,p,"L",h,p,"M",l,c,"L",h,c]}),e.addSymbol(n),t.addComponent(e),t},t.prototype.getLogicalSpace=function(t,e){t/=2;var n,i,o,a=0,r=0;for(i=0,o=this.toolbars.length;i<o;i++)n=this.toolbars[i].getLogicalSpace(t,e),a=Math.max(n.width,a),r+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return r+=this.padding,{width:a>t?0:a,height:r>e?0:r}},t.prototype.placeInCanvas=function(){var t=this;t.padding=5,t.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t.inline},orientation:[{type:function(t){return t.horizontal},position:[{type:function(t){return t.top},alignment:[{type:function(t){return t.right},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])},t.prototype.setDrawingConfiguration=function(t,e,n,i,o){var a=this.measurement;return a.x=t,a.y=e,a.width=n,a.height=i,this.parentGroup=o,this},t.prototype.draw=function(t,e,n,i,o){var a,r,s,l=this.measurement,h=this.toolbars;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,o=void 0===o?this.parentGroup:o,n&&i)for(r=0,a=h.length;r<a;r++)s=h[r],s.draw(t,e)},FusionCharts.registerComponent("extensions","legendExt",t)}])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){n(this,t),this.data=e.map(function(t){return t.map(function(t){return t})}),this.Formulae=a}return i(t,[{key:"analyse",value:function(t){var e=0,n=0,i=0,o=0,a=0,r=[],s=0,l=this.data,h=[],p=[],c=0;if("string"==typeof t&&"reset"===t.toLowerCase())return l.map(function(t){return t.map(function(t){return t})});if(isNaN(t))if("string"==typeof t)for(t=this.Formulae[t],e=0,n=l.length;e<n;++e){for(p=[],s=t(l[e]),i=0,o=l[e].length;i<o;++i)a=l[e][i],c=0===s?void 0:100*(a-s)/s,p.push(c);h.push(p)}else if(isNaN(t.relposition))if(isNaN(t.position)){if(!isNaN(t.reldatasetposition))for(t=t.reldatasetposition,e=0,n=l.length;e<n;++e){for(p=[],r=e+t>=0&&e+t<n?l[e+t]:l[e],i=0,o=l[e].length;i<o;++i)s=r[i],a=l[e][i],p.push(100*(a-s)/a);h.push(p)}}else for(t=t.position,e=0,n=l.length;e<n;++e){for(p=[],i=0,o=l[e].length;i<o;++i)a=l[e][i],s=t>=0&&t<o?l[e][t]:a,p.push(100*(a-s)/s);h.push(p)}else for(t=t.relposition,e=0,n=l.length;e<n;++e){for(p=[],i=0,o=l[e].length;i<o;++i)a=l[e][i],s=i+t>=0&&i+t<o?l[e][i+t]:a,p.push(100*(a-s)/s);h.push(p)}else for(s=+t,e=0,n=l.length;e<n;++e){for(p=[],i=0,o=l[e].length;i<o;++i)a=l[e][i],p.push(100*(a-s)/s);h.push(p)}for(e=0,n=h.length;e<n;++e)for(i=0,o=h[e].length;i<o;++i)Number.isFinite(h[e][i])||(h[e][i]=null);return h}}]),t}(),a={Minimum:function(t){return t.reduce(function(t,e){return t>e?e:t})},Maximum:function(t){return t.reduce(function(t,e){return t<e?e:t})},Mean:function(t){return t.reduce(function(t,e){return t+e})/t.length},Median:function(t){return t.map(function(t){return t}).sort(function(t,e){return t-e})[t.length/2]},"Standard Deviation":function(t){function e(t){var e,n;return e=t.reduce(function(t,e){return t+e},0),n=e/t.length}var n=0,i=0,o=0,a=0,r=0,s=0;return n=e(t),i=t.map(function(t){return s=t-n,o=s*s}),a=e(i),r=Math.sqrt(a)}};t.exports=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZ3Jvd3RoLWFuYWx5c2VyLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDE5ZTJjZjlmZjcxOTdiNzBjOGE5Iiwid2VicGFjazovLy8uL3NyYy9leHRlbnNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyb3d0aGFuYWx5c2VyLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIkdyb3d0aEFuYWx5c2VyIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJMZWdlbmRFeHQiLCJ0aGlzIiwidG9vbGJveCIsImdldENvbXBvbmVudCIsIkhvcml6b250YWxUb29sYmFyIiwiQ29tcG9uZW50R3JvdXAiLCJTeW1ib2xTdG9yZSIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwicmVuZGVyQ2hhbmdlIiwiY2hhcnRJbnN0YW5jZSIsInRzT2JqZWN0IiwiY29tcG9uZW50U3RvcmUiLCJhcGlJbnN0YW5jZSIsImdldENvbXBvbmVudFN0b3JlIiwiaSIsImdldENhbnZhc0J5SW5kZXgiLCJnZXRDb21wb3NpdGlvbiIsIlBsb3RNYW5hZ2VyIiwicGxvdCIsImFuYWx5c2VyIiwibW9kZSIsImdhIiwic3RvcmUiLCJjYW52YXMiLCJjb21wIiwiZ2V0TmF2aWdhdG9yQnlJbmRleCIsImRzIiwiZGF0YXNldCIsImlkTWFwIiwic3RvcmVBciIsIm5TdG9yZUFyciIsInlBeGlzIiwiY29tcG9zaXRpb24iLCJnZXRTY2FsZU9iaiIsImdldEludGVydmFsT2JqIiwiZ2V0Q29uZmlnIiwibWFqb3IiLCJmb3JtYXR0ZXIiLCJ2YWwiLCJmb3JFYWNoU2VyaWVzIiwiYSIsImIiLCJzZXJpZXMiLCJnZXRJZCIsImdldE9yaWdpbmFsRGF0YSIsInB1c2giLCJsZW5ndGgiLCJnQW5hbHlzZXIiLCJhbmFseXNlIiwic2V0RGF0YUJ5U2VyaWVzIiwic2V0T3JpZ2luYWxEYXRhIiwiaW1wbCIsInVwZGF0ZSIsImluaXQiLCJyZXF1aXJlIiwiaW5zdGFuY2UiLCJ4QXhpcyIsImdyYXBoaWNzIiwiY2hhcnQiLCJwbG90TWFuYWdlciIsImNhbnZhc0NvbmZpZyIsIm1hcmtlck1hbmFnZXIiLCJyZWFjdGl2ZU1vZGVsIiwiZ2xvYmFsUmVhY3RpdmVNb2RlbCIsInNwYWNlTWFuYWdlckluc3RhbmNlIiwic21hcnRMYWJlbCIsImNhbnZhc0RhdGEiLCJzdGFydER0IiwibW9kZWwiLCJlbmREdCIsInN0YXJ0RGF0YXNldCIsImVuZERhdGFzZXQiLCJ0b29sYmFycyIsIm1lYXN1cmVtZW50IiwiY3JlYXRlVG9vbGJhciIsInRvb2xiYXIiLCJncm91cCIsImNvbnRleHRNZW51IiwicG9wdXAiLCJzZWxmIiwiY29udGV4dEFycmF5IiwiZ2FPcHRpb25zT2JqIiwicGFwZXIiLCJjaGFydENvbnRhaW5lciIsImNvbnRhaW5lciIsInN1YkNhdFN0eWxlIiwiZm9udC1zaXplIiwiY29sb3IiLCJmb250RmFtaWx5IiwiY2F0U3R5bGUiLCJmb250LWZhbWlseSIsInNldENvbmZpZyIsImZpbGwiLCJib3JkZXJUaGlja25lc3MiLCJGaXhlZC1OdW1iZXIiLCJGdW5jdGlvbnMiLCJQb3NpdGlvbiIsIkRhdGFzZXQiLCJSZWxhdGl2ZS1Qb3NpdGlvbiIsIlN5bWJvbFdpdGhDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJwb3NpdGlvbiIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwicmFkaXVzIiwic3ltYm9sU3Ryb2tlIiwic3ltYm9sU3Ryb2tlV2lkdGgiLCJHcm93dGggQW5hbHlzZXIiLCJzdHlsZSIsImNhbGxiYWNrIiwiaW5wdXRGaWVsZE51bWJlckhhbmRsZXIiLCJpbnB1dEZpZWxkIiwiZWxlbWVudCIsInZhbHVlIiwicmVwbGFjZSIsImJveCIsImhlYWRlciIsImhlYWRlclRleHQiLCJjcm9zcyIsImFwcGx5QnV0dG9uIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0Iiwic3Ryb2tlLXdpZHRoIiwiaGVhZGVyV2lkdGgiLCJ4IiwieSIsImh0bWwiLCJhdHRyIiwidGV4dCIsImZsb2F0IiwiY3Vyc29yIiwib24iLCJoaWRlIiwiZm9jdXMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xvb3AiLCJrZXkiLCJvYmoiLCJzdWJPYmoiLCJoYW5kbGVyIiwic3RyIiwicGFyc2VJbnQiLCJhY3Rpb24iLCJfbG9vcDIiLCJqIiwic3ViTWVudU5hbWUiLCJyZWxkYXRhc2V0cG9zaXRpb24iLCJyZWxwb3NpdGlvbiIsIiIsImJhY2tncm91bmRDb2xvciIsIm1hcmdpbiIsInBhZGRpbmciLCImbmJzcDsgJm5ic3A7IFJlc2V0IFZpZXciLCJhcHBlbmRBc0xpc3QiLCJwb3N4IiwicG9zeSIsInJhZCIsInIiLCJzcGFjZSIsIk1hdGgiLCJyb3VuZCIsImhhbGZXaWR0aCIsInN0YXJ0WCIsImVuZFgiLCJzdGFydFkiLCJlbmRZIiwiYWRkU3ltYm9sIiwiYWRkQ29tcG9uZW50IiwiZ2V0TG9naWNhbFNwYWNlIiwiYXZhaWxhYmxlV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJsb2dpY2FsU3BhY2UiLCJsbiIsIm1heCIsInBsYWNlSW5DYW52YXMiLCJhZGQiLCJuYW1lIiwicmVmIiwicHJpb3JpdHkiLCJsYXlvdXQiLCJpbmxpbmUiLCJvcmllbnRhdGlvbiIsInR5cGUiLCJob3Jpem9udGFsIiwidG9wIiwiYWxpZ25tZW50IiwicmlnaHQiLCJkaW1lbnNpb25zIiwicGFyZW50IiwiZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsInNldERyYXdpbmdDb25maWd1cmF0aW9uIiwibWVzIiwicGFyZW50R3JvdXAiLCJkcmF3IiwidW5kZWZpbmVkIiwicmVnaXN0ZXJDb21wb25lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImRhdGEiLCJtYXAiLCJGb3JtdWxhZSIsImlpIiwiamoiLCJudW0iLCJjaGVja0FyciIsImNoZWNrTnVtIiwiZGF0YUFyIiwibkRhdGFBciIsInRlbXBBciIsInRlbXAiLCJ0b0xvd2VyQ2FzZSIsImlzTmFOIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJNaW5pbXVtIiwiYXJyIiwicmVkdWNlIiwiTWF4aW11bSIsIk1lYW4iLCJNZWRpYW4iLCJzb3J0IiwiU3RhbmRhcmQgRGV2aWF0aW9uIiwidmFsdWVzIiwiYXZlcmFnZSIsInN1bSIsImF2ZyIsInNxdWFyZURpZmZzIiwic3FyRGlmZiIsImF2Z1NxdWFyZURpZmYiLCJzdGREZXYiLCJkaWZmIiwic3FydCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxHQUdBVixFQUFBLEtETU0sU0FBU0ksRUFBUUQsRUFBU0gsR0FFL0IsWUU5Q0QsSUFBTVcsR0FBaUJYLEVBQVEsRUFFL0JZLGNBQWFDLFNBQVMsYUFBYyxVQUFXLGFBQWMsV0FDM0QsUUFBU0MsS0FDUEMsS0FBS0MsUUFBVUosYUFBYUssYUFBYSxNQUFPLFdBQ2hERixLQUFL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Q1IsTUFBT0EsR0FBSUMsT0FBTyxTQUFDaE0sRUFBR0MsR0FDcEIsTUFBT0QsR0FBSUMsRUFBSUEsRUFBSUQsS0FHdkJrTSxLQUFNLFNBQUNILEdBQ0wsTUFBT0EsR0FBSUMsT0FBTyxTQUFDaE0sRUFBR0MsR0FDcEIsTUFBT0QsR0FBSUMsSUFDUjhMLEVBQUl6TCxRQUVYNkwsT0FBUSxTQUFDSixHQUNQLE1BQU9BLEdBQUloQixJQUFJLFNBQUMvSyxHQUFELE1BQU9BLEtBQUdvTSxLQUFLLFNBQUNwTSxFQUFHQyxHQUFRLE1BQU9ELEdBQUlDLElBQU04TCxFQUFJekwsT0FBUyxJQUUxRStMLHFCQUFzQixTQUFDQyxHQUNyQixRQUFTQyxHQUFTekIsR0FDaEIsR0FBSTBCLEdBQUtDLENBTVQsT0FMQUQsR0FBTTFCLEVBQUtrQixPQUFPLFNBQVVRLEVBQUs5SCxHQUMvQixNQUFPOEgsR0FBTTlILEdBQ1osR0FFSCtILEVBQU1ELEVBQU0xQixFQUFLeEssT0FHbkIsR0FBSW1NLEdBQU0sRUFDUkMsRUFBYyxFQUNkQyxFQUFVLEVBQ1ZDLEVBQWdCLEVBQ2hCQyxFQUFTLEVBQ1RDLEVBQU8sQ0FTVCxPQVJBTCxHQUFNRixFQUFRRCxHQUNkSSxFQUFjSixFQUFPdkIsSUFBSSxTQUFVckcsR0FHakMsTUFGQW9JLEdBQU9wSSxFQUFRK0gsRUFDZkUsRUFBVUcsRUFBT0EsSUFHbkJGLEVBQWdCTCxFQUFRRyxHQUN4QkcsRUFBU3JGLEtBQUt1RixLQUFLSCxJQUt2Qi9QLEdBQU9ELFFBQVVRIiwiZmlsZSI6Imdyb3d0aC1hbmFseXNlci1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgR3Jvd3RoQW5hbHlzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0RnVzaW9uQ2hhcnRzLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ3ByaXZhdGUnLCAnbGVnZW5kLWV4dCcsIGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBMZWdlbmRFeHQoKSB7XG5cdCAgICB0aGlzLnRvb2xib3ggPSBGdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuXHQgICAgdGhpcy5Ib3Jpem9udGFsVG9vbGJhciA9IHRoaXMudG9vbGJveC5Ib3Jpem9udGFsVG9vbGJhcjtcblx0ICAgIHRoaXMuQ29tcG9uZW50R3JvdXAgPSB0aGlzLnRvb2xib3guQ29tcG9uZW50R3JvdXA7XG5cdCAgICB0aGlzLlN5bWJvbFN0b3JlID0gdGhpcy50b29sYm94LlN5bWJvbFN0b3JlO1xuXHQgIH1cblx0ICBMZWdlbmRFeHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGVnZW5kRXh0O1xuXHRcblx0ICBMZWdlbmRFeHQucHJvdG90eXBlLnJlbmRlckNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBjaGFydEluc3RhbmNlID0gdGhpcy50c09iamVjdC5jaGFydEluc3RhbmNlLFxuXHQgICAgICAgIGNvbXBvbmVudFN0b3JlID0gY2hhcnRJbnN0YW5jZS5hcGlJbnN0YW5jZS5nZXRDb21wb25lbnRTdG9yZSgpLFxuXHQgICAgICAgIGkgPSAwO1xuXHQgICAgZm9yIChpID0gMDsgY29tcG9uZW50U3RvcmUuZ2V0Q2FudmFzQnlJbmRleChpKTsgKytpKSB7XG5cdCAgICAgIGNvbXBvbmVudFN0b3JlLmdldENhbnZhc0J5SW5kZXgoaSkuZ2V0Q29tcG9zaXRpb24oKS5QbG90TWFuYWdlci5wbG90KCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgTGVnZW5kRXh0LnByb3RvdHlwZS5hbmFseXNlciA9IGZ1bmN0aW9uIChtb2RlKSB7XG5cdCAgICB2YXIgZ2EgPSB0aGlzLmdhIHx8IHt9LFxuXHQgICAgICAgIHN0b3JlID0gdGhpcy50c09iamVjdC5hcGlJbnN0YW5jZS5nZXRDb21wb25lbnRTdG9yZSgpLFxuXHQgICAgICAgIGNhbnZhcyA9IHN0b3JlLmdldENhbnZhc0J5SW5kZXgoMCksXG5cdCAgICAgICAgbmF2ID0gc3RvcmUuZ2V0TmF2aWdhdG9yQnlJbmRleCgwKSxcblx0ICAgICAgICBjb21wID0gY2FudmFzLmdldENvbXBvc2l0aW9uKCksXG5cdCAgICAgICAgZHMgPSBnYS5kcyB8fCBjb21wLmRhdGFzZXQsXG5cdCAgICAgICAgaSxcblx0ICAgICAgICBpZE1hcCA9IGdhLmlkTWFwIHx8IHt9LFxuXHQgICAgICAgIHN0b3JlQXIgPSBnYS5zdG9yZUFyIHx8IFtdLFxuXHQgICAgICAgIG5TdG9yZUFyciA9IFtdLFxuXHQgICAgICAgIHlBeGlzID0gY2FudmFzLmNvbXBvc2l0aW9uLnlBeGlzO1xuXHQgICAgLy8gQ2hhbmdpbmcgeSBBeGlzIGZvcm1hdHRvclxuXHQgICAgaWYgKG1vZGUgPT09ICdyZXNldCcpIHtcblx0ICAgICAgeUF4aXMuZ2V0U2NhbGVPYmooKS5nZXRJbnRlcnZhbE9iaigpLmdldENvbmZpZygnaW50ZXJ2YWxzJykubWFqb3IuZm9ybWF0dGVyID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB5QXhpcy5nZXRTY2FsZU9iaigpLmdldEludGVydmFsT2JqKCkuZ2V0Q29uZmlnKCdpbnRlcnZhbHMnKS5tYWpvci5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbCArICclJztcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIC8vIERlY2xhcmF0aW9uIGVuZHNcblx0ICAgIHRoaXMuZ2EgPSBnYTtcblx0ICAgIGlmICghZ2Euc3RvcmVBcikge1xuXHQgICAgICBzdG9yZSA9IHt9O1xuXHQgICAgICBpZiAoIWdhLmlkTWFwKSB7XG5cdCAgICAgICAgZHMuZm9yRWFjaFNlcmllcyhmdW5jdGlvbiAoYSwgYiwgYywgc2VyaWVzKSB7XG5cdCAgICAgICAgICBzdG9yZVtzZXJpZXMuZ2V0SWQoKV0gPSBzZXJpZXMuZ2V0T3JpZ2luYWxEYXRhKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZm9yIChpIGluIHN0b3JlKSB7XG5cdCAgICAgICAgICBzdG9yZUFyLnB1c2goc3RvcmVbaV0pO1xuXHQgICAgICAgICAgaWRNYXBbaV0gPSBzdG9yZUFyLmxlbmd0aCAtIDE7XG5cdCAgICAgICAgICAvLyA9IHN0b3JlW2ldLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gMjAgKiBlICsgKE1hdGgucmFuZG9tKCkgKiAxMDAwKTsgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGdhLmlkTWFwID0gaWRNYXA7XG5cdCAgICAgICAgZ2EuZHMgPSBkcztcblx0ICAgICAgICBnYS5zdG9yZUFyID0gc3RvcmVBcjtcblx0ICAgICAgICBnYS5nQW5hbHlzZXIgPSBuZXcgR3Jvd3RoQW5hbHlzZXIoc3RvcmVBcik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIG5TdG9yZUFyciA9IGdhLmdBbmFseXNlci5hbmFseXNlKG1vZGUpO1xuXHQgICAgZHMuc2V0RGF0YUJ5U2VyaWVzKGZ1bmN0aW9uIChzZXJpZXMpIHtcblx0ICAgICAgaWYgKG5TdG9yZUFyci5sZW5ndGgpIHtcblx0ICAgICAgICBzZXJpZXMuc2V0T3JpZ2luYWxEYXRhKG5TdG9yZUFycltpZE1hcFtzZXJpZXMuZ2V0SWQoKV1dKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBjb21wLmltcGwudXBkYXRlKCk7XG5cdCAgfTtcblx0XG5cdCAgTGVnZW5kRXh0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHJlcXVpcmUpIHtcblx0ICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cdCAgICByZXF1aXJlKFsneEF4aXMnLCAneUF4aXMnLCAnZ3JhcGhpY3MnLCAnY2hhcnQnLCAnZGF0YXNldCcsICdQbG90TWFuYWdlcicsICdjYW52YXNDb25maWcnLCAnTWFya2VyTWFuYWdlcicsICdyZWFjdGl2ZU1vZGVsJywgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLCAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLCAnc21hcnRMYWJlbCcsICdjaGFydEluc3RhbmNlJywgJ2NhbnZhc0RhdGEnLCBmdW5jdGlvbiAoeEF4aXMsIHlBeGlzLCBncmFwaGljcywgY2hhcnQsIGRhdGFzZXQsIHBsb3RNYW5hZ2VyLCBjYW52YXNDb25maWcsIG1hcmtlck1hbmFnZXIsIHJlYWN0aXZlTW9kZWwsIGdsb2JhbFJlYWN0aXZlTW9kZWwsIHNwYWNlTWFuYWdlckluc3RhbmNlLCBzbWFydExhYmVsLCBjaGFydEluc3RhbmNlLCBjYW52YXNEYXRhKSB7XG5cdCAgICAgIGluc3RhbmNlLnhBeGlzID0geEF4aXM7XG5cdCAgICAgIGluc3RhbmNlLnlBeGlzID0geUF4aXM7XG5cdCAgICAgIGluc3RhbmNlLmdyYXBoaWNzID0gZ3JhcGhpY3M7XG5cdCAgICAgIGluc3RhbmNlLmNoYXJ0ID0gY2hhcnQ7XG5cdCAgICAgIGluc3RhbmNlLmRhdGFzZXQgPSBkYXRhc2V0O1xuXHQgICAgICBpbnN0YW5jZS5wbG90TWFuYWdlciA9IHBsb3RNYW5hZ2VyO1xuXHQgICAgICBpbnN0YW5jZS5tYXJrZXJNYW5hZ2VyID0gbWFya2VyTWFuYWdlcjtcblx0ICAgICAgaW5zdGFuY2UuY2FudmFzQ29uZmlnID0gY2FudmFzQ29uZmlnO1xuXHQgICAgICBpbnN0YW5jZS5yZWFjdGl2ZU1vZGVsID0gcmVhY3RpdmVNb2RlbDtcblx0ICAgICAgaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbCA9IGdsb2JhbFJlYWN0aXZlTW9kZWw7XG5cdCAgICAgIGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlID0gc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICAgIGluc3RhbmNlLnNtYXJ0TGFiZWwgPSBzbWFydExhYmVsO1xuXHQgICAgICBpbnN0YW5jZS5jaGFydEluc3RhbmNlID0gY2hhcnRJbnN0YW5jZTtcblx0ICAgICAgaW5zdGFuY2UuY2FudmFzRGF0YSA9IGNhbnZhc0RhdGE7XG5cdCAgICB9XSk7XG5cdCAgICB0aGlzLnNwYWNlTWFuYWdlckluc3RhbmNlID0gaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsO1xuXHQgICAgdGhpcy50c09iamVjdCA9IGluc3RhbmNlLmNoYXJ0SW5zdGFuY2U7XG5cdCAgICB0aGlzLnN0YXJ0RHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuXHQgICAgdGhpcy5lbmREdCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLWVuZCddO1xuXHQgICAgdGhpcy5zdGFydERhdGFzZXQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2Utc3RhcnQnXTtcblx0ICAgIHRoaXMuZW5kRGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcblx0ICAgIHRoaXMudG9vbGJhcnMgPSBbXTtcblx0ICAgIHRoaXMubWVhc3VyZW1lbnQgPSB7fTtcblx0ICAgIHRoaXMudG9vbGJhcnMucHVzaCh0aGlzLmNyZWF0ZVRvb2xiYXIoKSk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICBMZWdlbmRFeHQucHJvdG90eXBlLmNyZWF0ZVRvb2xiYXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdG9vbGJhcixcblx0ICAgICAgICBncm91cCxcblx0ICAgICAgICBzZWxmID0gdGhpcyxcblx0ICAgICAgICBjb250ZXh0TWVudSxcblx0ICAgICAgICBjb250ZXh0QXJyYXkgPSBbXSxcblx0ICAgICAgICBnYU9wdGlvbnNPYmogPSB7fSxcblx0ICAgICAgICBwb3B1cCxcblx0ICAgICAgICBwYXBlciA9IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgICAgY2hhcnRDb250YWluZXIgPSB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lcixcblx0ICAgICAgICBzdWJDYXRTdHlsZSA9IHtcblx0ICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMnB4Jyxcblx0ICAgICAgJ2NvbG9yJzogJyM2OTY5NjknLFxuXHQgICAgICAnZm9udEZhbWlseSc6ICdNeXJpYWQgUHJvJ1xuXHQgICAgfSxcblx0ICAgICAgICBjYXRTdHlsZSA9IHtcblx0ICAgICAgJ2ZvbnQtc2l6ZSc6ICcxM3B4Jyxcblx0ICAgICAgJ2NvbG9yJzogJyM2OTY5NjknLFxuXHQgICAgICAnZm9udC1mYW1pbHknOiAnTXlyaWFkIFBybyBTZW1pYm9sZCdcblx0ICAgIH07XG5cdFxuXHQgICAgdG9vbGJhciA9IG5ldyB0aGlzLkhvcml6b250YWxUb29sYmFyKHtcblx0ICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgfSk7XG5cdFxuXHQgICAgdG9vbGJhci5zZXRDb25maWcoe1xuXHQgICAgICBmaWxsOiAnI2ZmZicsXG5cdCAgICAgIGJvcmRlclRoaWNrbmVzczogMFxuXHQgICAgfSk7XG5cdFxuXHQgICAgZ3JvdXAgPSBuZXcgdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwKHtcblx0ICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgfSk7XG5cdFxuXHQgICAgZ3JvdXAuc2V0Q29uZmlnKHtcblx0ICAgICAgZmlsbDogJyNmZmYnLFxuXHQgICAgICBib3JkZXJUaGlja25lc3M6IDBcblx0ICAgIH0pO1xuXHRcblx0ICAgIGdhT3B0aW9uc09iaiA9IHtcblx0ICAgICAgJ0ZpeGVkLU51bWJlcic6ICdkaWFsb2dCb3gnLFxuXHQgICAgICAnRnVuY3Rpb25zJzogWydNaW5pbXVtJywgJ01heGltdW0nLCAnTWVhbicsICdNZWRpYW4nLCAnU3RhbmRhcmQgRGV2aWF0aW9uJ10sXG5cdCAgICAgICdQb3NpdGlvbic6ICdkaWFsb2dCb3gnLFxuXHQgICAgICAnRGF0YXNldCc6IFsnUHJldmlvdXMgRGF0YXNldCcsICdOZXh0IERhdGFzZXQnXSxcblx0ICAgICAgJ1JlbGF0aXZlLVBvc2l0aW9uJzogWydOZXh0JywgJ1ByZXZpb3VzJ11cblx0ICAgIH07XG5cdFxuXHQgICAgY29udGV4dE1lbnUgPSBuZXcgdGhpcy50b29sYm94LlN5bWJvbFdpdGhDb250ZXh0KCdDb250ZXh0SWNvbicsIHtcblx0ICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgfSwge1xuXHQgICAgICB3aWR0aDogMjQsXG5cdCAgICAgIGhlaWdodDogMjQsXG5cdCAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuXHQgICAgICBzdHJva2U6ICcjY2VkNWQ0Jyxcblx0ICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcblx0ICAgICAgcmFkaXVzOiAnMScsXG5cdCAgICAgIHN5bWJvbFN0cm9rZTogJyM2OTY5NjknLFxuXHQgICAgICBzeW1ib2xTdHJva2VXaWR0aDogJzInXG5cdCAgICB9KTtcblx0XG5cdCAgICBjb250ZXh0QXJyYXkucHVzaCh7XG5cdCAgICAgICdHcm93dGggQW5hbHlzZXInOiB7XG5cdCAgICAgICAgc3R5bGU6IGNhdFN0eWxlXG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcG9wdXAgPSBmdW5jdGlvbiBwb3B1cChjYWxsYmFjaykge1xuXHQgICAgICB2YXIgYm94LFxuXHQgICAgICAgICAgaGVhZGVyLFxuXHQgICAgICAgICAgc3R5bGUgPSB7XG5cdCAgICAgICAgZm9udFNpemU6IDEwICsgJ3B4Jyxcblx0ICAgICAgICBsaW5lSGVpZ2h0OiAxNSArICdweCcsXG5cdCAgICAgICAgZm9udEZhbWlseTogJ0x1Y2lkYSBHcmFuZGUnLFxuXHQgICAgICAgIHN0cm9rZTogJyM2NzY3NjcnLFxuXHQgICAgICAgICdzdHJva2Utd2lkdGgnOiAnMidcblx0ICAgICAgfSxcblx0ICAgICAgICAgIGhlYWRlcldpZHRoID0gMTgwLFxuXHQgICAgICAgICAgaGVhZGVyVGV4dCxcblx0ICAgICAgICAgIGNyb3NzLFxuXHQgICAgICAgICAgaW5wdXRGaWVsZCxcblx0ICAgICAgICAgIGFwcGx5QnV0dG9uLFxuXHQgICAgICAgICAgeCA9IDUwMCxcblx0ICAgICAgICAgIHkgPSAxMDA7XG5cdFxuXHQgICAgICBib3ggPSBwYXBlci5odG1sKCdkaXYnLCB7XG5cdCAgICAgICAgZmlsbDogJyNmN2Y3ZjcnLFxuXHQgICAgICAgIHg6IHggLSAyMDAsXG5cdCAgICAgICAgeTogeSArIDEwMCxcblx0ICAgICAgICB3aWR0aDogMTgwLFxuXHQgICAgICAgIGhlaWdodDogODBcblx0ICAgICAgfSwgc3R5bGUsIGNoYXJ0Q29udGFpbmVyKTtcblx0XG5cdCAgICAgIGhlYWRlciA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcblx0ICAgICAgICBmaWxsOiAnI2U4ZThlOCcsXG5cdCAgICAgICAgd2lkdGg6IGhlYWRlcldpZHRoLFxuXHQgICAgICAgIGhlaWdodDogMjBcblx0ICAgICAgfSwgc3R5bGUsIGJveCk7XG5cdFxuXHQgICAgICBoZWFkZXJUZXh0ID0gcGFwZXIuaHRtbCgnZGl2Jywge1xuXHQgICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXG5cdCAgICAgICAgd2lkdGg6IGhlYWRlcldpZHRoICogMC42LFxuXHQgICAgICAgIGhlaWdodDogMjAsXG5cdCAgICAgICAgeDogMTAsXG5cdCAgICAgICAgeTogMlxuXHQgICAgICB9LCBzdHlsZSwgaGVhZGVyKTtcblx0XG5cdCAgICAgIGhlYWRlclRleHQuYXR0cih7XG5cdCAgICAgICAgdGV4dDogJ1Byb3ZpZGUgU3BlY2lmaWMgVmFsdWUnXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgY3Jvc3MgPSBwYXBlci5odG1sKCdkaXYnLCB7XG5cdCAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50Jyxcblx0ICAgICAgICB3aWR0aDogMTAsXG5cdCAgICAgICAgaGVpZ2h0OiAxMCxcblx0ICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcblx0ICAgICAgICBmbG9hdDogJ3JpZ2h0Jyxcblx0ICAgICAgICB0ZXh0OiAnWCcsXG5cdCAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcblx0ICAgICAgfSwgc3R5bGUsIGhlYWRlcik7XG5cdFxuXHQgICAgICBjcm9zcy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYm94LmhpZGUoKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBpbnB1dEZpZWxkID0gcGFwZXIuaHRtbCgnaW5wdXQnLCB7XG5cdCAgICAgICAgd2lkdGg6IDEwMCxcblx0ICAgICAgICBoZWlnaHQ6IDIwLFxuXHQgICAgICAgIHg6IDEwLFxuXHQgICAgICAgIHk6IDMwXG5cdCAgICAgIH0sIHN0eWxlLCBib3gpO1xuXHRcblx0ICAgICAgYXBwbHlCdXR0b24gPSBwYXBlci5odG1sKCdkaXYnLCB7XG5cdCAgICAgICAgd2lkdGg6IDUwLFxuXHQgICAgICAgIGhlaWdodDogMjAsXG5cdCAgICAgICAgeDogMTIwLFxuXHQgICAgICAgIHk6IDMwLFxuXHQgICAgICAgIGZpbGw6ICcjNTU1NTU1J1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgZm9udFNpemU6IDEwICsgJ3B4Jyxcblx0ICAgICAgICBsaW5lSGVpZ2h0OiAxNSArICdweCcsXG5cdCAgICAgICAgZm9udEZhbWlseTogJ0x1Y2lkYSBHcmFuZGUnLFxuXHQgICAgICAgIGZpbGw6ICcjZWFlYWVhJyxcblx0ICAgICAgICBjb2xvcjogJyNlYWVhZWEnLFxuXHQgICAgICAgIHN0cm9rZTogJyNlYWVhZWEnLFxuXHQgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG5cdCAgICAgIH0sIGJveCk7XG5cdFxuXHQgICAgICBhcHBseUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYm94LmhpZGUoKTtcblx0ICAgICAgICBjYWxsYmFjayhpbnB1dEZpZWxkLnZhbCgpKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGFwcGx5QnV0dG9uLmF0dHIoe1xuXHQgICAgICAgIHRleHQ6ICdBcHBseSdcblx0ICAgICAgfSk7XG5cdCAgICAgIGlucHV0RmllbGQuZWxlbWVudC5mb2N1cygpO1xuXHQgICAgICBmdW5jdGlvbiBpbnB1dEZpZWxkTnVtYmVySGFuZGxlcigpIHtcblx0ICAgICAgICBpbnB1dEZpZWxkLmVsZW1lbnQudmFsdWUgPSBpbnB1dEZpZWxkLmVsZW1lbnQudmFsdWUucmVwbGFjZSgvW15cXGQuLV0vZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIGlucHV0RmllbGQuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGlucHV0RmllbGROdW1iZXJIYW5kbGVyKTtcblx0ICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsncG9zaXRpb24nXSA9ICdyZWxhdGl2ZSc7XG5cdCAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2JhY2tncm91bmRDb2xvciddID0gJyNkMmQyZDInO1xuXHQgICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydib3JkZXInXSA9ICcycHggc29saWQgI2NiY2JjYic7XG5cdCAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ3BhZGRpbmcnXSA9ICcwcHggMHB4IDMuNXB4IDJweCc7XG5cdCAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2NvbG9yJ10gPSAnIzhjOGM4Yyc7XG5cdCAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ21hcmdpbiddID0gJzFweCAycHgnO1xuXHQgICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydmbG9hdCddID0gJ3JpZ2h0Jztcblx0ICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LnN0eWxlWydtYXJnaW5Ub3AnXSA9ICc4cHgnO1xuXHQgICAgICBpbnB1dEZpZWxkLmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzJweCBzb2xpZCAjZGFkYmRhJztcblx0ICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsnbWFyZ2luVG9wJ10gPSAnOHB4Jztcblx0ICAgICAgYm94LmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzFweCBzb2xpZCAjZDRkMmQzJztcblx0ICAgICAgaGVhZGVyLmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzFweCBzb2xpZCAjZDRkMmQzJztcblx0ICAgICAgaGVhZGVyLmVsZW1lbnQuc3R5bGVbJ3dpZHRoJ10gPSAnMTc5cHgnO1xuXHQgICAgICBoZWFkZXJUZXh0LmVsZW1lbnQuc3R5bGVbJ2ZvbnRTaXplJ10gPSAnMTEuNXB4Jztcblx0ICAgICAgaGVhZGVyVGV4dC5lbGVtZW50LnN0eWxlWydtYXJnaW5Ub3AnXSA9ICcwLjVweCc7XG5cdCAgICAgIGhlYWRlclRleHQuZWxlbWVudC5zdHlsZVsnY29sb3InXSA9ICcjNjc2NzY3Jztcblx0ICAgICAgaGVhZGVyLmVsZW1lbnQuc3R5bGVbJ2ZvbnRGYW1pbHknXSA9ICdNeXJpYWQgcHJvIFNlbWlib2xkJztcblx0ICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsndGV4dEFsaWduJ10gPSAnY2VudGVyJztcblx0ICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsnZm9udFNpemUnXSA9ICcxMXB4Jztcblx0ICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsncGFkZGluZ1RvcCddID0gJzNweCc7XG5cdCAgICAgIGFwcGx5QnV0dG9uLmVsZW1lbnQuc3R5bGVbJ2JvcmRlclJhZGl1cyddID0gJzNweCc7XG5cdCAgICAgIGFwcGx5QnV0dG9uLmVsZW1lbnQuc3R5bGVbJ2NvbG9yJ10gPSAnI2U0ZTRlNCc7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHtcblx0ICAgICAgdmFyIGtleSA9IHZvaWQgMCxcblx0ICAgICAgICAgIG9iaiA9IHt9LFxuXHQgICAgICAgICAgc3ViT2JqID0ge307XG5cdCAgICAgIGlmIChnYU9wdGlvbnNPYmpbaV0gPT09ICdkaWFsb2dCb3gnKSB7XG5cdCAgICAgICAga2V5ID0gJyZuYnNwOyAmbmJzcDsgJyArIGk7XG5cdCAgICAgICAgb2JqW2tleV0gPSB7fTtcblx0ICAgICAgICBvYmpba2V5XSA9IHtcblx0ICAgICAgICAgIHN0eWxlOiBzdWJDYXRTdHlsZSxcblx0ICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG5cdCAgICAgICAgICAgIC8vIGxldCBwb3B1cFZhbCA9IHBvcHVwKGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgICAgICAgICAgLy8gICBzZWxmLmFuYWx5c2VyKHBhcnNlSW50KHN0cikpO1xuXHQgICAgICAgICAgICAvLyB9KTtcblx0ICAgICAgICAgICAgaWYgKGkgPT09ICdGaXhlZC1OdW1iZXInKSB7XG5cdCAgICAgICAgICAgICAgLy8gc2VsZi5hbmFseXNlcihwYXJzZUludCh3aW5kb3cucHJvbXB0KCdFbnRlciB2YWx1ZScpKSk7XG5cdCAgICAgICAgICAgICAgdmFyIHBvcHVwVmFsID0gcG9wdXAoZnVuY3Rpb24gKHN0cikge1xuXHQgICAgICAgICAgICAgICAgc2VsZi5hbmFseXNlcihwYXJzZUludChzdHIpKTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSAnUG9zaXRpb24nKSB7XG5cdCAgICAgICAgICAgICAgdmFyIF9wb3B1cFZhbCA9IHBvcHVwKGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoeyBwb3NpdGlvbjogc3RyIH0pO1xuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgYWN0aW9uOiAnY2xpY2snXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBrZXkgPSAnJiM5NjY2Jm5ic3A7ICcgKyBpO1xuXHQgICAgICAgIG9ialtrZXldID0ge307XG5cdCAgICAgICAgb2JqW2tleV0uYWN0aW9uID0gJ2NsaWNrJztcblx0ICAgICAgICBvYmpba2V5XS5zdHlsZSA9IHN1YkNhdFN0eWxlO1xuXHQgICAgICAgIG9ialtrZXldLmhhbmRsZXIgPSBbXTtcblx0XG5cdCAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihqKSB7XG5cdCAgICAgICAgICB2YXIgc3ViTWVudU5hbWUgPSBnYU9wdGlvbnNPYmpbaV1bal07XG5cdCAgICAgICAgICBzdWJPYmogPSB7fTtcblx0ICAgICAgICAgIHN1Yk9ialsnJm5ic3A7JyArIHN1Yk1lbnVOYW1lXSA9IHt9O1xuXHQgICAgICAgICAgc3ViT2JqWycmbmJzcDsnICsgc3ViTWVudU5hbWVdLmhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFsnTWluaW11bScsICdNYXhpbXVtJywgJ01lYW4nLCAnTWVkaWFuJywgJ1N0YW5kYXJkIERldmlhdGlvbiddXG5cdCAgICAgICAgICAgIC8vIFsnUHJldmlvdXMgRGF0YXNldCcsICdOZXh0IERhdGFzZXQnXVxuXHQgICAgICAgICAgICAvLyBbJ05leHQnLCAnUHJldmlvdXMnXVxuXHQgICAgICAgICAgICBpZiAoc3ViTWVudU5hbWUgPT09ICdNaW5pbXVtJyB8fCBzdWJNZW51TmFtZSA9PT0gJ01heGltdW0nIHx8IHN1Yk1lbnVOYW1lID09PSAnTWVhbicgfHwgc3ViTWVudU5hbWUgPT09ICdNZWRpYW4nIHx8IHN1Yk1lbnVOYW1lID09PSAnU3RhbmRhcmQgRGV2aWF0aW9uJykge1xuXHQgICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoc3ViTWVudU5hbWUpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Yk1lbnVOYW1lID09PSAnUHJldmlvdXMgRGF0YXNldCcpIHtcblx0ICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHsgcmVsZGF0YXNldHBvc2l0aW9uOiAtMSB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJNZW51TmFtZSA9PT0gJ05leHQgRGF0YXNldCcpIHtcblx0ICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHsgcmVsZGF0YXNldHBvc2l0aW9uOiAxIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Yk1lbnVOYW1lID09PSAnTmV4dCcpIHtcblx0ICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHsgcmVscG9zaXRpb246IC0xIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Yk1lbnVOYW1lID09PSAnUHJldmlvdXMnKSB7XG5cdCAgICAgICAgICAgICAgc2VsZi5hbmFseXNlcih7IHJlbHBvc2l0aW9uOiAxIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgICAgc3ViT2JqWycmbmJzcDsnICsgc3ViTWVudU5hbWVdLmFjdGlvbiA9ICdjbGljayc7XG5cdCAgICAgICAgICBzdWJPYmpbJyZuYnNwOycgKyBzdWJNZW51TmFtZV0uc3R5bGUgPSBzdWJDYXRTdHlsZTtcblx0ICAgICAgICAgIG9ialtrZXldLmhhbmRsZXIucHVzaChzdWJPYmopO1xuXHQgICAgICAgICAgaWYgKGogIT09IGdhT3B0aW9uc09ialtpXS5sZW5ndGggLSAxKSB7XG5cdCAgICAgICAgICAgIG9ialtrZXldLmhhbmRsZXIucHVzaCh7XG5cdCAgICAgICAgICAgICAgJyc6IHtcblx0ICAgICAgICAgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNkNWQyZDInLFxuXHQgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxcHgnLFxuXHQgICAgICAgICAgICAgICAgICBtYXJnaW46ICcxcHgnLFxuXHQgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMHB4J1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnYU9wdGlvbnNPYmpbaV0ubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgIF9sb29wMihqKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgY29udGV4dEFycmF5LnB1c2gob2JqKTtcblx0ICAgICAgY29udGV4dEFycmF5LnB1c2goe1xuXHQgICAgICAgICcnOiB7XG5cdCAgICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZDVkMmQyJyxcblx0ICAgICAgICAgICAgaGVpZ2h0OiAnMXB4Jyxcblx0ICAgICAgICAgICAgbWFyZ2luOiAnMXB4Jyxcblx0ICAgICAgICAgICAgcGFkZGluZzogJzBweCdcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBmb3IgKHZhciBpIGluIGdhT3B0aW9uc09iaikge1xuXHQgICAgICBfbG9vcChpKTtcblx0ICAgIH1cblx0XG5cdCAgICBjb250ZXh0QXJyYXkucHVzaCh7XG5cdCAgICAgICcmbmJzcDsgJm5ic3A7IFJlc2V0IFZpZXcnOiB7XG5cdCAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICAgIHNlbGYuYW5hbHlzZXIoJ3Jlc2V0Jyk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBhY3Rpb246ICdjbGljaycsXG5cdCAgICAgICAgc3R5bGU6IHN1YkNhdFN0eWxlXG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGNvbnRleHRNZW51LmFwcGVuZEFzTGlzdChjb250ZXh0QXJyYXkpO1xuXHRcblx0ICAgIHRoaXMuU3ltYm9sU3RvcmUucmVnaXN0ZXIoJ0NvbnRleHRJY29uJywgZnVuY3Rpb24gKHBvc3gsIHBvc3ksIHJhZCkge1xuXHQgICAgICB2YXIgeCA9IHBvc3gsXG5cdCAgICAgICAgICB5ID0gcG9zeSxcblx0ICAgICAgICAgIHIgPSByYWQgKiAyLFxuXHQgICAgICAgICAgc3BhY2UgPSBNYXRoLnJvdW5kKHIgLyA0KSxcblx0ICAgICAgICAgIGhhbGZXaWR0aCA9IE1hdGgucm91bmQociAvIDIpICogMC43LFxuXHQgICAgICAgICAgc3RhcnRYID0geCAtIGhhbGZXaWR0aCxcblx0ICAgICAgICAgIGVuZFggPSB4ICsgaGFsZldpZHRoLFxuXHQgICAgICAgICAgc3RhcnRZID0geSArIHNwYWNlLFxuXHQgICAgICAgICAgZW5kWSA9IHkgLSBzcGFjZTtcblx0ICAgICAgcmV0dXJuIFsnTScsIHN0YXJ0WCwgeSwgJ0wnLCBlbmRYLCB5LCAnTScsIHN0YXJ0WCwgc3RhcnRZLCAnTCcsIGVuZFgsIHN0YXJ0WSwgJ00nLCBzdGFydFgsIGVuZFksICdMJywgZW5kWCwgZW5kWV07XG5cdCAgICB9KTtcblx0XG5cdCAgICBncm91cC5hZGRTeW1ib2woY29udGV4dE1lbnUpO1xuXHQgICAgdG9vbGJhci5hZGRDb21wb25lbnQoZ3JvdXApO1xuXHQgICAgcmV0dXJuIHRvb2xiYXI7XG5cdCAgfTtcblx0XG5cdCAgTGVnZW5kRXh0LnByb3RvdHlwZS5nZXRMb2dpY2FsU3BhY2UgPSBmdW5jdGlvbiAoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCkge1xuXHQgICAgYXZhaWxhYmxlV2lkdGggLz0gMjtcblx0ICAgIHZhciBsb2dpY2FsU3BhY2UsXG5cdCAgICAgICAgd2lkdGggPSAwLFxuXHQgICAgICAgIGhlaWdodCA9IDAsXG5cdCAgICAgICAgaSxcblx0ICAgICAgICBsbjtcblx0XG5cdCAgICBmb3IgKGkgPSAwLCBsbiA9IHRoaXMudG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHQgICAgICBsb2dpY2FsU3BhY2UgPSB0aGlzLnRvb2xiYXJzW2ldLmdldExvZ2ljYWxTcGFjZShhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0KTtcblx0ICAgICAgd2lkdGggPSBNYXRoLm1heChsb2dpY2FsU3BhY2Uud2lkdGgsIHdpZHRoKTtcblx0ICAgICAgaGVpZ2h0ICs9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG5cdCAgICAgIHRoaXMudG9vbGJhcnNbaV0ud2lkdGggPSBsb2dpY2FsU3BhY2Uud2lkdGg7XG5cdCAgICAgIHRoaXMudG9vbGJhcnNbaV0uaGVpZ2h0ID0gbG9naWNhbFNwYWNlLmhlaWdodDtcblx0ICAgIH1cblx0ICAgIGhlaWdodCArPSB0aGlzLnBhZGRpbmc7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB3aWR0aDogd2lkdGggPiBhdmFpbGFibGVXaWR0aCA/IDAgOiB3aWR0aCxcblx0ICAgICAgaGVpZ2h0OiBoZWlnaHQgPiBhdmFpbGFibGVIZWlnaHQgPyAwIDogaGVpZ2h0XG5cdCAgICB9O1xuXHQgIH07XG5cdFxuXHQgIExlZ2VuZEV4dC5wcm90b3R5cGUucGxhY2VJbkNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cdCAgICBfc2VsZi5wYWRkaW5nID0gNTtcblx0ICAgIF9zZWxmLnNwYWNlTWFuYWdlckluc3RhbmNlLmFkZChbe1xuXHQgICAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKCkge1xuXHQgICAgICAgIHJldHVybiAnVG9vbEJveEV4dCc7XG5cdCAgICAgIH0sXG5cdCAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmpbJzAnXTtcblx0ICAgICAgfSxcblx0ICAgICAgc2VsZjogZnVuY3Rpb24gc2VsZigpIHtcblx0ICAgICAgICByZXR1cm4gX3NlbGY7XG5cdCAgICAgIH0sXG5cdCAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiBwcmlvcml0eSgpIHtcblx0ICAgICAgICByZXR1cm4gMjtcblx0ICAgICAgfSxcblx0ICAgICAgbGF5b3V0OiBmdW5jdGlvbiBsYXlvdXQob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIG9iai5pbmxpbmU7XG5cdCAgICAgIH0sXG5cdCAgICAgIG9yaWVudGF0aW9uOiBbe1xuXHQgICAgICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICAgICAgICByZXR1cm4gb2JqLmhvcml6b250YWw7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwb3NpdGlvbjogW3tcblx0ICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmoudG9wO1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGFsaWdubWVudDogW3tcblx0ICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShvYmopIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gb2JqLnJpZ2h0O1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBkaW1lbnNpb25zOiBbZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9zZWxmLmdldExvZ2ljYWxTcGFjZShwYXJlbnQuZ2V0V2lkdGgoKSwgcGFyZW50LmdldEhlaWdodCgpKTtcblx0ICAgICAgICAgICAgfV1cblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfV1cblx0ICAgICAgfV1cblx0ICAgIH1dKTtcblx0ICB9O1xuXHRcblx0ICBMZWdlbmRFeHQucHJvdG90eXBlLnNldERyYXdpbmdDb25maWd1cmF0aW9uID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG5cdCAgICB2YXIgbWVzID0gdGhpcy5tZWFzdXJlbWVudDtcblx0ICAgIG1lcy54ID0geDtcblx0ICAgIG1lcy55ID0geTtcblx0ICAgIG1lcy53aWR0aCA9IHdpZHRoO1xuXHQgICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblx0XG5cdCAgICB0aGlzLnBhcmVudEdyb3VwID0gZ3JvdXA7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfTtcblx0XG5cdCAgTGVnZW5kRXh0LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG5cdCAgICB2YXIgbWVhc3VyZW1lbnQgPSB0aGlzLm1lYXN1cmVtZW50LFxuXHQgICAgICAgIHRvb2xiYXJzID0gdGhpcy50b29sYmFycyxcblx0ICAgICAgICBsbixcblx0ICAgICAgICBpLFxuXHQgICAgICAgIHRvb2xiYXI7XG5cdCAgICB4ID0geCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueCA6IHg7XG5cdCAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG5cdCAgICB3aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC53aWR0aCA6IHdpZHRoO1xuXHQgICAgaGVpZ2h0ID0gaGVpZ2h0ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC5oZWlnaHQgOiBoZWlnaHQ7XG5cdCAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG5cdCAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG5cdCAgICAgIGZvciAoaSA9IDAsIGxuID0gdG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHQgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcblx0ICAgICAgICB0b29sYmFyLmRyYXcoeCwgeSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBGdXNpb25DaGFydHMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnbGVnZW5kRXh0JywgTGVnZW5kRXh0KTtcblx0fV0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgR3Jvd3RoQW5hbHlzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gR3Jvd3RoQW5hbHlzZXIoZGF0YSkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyb3d0aEFuYWx5c2VyKTtcblx0XG5cdCAgICB0aGlzLmRhdGEgPSBkYXRhLm1hcChmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gYS5tYXAoZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICByZXR1cm4gYjtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIHRoaXMuRm9ybXVsYWUgPSBGb3JtdWxhZTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhHcm93dGhBbmFseXNlciwgW3tcblx0ICAgIGtleTogJ2FuYWx5c2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFuYWx5c2UobW9kZSkge1xuXHQgICAgICB2YXIgaSA9IDAsXG5cdCAgICAgICAgICBpaSA9IDAsXG5cdCAgICAgICAgICBqID0gMCxcblx0ICAgICAgICAgIGpqID0gMCxcblx0ICAgICAgICAgIG51bSA9IDAsXG5cdCAgICAgICAgICBjaGVja0FyciA9IFtdLFxuXHQgICAgICAgICAgY2hlY2tOdW0gPSAwLFxuXHQgICAgICAgICAgZGF0YUFyID0gdGhpcy5kYXRhLFxuXHQgICAgICAgICAgbkRhdGFBciA9IFtdLFxuXHQgICAgICAgICAgdGVtcEFyID0gW10sXG5cdCAgICAgICAgICB0ZW1wID0gMDtcblx0ICAgICAgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiBtb2RlLnRvTG93ZXJDYXNlKCkgPT09ICdyZXNldCcpIHtcblx0ICAgICAgICByZXR1cm4gZGF0YUFyLm1hcChmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgcmV0dXJuIGEubWFwKGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBiO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKG1vZGUpKSB7XG5cdCAgICAgICAgLy8gSGFuZGxpbmcgYSBudW1iZXJcblx0ICAgICAgICBjaGVja051bSA9ICttb2RlO1xuXHQgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcblx0ICAgICAgICAgIHRlbXBBciA9IFtdO1xuXHQgICAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuXHQgICAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG5cdCAgICAgICAgICAgIHRlbXBBci5wdXNoKDEwMCAqIChudW0gLSBjaGVja051bSkgLyBjaGVja051bSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgbW9kZSA9IHRoaXMuRm9ybXVsYWVbbW9kZV07XG5cdCAgICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuXHQgICAgICAgICAgdGVtcEFyID0gW107XG5cdCAgICAgICAgICBjaGVja051bSA9IG1vZGUoZGF0YUFyW2ldKTtcblx0ICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcblx0ICAgICAgICAgICAgbnVtID0gZGF0YUFyW2ldW2pdO1xuXHQgICAgICAgICAgICBpZiAoY2hlY2tOdW0gPT09IDApIHtcblx0ICAgICAgICAgICAgICB0ZW1wID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHRlbXAgPSAxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gY2hlY2tOdW07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGVtcEFyLnB1c2godGVtcCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKG1vZGUucmVscG9zaXRpb24pKSB7XG5cdCAgICAgICAgbW9kZSA9IG1vZGUucmVscG9zaXRpb247XG5cdCAgICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuXHQgICAgICAgICAgdGVtcEFyID0gW107XG5cdCAgICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG5cdCAgICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcblx0ICAgICAgICAgICAgaWYgKGogKyBtb2RlID49IDAgJiYgaiArIG1vZGUgPCBqaikge1xuXHQgICAgICAgICAgICAgIGNoZWNrTnVtID0gZGF0YUFyW2ldW2ogKyBtb2RlXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBjaGVja051bSA9IG51bTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0ZW1wQXIucHVzaCgxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gY2hlY2tOdW0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgbkRhdGFBci5wdXNoKHRlbXBBcik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKCFpc05hTihtb2RlLnBvc2l0aW9uKSkge1xuXHQgICAgICAgIG1vZGUgPSBtb2RlLnBvc2l0aW9uO1xuXHQgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcblx0ICAgICAgICAgIHRlbXBBciA9IFtdO1xuXHQgICAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuXHQgICAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG5cdCAgICAgICAgICAgIGlmIChtb2RlID49IDAgJiYgbW9kZSA8IGpqKSB7XG5cdCAgICAgICAgICAgICAgY2hlY2tOdW0gPSBkYXRhQXJbaV1bbW9kZV07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgY2hlY2tOdW0gPSBudW07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGVtcEFyLnB1c2goMTAwICogKG51bSAtIGNoZWNrTnVtKSAvIGNoZWNrTnVtKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICghaXNOYU4obW9kZS5yZWxkYXRhc2V0cG9zaXRpb24pKSB7XG5cdCAgICAgICAgbW9kZSA9IG1vZGUucmVsZGF0YXNldHBvc2l0aW9uO1xuXHQgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcblx0ICAgICAgICAgIHRlbXBBciA9IFtdO1xuXHQgICAgICAgICAgaWYgKGkgKyBtb2RlID49IDAgJiYgaSArIG1vZGUgPCBpaSkge1xuXHQgICAgICAgICAgICBjaGVja0FyciA9IGRhdGFBcltpICsgbW9kZV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjaGVja0FyciA9IGRhdGFBcltpXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcblx0ICAgICAgICAgICAgY2hlY2tOdW0gPSBjaGVja0FycltqXTtcblx0ICAgICAgICAgICAgbnVtID0gZGF0YUFyW2ldW2pdO1xuXHQgICAgICAgICAgICB0ZW1wQXIucHVzaCgxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gbnVtKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBmb3IgKGkgPSAwLCBpaSA9IG5EYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuXHQgICAgICAgIGZvciAoaiA9IDAsIGpqID0gbkRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG5cdCAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShuRGF0YUFyW2ldW2pdKSkge1xuXHQgICAgICAgICAgICBuRGF0YUFyW2ldW2pdID0gbnVsbDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG5EYXRhQXI7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gR3Jvd3RoQW5hbHlzZXI7XG5cdH0oKTtcblx0XG5cdHZhciBGb3JtdWxhZSA9IHtcblx0ICBNaW5pbXVtOiBmdW5jdGlvbiBNaW5pbXVtKGFycikge1xuXHQgICAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgcmV0dXJuIGEgPiBiID8gYiA6IGE7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIE1heGltdW06IGZ1bmN0aW9uIE1heGltdW0oYXJyKSB7XG5cdCAgICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICByZXR1cm4gYSA8IGIgPyBiIDogYTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgTWVhbjogZnVuY3Rpb24gTWVhbihhcnIpIHtcblx0ICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIHJldHVybiBhICsgYjtcblx0ICAgIH0pIC8gYXJyLmxlbmd0aDtcblx0ICB9LFxuXHQgIE1lZGlhbjogZnVuY3Rpb24gTWVkaWFuKGFycikge1xuXHQgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIGE7XG5cdCAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIHJldHVybiBhIC0gYjtcblx0ICAgIH0pW2Fyci5sZW5ndGggLyAyXTtcblx0ICB9LFxuXHQgICdTdGFuZGFyZCBEZXZpYXRpb24nOiBmdW5jdGlvbiBTdGFuZGFyZERldmlhdGlvbih2YWx1ZXMpIHtcblx0ICAgIGZ1bmN0aW9uIGF2ZXJhZ2UoZGF0YSkge1xuXHQgICAgICB2YXIgc3VtLCBhdmc7XG5cdCAgICAgIHN1bSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChzdW0sIHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHN1bSArIHZhbHVlO1xuXHQgICAgICB9LCAwKTtcblx0XG5cdCAgICAgIGF2ZyA9IHN1bSAvIGRhdGEubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gYXZnO1xuXHQgICAgfVxuXHQgICAgdmFyIGF2ZyA9IDAsXG5cdCAgICAgICAgc3F1YXJlRGlmZnMgPSAwLFxuXHQgICAgICAgIHNxckRpZmYgPSAwLFxuXHQgICAgICAgIGF2Z1NxdWFyZURpZmYgPSAwLFxuXHQgICAgICAgIHN0ZERldiA9IDAsXG5cdCAgICAgICAgZGlmZiA9IDA7XG5cdCAgICBhdmcgPSBhdmVyYWdlKHZhbHVlcyk7XG5cdCAgICBzcXVhcmVEaWZmcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgIGRpZmYgPSB2YWx1ZSAtIGF2Zztcblx0ICAgICAgc3FyRGlmZiA9IGRpZmYgKiBkaWZmO1xuXHQgICAgICByZXR1cm4gc3FyRGlmZjtcblx0ICAgIH0pO1xuXHQgICAgYXZnU3F1YXJlRGlmZiA9IGF2ZXJhZ2Uoc3F1YXJlRGlmZnMpO1xuXHQgICAgc3RkRGV2ID0gTWF0aC5zcXJ0KGF2Z1NxdWFyZURpZmYpO1xuXHQgICAgcmV0dXJuIHN0ZERldjtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEdyb3d0aEFuYWx5c2VyO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gZ3Jvd3RoLWFuYWx5c2VyLWVzNS5taW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAxOWUyY2Y5ZmY3MTk3YjcwYzhhOSIsImNvbnN0IEdyb3d0aEFuYWx5c2VyID0gcmVxdWlyZSgnLi9ncm93dGhhbmFseXNlcicpO1xuXG5GdXNpb25DaGFydHMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsncHJpdmF0ZScsICdsZWdlbmQtZXh0JywgZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMZWdlbmRFeHQgKCkge1xuICAgIHRoaXMudG9vbGJveCA9IEZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG4gICAgdGhpcy5Ib3Jpem9udGFsVG9vbGJhciA9IHRoaXMudG9vbGJveC5Ib3Jpem9udGFsVG9vbGJhcjtcbiAgICB0aGlzLkNvbXBvbmVudEdyb3VwID0gdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwO1xuICAgIHRoaXMuU3ltYm9sU3RvcmUgPSB0aGlzLnRvb2xib3guU3ltYm9sU3RvcmU7XG4gIH1cbiAgTGVnZW5kRXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExlZ2VuZEV4dDtcblxuICBMZWdlbmRFeHQucHJvdG90eXBlLnJlbmRlckNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhcnRJbnN0YW5jZSA9IHRoaXMudHNPYmplY3QuY2hhcnRJbnN0YW5jZSxcbiAgICAgIGNvbXBvbmVudFN0b3JlID0gY2hhcnRJbnN0YW5jZS5hcGlJbnN0YW5jZS5nZXRDb21wb25lbnRTdG9yZSgpLFxuICAgICAgaSA9IDA7XG4gICAgZm9yIChpID0gMDsgY29tcG9uZW50U3RvcmUuZ2V0Q2FudmFzQnlJbmRleChpKTsgKytpKSB7XG4gICAgICBjb21wb25lbnRTdG9yZS5nZXRDYW52YXNCeUluZGV4KGkpLmdldENvbXBvc2l0aW9uKCkuUGxvdE1hbmFnZXIucGxvdCgpO1xuICAgIH1cbiAgfTtcblxuICBMZWdlbmRFeHQucHJvdG90eXBlLmFuYWx5c2VyID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICB2YXIgZ2EgPSB0aGlzLmdhIHx8IHt9LFxuICAgICAgc3RvcmUgPSB0aGlzLnRzT2JqZWN0LmFwaUluc3RhbmNlLmdldENvbXBvbmVudFN0b3JlKCksXG4gICAgICBjYW52YXMgPSBzdG9yZS5nZXRDYW52YXNCeUluZGV4KDApLFxuICAgICAgbmF2ID0gc3RvcmUuZ2V0TmF2aWdhdG9yQnlJbmRleCgwKSxcbiAgICAgIGNvbXAgPSBjYW52YXMuZ2V0Q29tcG9zaXRpb24oKSxcbiAgICAgIGRzID0gZ2EuZHMgfHwgY29tcC5kYXRhc2V0LFxuICAgICAgaSxcbiAgICAgIGlkTWFwID0gZ2EuaWRNYXAgfHwge30sXG4gICAgICBzdG9yZUFyID0gZ2Euc3RvcmVBciB8fCBbXSxcbiAgICAgIG5TdG9yZUFyciA9IFtdLFxuICAgICAgeUF4aXMgPSBjYW52YXMuY29tcG9zaXRpb24ueUF4aXM7XG4gICAgLy8gQ2hhbmdpbmcgeSBBeGlzIGZvcm1hdHRvclxuICAgIGlmIChtb2RlID09PSAncmVzZXQnKSB7XG4gICAgICB5QXhpcy5nZXRTY2FsZU9iaigpLmdldEludGVydmFsT2JqKCkuZ2V0Q29uZmlnKCdpbnRlcnZhbHMnKS5tYWpvci5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB5QXhpcy5nZXRTY2FsZU9iaigpLmdldEludGVydmFsT2JqKCkuZ2V0Q29uZmlnKCdpbnRlcnZhbHMnKS5tYWpvci5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgKyAnJSc7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBEZWNsYXJhdGlvbiBlbmRzXG4gICAgdGhpcy5nYSA9IGdhO1xuICAgIGlmICghZ2Euc3RvcmVBcikge1xuICAgICAgc3RvcmUgPSB7fTtcbiAgICAgIGlmICghZ2EuaWRNYXApIHtcbiAgICAgICAgZHMuZm9yRWFjaFNlcmllcyhmdW5jdGlvbiAoYSwgYiwgYywgc2VyaWVzKSB7XG4gICAgICAgICAgc3RvcmVbc2VyaWVzLmdldElkKCldID0gc2VyaWVzLmdldE9yaWdpbmFsRGF0YSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChpIGluIHN0b3JlKSB7XG4gICAgICAgICAgc3RvcmVBci5wdXNoKHN0b3JlW2ldKTtcbiAgICAgICAgICBpZE1hcFtpXSA9IHN0b3JlQXIubGVuZ3RoIC0gMTtcbiAgICAgICAgICAvLyA9IHN0b3JlW2ldLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gMjAgKiBlICsgKE1hdGgucmFuZG9tKCkgKiAxMDAwKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2EuaWRNYXAgPSBpZE1hcDtcbiAgICAgICAgZ2EuZHMgPSBkcztcbiAgICAgICAgZ2Euc3RvcmVBciA9IHN0b3JlQXI7XG4gICAgICAgIGdhLmdBbmFseXNlciA9IG5ldyBHcm93dGhBbmFseXNlcihzdG9yZUFyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgblN0b3JlQXJyID0gZ2EuZ0FuYWx5c2VyLmFuYWx5c2UobW9kZSk7XG4gICAgZHMuc2V0RGF0YUJ5U2VyaWVzKGZ1bmN0aW9uIChzZXJpZXMpIHtcbiAgICAgIGlmIChuU3RvcmVBcnIubGVuZ3RoKSB7XG4gICAgICAgIHNlcmllcy5zZXRPcmlnaW5hbERhdGEoblN0b3JlQXJyW2lkTWFwW3Nlcmllcy5nZXRJZCgpXV0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbXAuaW1wbC51cGRhdGUoKTtcbiAgfTtcblxuICBMZWdlbmRFeHQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAocmVxdWlyZSkge1xuICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG4gICAgcmVxdWlyZShbXG4gICAgICAneEF4aXMnLFxuICAgICAgJ3lBeGlzJyxcbiAgICAgICdncmFwaGljcycsXG4gICAgICAnY2hhcnQnLFxuICAgICAgJ2RhdGFzZXQnLFxuICAgICAgJ1Bsb3RNYW5hZ2VyJyxcbiAgICAgICdjYW52YXNDb25maWcnLFxuICAgICAgJ01hcmtlck1hbmFnZXInLFxuICAgICAgJ3JlYWN0aXZlTW9kZWwnLFxuICAgICAgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLFxuICAgICAgJ3NwYWNlTWFuYWdlckluc3RhbmNlJyxcbiAgICAgICdzbWFydExhYmVsJyxcbiAgICAgICdjaGFydEluc3RhbmNlJyxcbiAgICAgICdjYW52YXNEYXRhJyxcbiAgICAgIGZ1bmN0aW9uIChcbiAgICAgICAgICAgIHhBeGlzLFxuICAgICAgICAgICAgeUF4aXMsXG4gICAgICAgICAgICBncmFwaGljcyxcbiAgICAgICAgICAgIGNoYXJ0LFxuICAgICAgICAgICAgZGF0YXNldCxcbiAgICAgICAgICAgIHBsb3RNYW5hZ2VyLFxuICAgICAgICAgICAgY2FudmFzQ29uZmlnLFxuICAgICAgICAgICAgbWFya2VyTWFuYWdlcixcbiAgICAgICAgICAgIHJlYWN0aXZlTW9kZWwsXG4gICAgICAgICAgICBnbG9iYWxSZWFjdGl2ZU1vZGVsLFxuICAgICAgICAgICAgc3BhY2VNYW5hZ2VySW5zdGFuY2UsXG4gICAgICAgICAgICBzbWFydExhYmVsLFxuICAgICAgICAgICAgY2hhcnRJbnN0YW5jZSxcbiAgICAgICAgICAgIGNhbnZhc0RhdGEpIHtcbiAgICAgICAgaW5zdGFuY2UueEF4aXMgPSB4QXhpcztcbiAgICAgICAgaW5zdGFuY2UueUF4aXMgPSB5QXhpcztcbiAgICAgICAgaW5zdGFuY2UuZ3JhcGhpY3MgPSBncmFwaGljcztcbiAgICAgICAgaW5zdGFuY2UuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgaW5zdGFuY2UuZGF0YXNldCA9IGRhdGFzZXQ7XG4gICAgICAgIGluc3RhbmNlLnBsb3RNYW5hZ2VyID0gcGxvdE1hbmFnZXI7XG4gICAgICAgIGluc3RhbmNlLm1hcmtlck1hbmFnZXIgPSBtYXJrZXJNYW5hZ2VyO1xuICAgICAgICBpbnN0YW5jZS5jYW52YXNDb25maWcgPSBjYW52YXNDb25maWc7XG4gICAgICAgIGluc3RhbmNlLnJlYWN0aXZlTW9kZWwgPSByZWFjdGl2ZU1vZGVsO1xuICAgICAgICBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gZ2xvYmFsUmVhY3RpdmVNb2RlbDtcbiAgICAgICAgaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2UgPSBzcGFjZU1hbmFnZXJJbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2Uuc21hcnRMYWJlbCA9IHNtYXJ0TGFiZWw7XG4gICAgICAgIGluc3RhbmNlLmNoYXJ0SW5zdGFuY2UgPSBjaGFydEluc3RhbmNlO1xuICAgICAgICBpbnN0YW5jZS5jYW52YXNEYXRhID0gY2FudmFzRGF0YTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICB0aGlzLnNwYWNlTWFuYWdlckluc3RhbmNlID0gaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG4gICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbDtcbiAgICB0aGlzLnRzT2JqZWN0ID0gaW5zdGFuY2UuY2hhcnRJbnN0YW5jZTtcbiAgICB0aGlzLnN0YXJ0RHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuICAgIHRoaXMuZW5kRHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXTtcbiAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1zdGFydCddO1xuICAgIHRoaXMuZW5kRGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcbiAgICB0aGlzLnRvb2xiYXJzID0gW107XG4gICAgdGhpcy5tZWFzdXJlbWVudCA9IHt9O1xuICAgIHRoaXMudG9vbGJhcnMucHVzaCh0aGlzLmNyZWF0ZVRvb2xiYXIoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgTGVnZW5kRXh0LnByb3RvdHlwZS5jcmVhdGVUb29sYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0b29sYmFyLFxuICAgICAgZ3JvdXAsXG4gICAgICBzZWxmID0gdGhpcyxcbiAgICAgIGNvbnRleHRNZW51LFxuICAgICAgY29udGV4dEFycmF5ID0gW10sXG4gICAgICBnYU9wdGlvbnNPYmogPSB7fSxcbiAgICAgIHBvcHVwLFxuICAgICAgcGFwZXIgPSB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuICAgICAgY2hhcnRDb250YWluZXIgPSB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lcixcbiAgICAgIHN1YkNhdFN0eWxlID0ge1xuICAgICAgICAnZm9udC1zaXplJzogJzEycHgnLFxuICAgICAgICAnY29sb3InOiAnIzY5Njk2OScsXG4gICAgICAgICdmb250RmFtaWx5JzogJ015cmlhZCBQcm8nXG4gICAgICB9LFxuICAgICAgY2F0U3R5bGUgPSB7XG4gICAgICAgICdmb250LXNpemUnOiAnMTNweCcsXG4gICAgICAgICdjb2xvcic6ICcjNjk2OTY5JyxcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ015cmlhZCBQcm8gU2VtaWJvbGQnXG4gICAgICB9O1xuXG4gICAgdG9vbGJhciA9IG5ldyB0aGlzLkhvcml6b250YWxUb29sYmFyKHtcbiAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcbiAgICB9KTtcblxuICAgIHRvb2xiYXIuc2V0Q29uZmlnKHtcbiAgICAgIGZpbGw6ICcjZmZmJyxcbiAgICAgIGJvcmRlclRoaWNrbmVzczogMFxuICAgIH0pO1xuXG4gICAgZ3JvdXAgPSBuZXcgdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwKHtcbiAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcbiAgICB9KTtcblxuICAgIGdyb3VwLnNldENvbmZpZyh7XG4gICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICBib3JkZXJUaGlja25lc3M6IDBcbiAgICB9KTtcblxuICAgIGdhT3B0aW9uc09iaiA9IHtcbiAgICAgICdGaXhlZC1OdW1iZXInOiAnZGlhbG9nQm94JyxcbiAgICAgICdGdW5jdGlvbnMnOiBbJ01pbmltdW0nLCAnTWF4aW11bScsICdNZWFuJywgJ01lZGlhbicsICdTdGFuZGFyZCBEZXZpYXRpb24nXSxcbiAgICAgICdQb3NpdGlvbic6ICdkaWFsb2dCb3gnLFxuICAgICAgJ0RhdGFzZXQnOiBbJ1ByZXZpb3VzIERhdGFzZXQnLCAnTmV4dCBEYXRhc2V0J10sXG4gICAgICAnUmVsYXRpdmUtUG9zaXRpb24nOiBbJ05leHQnLCAnUHJldmlvdXMnXVxuICAgIH07XG5cbiAgICBjb250ZXh0TWVudSA9IG5ldyB0aGlzLnRvb2xib3guU3ltYm9sV2l0aENvbnRleHQoJ0NvbnRleHRJY29uJywge1xuICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICBjaGFydDogdGhpcy5jaGFydCxcbiAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgIH0sIHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgIHN0cm9rZTogJyNjZWQ1ZDQnLFxuICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgIHJhZGl1czogJzEnLFxuICAgICAgc3ltYm9sU3Ryb2tlOiAnIzY5Njk2OScsXG4gICAgICBzeW1ib2xTdHJva2VXaWR0aDogJzInXG4gICAgfSk7XG5cbiAgICBjb250ZXh0QXJyYXkucHVzaCh7XG4gICAgICAnR3Jvd3RoIEFuYWx5c2VyJzoge1xuICAgICAgICBzdHlsZTogY2F0U3R5bGVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwb3B1cCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIGJveCxcbiAgICAgICAgaGVhZGVyLFxuICAgICAgICBzdHlsZSA9IHtcbiAgICAgICAgICBmb250U2l6ZTogMTAgKyAncHgnLFxuICAgICAgICAgIGxpbmVIZWlnaHQ6IDE1ICsgJ3B4JyxcbiAgICAgICAgICBmb250RmFtaWx5OiAnTHVjaWRhIEdyYW5kZScsXG4gICAgICAgICAgc3Ryb2tlOiAnIzY3Njc2NycsXG4gICAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcyJ1xuICAgICAgICB9LFxuICAgICAgICBoZWFkZXJXaWR0aCA9IDE4MCxcbiAgICAgICAgaGVhZGVyVGV4dCxcbiAgICAgICAgY3Jvc3MsXG4gICAgICAgIGlucHV0RmllbGQsXG4gICAgICAgIGFwcGx5QnV0dG9uLFxuICAgICAgICB4ID0gNTAwLFxuICAgICAgICB5ID0gMTAwO1xuXG4gICAgICBib3ggPSBwYXBlci5odG1sKCdkaXYnLCB7XG4gICAgICAgIGZpbGw6ICcjZjdmN2Y3JyxcbiAgICAgICAgeDogeCAtIDIwMCxcbiAgICAgICAgeTogeSArIDEwMCxcbiAgICAgICAgd2lkdGg6IDE4MCxcbiAgICAgICAgaGVpZ2h0OiA4MFxuICAgICAgfSwgc3R5bGUsIGNoYXJ0Q29udGFpbmVyKTtcblxuICAgICAgaGVhZGVyID0gcGFwZXIuaHRtbCgnZGl2Jywge1xuICAgICAgICBmaWxsOiAnI2U4ZThlOCcsXG4gICAgICAgIHdpZHRoOiBoZWFkZXJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiAyMFxuICAgICAgfSwgc3R5bGUsIGJveCk7XG5cbiAgICAgIGhlYWRlclRleHQgPSBwYXBlci5odG1sKCdkaXYnLCB7XG4gICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIHdpZHRoOiBoZWFkZXJXaWR0aCAqIDAuNixcbiAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgeDogMTAsXG4gICAgICAgIHk6IDJcbiAgICAgIH0sIHN0eWxlLCBoZWFkZXIpO1xuXG4gICAgICBoZWFkZXJUZXh0LmF0dHIoe1xuICAgICAgICB0ZXh0OiAnUHJvdmlkZSBTcGVjaWZpYyBWYWx1ZSdcbiAgICAgIH0pO1xuXG4gICAgICBjcm9zcyA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcbiAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICBoZWlnaHQ6IDEwLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICAgIHRleHQ6ICdYJyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgIH0sIHN0eWxlLCBoZWFkZXIpO1xuXG4gICAgICBjcm9zcy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGJveC5oaWRlKCk7XG4gICAgICB9KTtcblxuICAgICAgaW5wdXRGaWVsZCA9IHBhcGVyLmh0bWwoJ2lucHV0Jywge1xuICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICB4OiAxMCxcbiAgICAgICAgeTogMzBcbiAgICAgIH0sIHN0eWxlLCBib3gpO1xuXG4gICAgICBhcHBseUJ1dHRvbiA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICB4OiAxMjAsXG4gICAgICAgIHk6IDMwLFxuICAgICAgICBmaWxsOiAnIzU1NTU1NSdcbiAgICAgIH0sIHtcbiAgICAgICAgZm9udFNpemU6IDEwICsgJ3B4JyxcbiAgICAgICAgbGluZUhlaWdodDogMTUgKyAncHgnLFxuICAgICAgICBmb250RmFtaWx5OiAnTHVjaWRhIEdyYW5kZScsXG4gICAgICAgIGZpbGw6ICcjZWFlYWVhJyxcbiAgICAgICAgY29sb3I6ICcjZWFlYWVhJyxcbiAgICAgICAgc3Ryb2tlOiAnI2VhZWFlYScsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICB9LCBib3gpO1xuXG4gICAgICBhcHBseUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGJveC5oaWRlKCk7XG4gICAgICAgIGNhbGxiYWNrKGlucHV0RmllbGQudmFsKCkpO1xuICAgICAgfSk7XG4gICAgICBhcHBseUJ1dHRvbi5hdHRyKHtcbiAgICAgICAgdGV4dDogJ0FwcGx5J1xuICAgICAgfSk7XG4gICAgICBpbnB1dEZpZWxkLmVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIGZ1bmN0aW9uIGlucHV0RmllbGROdW1iZXJIYW5kbGVyICgpIHtcbiAgICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LnZhbHVlID0gaW5wdXRGaWVsZC5lbGVtZW50LnZhbHVlLnJlcGxhY2UoL1teXFxkLi1dL2csICcnKTtcbiAgICAgIH1cbiAgICAgIGlucHV0RmllbGQuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGlucHV0RmllbGROdW1iZXJIYW5kbGVyKTtcbiAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ3Bvc2l0aW9uJ10gPSAncmVsYXRpdmUnO1xuICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnYmFja2dyb3VuZENvbG9yJ10gPSAnI2QyZDJkMic7XG4gICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydib3JkZXInXSA9ICcycHggc29saWQgI2NiY2JjYic7XG4gICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydwYWRkaW5nJ10gPSAnMHB4IDBweCAzLjVweCAycHgnO1xuICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnY29sb3InXSA9ICcjOGM4YzhjJztcbiAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ21hcmdpbiddID0gJzFweCAycHgnO1xuICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnZmxvYXQnXSA9ICdyaWdodCc7XG4gICAgICBpbnB1dEZpZWxkLmVsZW1lbnQuc3R5bGVbJ21hcmdpblRvcCddID0gJzhweCc7XG4gICAgICBpbnB1dEZpZWxkLmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzJweCBzb2xpZCAjZGFkYmRhJztcbiAgICAgIGFwcGx5QnV0dG9uLmVsZW1lbnQuc3R5bGVbJ21hcmdpblRvcCddID0gJzhweCc7XG4gICAgICBib3guZWxlbWVudC5zdHlsZVsnYm9yZGVyJ10gPSAnMXB4IHNvbGlkICNkNGQyZDMnO1xuICAgICAgaGVhZGVyLmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzFweCBzb2xpZCAjZDRkMmQzJztcbiAgICAgIGhlYWRlci5lbGVtZW50LnN0eWxlWyd3aWR0aCddID0gJzE3OXB4JztcbiAgICAgIGhlYWRlclRleHQuZWxlbWVudC5zdHlsZVsnZm9udFNpemUnXSA9ICcxMS41cHgnO1xuICAgICAgaGVhZGVyVGV4dC5lbGVtZW50LnN0eWxlWydtYXJnaW5Ub3AnXSA9ICcwLjVweCc7XG4gICAgICBoZWFkZXJUZXh0LmVsZW1lbnQuc3R5bGVbJ2NvbG9yJ10gPSAnIzY3Njc2Nyc7XG4gICAgICBoZWFkZXIuZWxlbWVudC5zdHlsZVsnZm9udEZhbWlseSddID0gJ015cmlhZCBwcm8gU2VtaWJvbGQnO1xuICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsndGV4dEFsaWduJ10gPSAnY2VudGVyJztcbiAgICAgIGFwcGx5QnV0dG9uLmVsZW1lbnQuc3R5bGVbJ2ZvbnRTaXplJ10gPSAnMTFweCc7XG4gICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydwYWRkaW5nVG9wJ10gPSAnM3B4JztcbiAgICAgIGFwcGx5QnV0dG9uLmVsZW1lbnQuc3R5bGVbJ2JvcmRlclJhZGl1cyddID0gJzNweCc7XG4gICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydjb2xvciddID0gJyNlNGU0ZTQnO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpIGluIGdhT3B0aW9uc09iaikge1xuICAgICAgbGV0IGtleSxcbiAgICAgICAgb2JqID0ge30sXG4gICAgICAgIHN1Yk9iaiA9IHt9O1xuICAgICAgaWYgKGdhT3B0aW9uc09ialtpXSA9PT0gJ2RpYWxvZ0JveCcpIHtcbiAgICAgICAga2V5ID0gJyZuYnNwOyAmbmJzcDsgJyArIGk7XG4gICAgICAgIG9ialtrZXldID0ge307XG4gICAgICAgIG9ialtrZXldID0ge1xuICAgICAgICAgIHN0eWxlOiBzdWJDYXRTdHlsZSxcbiAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBsZXQgcG9wdXBWYWwgPSBwb3B1cChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAvLyAgIHNlbGYuYW5hbHlzZXIocGFyc2VJbnQoc3RyKSk7XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIGlmIChpID09PSAnRml4ZWQtTnVtYmVyJykge1xuICAgICAgICAgICAgICAvLyBzZWxmLmFuYWx5c2VyKHBhcnNlSW50KHdpbmRvdy5wcm9tcHQoJ0VudGVyIHZhbHVlJykpKTtcbiAgICAgICAgICAgICAgbGV0IHBvcHVwVmFsID0gcG9wdXAoZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIocGFyc2VJbnQoc3RyKSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSAnUG9zaXRpb24nKSB7XG4gICAgICAgICAgICAgIGxldCBwb3B1cFZhbCA9IHBvcHVwKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHtwb3NpdGlvbjogc3RyfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWN0aW9uOiAnY2xpY2snXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXkgPSAnJiM5NjY2Jm5ic3A7ICcgKyBpO1xuICAgICAgICBvYmpba2V5XSA9IHt9O1xuICAgICAgICBvYmpba2V5XS5hY3Rpb24gPSAnY2xpY2snO1xuICAgICAgICBvYmpba2V5XS5zdHlsZSA9IHN1YkNhdFN0eWxlO1xuICAgICAgICBvYmpba2V5XS5oYW5kbGVyID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FPcHRpb25zT2JqW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgbGV0IHN1Yk1lbnVOYW1lID0gZ2FPcHRpb25zT2JqW2ldW2pdO1xuICAgICAgICAgIHN1Yk9iaiA9IHt9O1xuICAgICAgICAgIHN1Yk9ialsnJm5ic3A7JyArIHN1Yk1lbnVOYW1lXSA9IHt9O1xuICAgICAgICAgIHN1Yk9ialsnJm5ic3A7JyArIHN1Yk1lbnVOYW1lXS5oYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gWydNaW5pbXVtJywgJ01heGltdW0nLCAnTWVhbicsICdNZWRpYW4nLCAnU3RhbmRhcmQgRGV2aWF0aW9uJ11cbiAgICAgICAgICAgIC8vIFsnUHJldmlvdXMgRGF0YXNldCcsICdOZXh0IERhdGFzZXQnXVxuICAgICAgICAgICAgLy8gWydOZXh0JywgJ1ByZXZpb3VzJ11cbiAgICAgICAgICAgIGlmIChzdWJNZW51TmFtZSA9PT0gJ01pbmltdW0nIHx8XG4gICAgICAgICAgICAgIHN1Yk1lbnVOYW1lID09PSAnTWF4aW11bScgfHwgc3ViTWVudU5hbWUgPT09ICdNZWFuJyB8fFxuICAgICAgICAgICAgICBzdWJNZW51TmFtZSA9PT0gJ01lZGlhbicgfHwgc3ViTWVudU5hbWUgPT09ICdTdGFuZGFyZCBEZXZpYXRpb24nKSB7XG4gICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoc3ViTWVudU5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJNZW51TmFtZSA9PT0gJ1ByZXZpb3VzIERhdGFzZXQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoe3JlbGRhdGFzZXRwb3NpdGlvbjogLTF9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdOZXh0IERhdGFzZXQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoe3JlbGRhdGFzZXRwb3NpdGlvbjogMX0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJNZW51TmFtZSA9PT0gJ05leHQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoe3JlbHBvc2l0aW9uOiAtMX0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJNZW51TmFtZSA9PT0gJ1ByZXZpb3VzJykge1xuICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHtyZWxwb3NpdGlvbjogMX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgc3ViT2JqWycmbmJzcDsnICsgc3ViTWVudU5hbWVdLmFjdGlvbiA9ICdjbGljayc7XG4gICAgICAgICAgc3ViT2JqWycmbmJzcDsnICsgc3ViTWVudU5hbWVdLnN0eWxlID0gc3ViQ2F0U3R5bGU7XG4gICAgICAgICAgb2JqW2tleV0uaGFuZGxlci5wdXNoKHN1Yk9iaik7XG4gICAgICAgICAgaWYgKGogIT09IGdhT3B0aW9uc09ialtpXS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBvYmpba2V5XS5oYW5kbGVyLnB1c2goe1xuICAgICAgICAgICAgICAnJzoge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZDVkMmQyJyxcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogJzFweCcsXG4gICAgICAgICAgICAgICAgICBtYXJnaW46ICcxcHgnLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzBweCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGV4dEFycmF5LnB1c2gob2JqKTtcbiAgICAgIGNvbnRleHRBcnJheS5wdXNoKHtcbiAgICAgICAgJyc6IHtcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Q1ZDJkMicsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxcHgnLFxuICAgICAgICAgICAgbWFyZ2luOiAnMXB4JyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb250ZXh0QXJyYXkucHVzaCh7XG4gICAgICAnJm5ic3A7ICZuYnNwOyBSZXNldCBWaWV3Jzoge1xuICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5hbmFseXNlcigncmVzZXQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uOiAnY2xpY2snLFxuICAgICAgICBzdHlsZTogc3ViQ2F0U3R5bGVcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnRleHRNZW51LmFwcGVuZEFzTGlzdChjb250ZXh0QXJyYXkpO1xuXG4gICAgdGhpcy5TeW1ib2xTdG9yZS5yZWdpc3RlcignQ29udGV4dEljb24nLCBmdW5jdGlvbiAocG9zeCwgcG9zeSwgcmFkKSB7XG4gICAgICB2YXIgeCA9IHBvc3gsXG4gICAgICAgIHkgPSBwb3N5LFxuICAgICAgICByID0gcmFkICogMixcbiAgICAgICAgc3BhY2UgPSBNYXRoLnJvdW5kKHIgLyA0KSxcbiAgICAgICAgaGFsZldpZHRoID0gTWF0aC5yb3VuZChyIC8gMikgKiAwLjcsXG4gICAgICAgIHN0YXJ0WCA9ICh4IC0gaGFsZldpZHRoKSxcbiAgICAgICAgZW5kWCA9ICh4ICsgaGFsZldpZHRoKSxcbiAgICAgICAgc3RhcnRZID0gKHkgKyBzcGFjZSksXG4gICAgICAgIGVuZFkgPSAoeSAtIHNwYWNlKTtcbiAgICAgIHJldHVybiBbJ00nLCBzdGFydFgsIHksICdMJywgZW5kWCwgeSwgJ00nLCBzdGFydFgsIHN0YXJ0WSwgJ0wnLCBlbmRYLCBzdGFydFksICdNJywgc3RhcnRYLCBlbmRZLCAnTCcsIGVuZFgsIGVuZFldO1xuICAgIH0pO1xuXG4gICAgZ3JvdXAuYWRkU3ltYm9sKGNvbnRleHRNZW51KTtcbiAgICB0b29sYmFyLmFkZENvbXBvbmVudChncm91cCk7XG4gICAgcmV0dXJuIHRvb2xiYXI7XG4gIH07XG5cbiAgTGVnZW5kRXh0LnByb3RvdHlwZS5nZXRMb2dpY2FsU3BhY2UgPSBmdW5jdGlvbiAoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCkge1xuICAgIGF2YWlsYWJsZVdpZHRoIC89IDI7XG4gICAgdmFyIGxvZ2ljYWxTcGFjZSxcbiAgICAgIHdpZHRoID0gMCxcbiAgICAgIGhlaWdodCA9IDAsXG4gICAgICBpLFxuICAgICAgbG47XG5cbiAgICBmb3IgKGkgPSAwLCBsbiA9IHRoaXMudG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgbG9naWNhbFNwYWNlID0gdGhpcy50b29sYmFyc1tpXS5nZXRMb2dpY2FsU3BhY2UoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCk7XG4gICAgICB3aWR0aCA9IE1hdGgubWF4KGxvZ2ljYWxTcGFjZS53aWR0aCwgd2lkdGgpO1xuICAgICAgaGVpZ2h0ICs9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG4gICAgICB0aGlzLnRvb2xiYXJzW2ldLndpZHRoID0gbG9naWNhbFNwYWNlLndpZHRoO1xuICAgICAgdGhpcy50b29sYmFyc1tpXS5oZWlnaHQgPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgIH1cbiAgICBoZWlnaHQgKz0gdGhpcy5wYWRkaW5nO1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogd2lkdGggPiBhdmFpbGFibGVXaWR0aCA/IDAgOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0ID4gYXZhaWxhYmxlSGVpZ2h0ID8gMCA6IGhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgTGVnZW5kRXh0LnByb3RvdHlwZS5wbGFjZUluQ2FudmFzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnBhZGRpbmcgPSA1O1xuICAgIHNlbGYuc3BhY2VNYW5hZ2VySW5zdGFuY2UuYWRkKFt7XG4gICAgICBuYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnVG9vbEJveEV4dCc7XG4gICAgICB9LFxuICAgICAgcmVmOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmpbJzAnXTtcbiAgICAgIH0sXG4gICAgICBzZWxmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfSxcbiAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgfSxcbiAgICAgIGxheW91dDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqLmlubGluZTtcbiAgICAgIH0sXG4gICAgICBvcmllbnRhdGlvbjogW3tcbiAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmouaG9yaXpvbnRhbDtcbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb246IFt7XG4gICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iai50b3A7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhbGlnbm1lbnQ6IFt7XG4gICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYmoucmlnaHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGltZW5zaW9uczogW2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0TG9naWNhbFNwYWNlKHBhcmVudC5nZXRXaWR0aCgpLCBwYXJlbnQuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfV1cbiAgICB9XSk7XG4gIH07XG5cbiAgTGVnZW5kRXh0LnByb3RvdHlwZS5zZXREcmF3aW5nQ29uZmlndXJhdGlvbiA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuICAgIG1lcy54ID0geDtcbiAgICBtZXMueSA9IHk7XG4gICAgbWVzLndpZHRoID0gd2lkdGg7XG4gICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMucGFyZW50R3JvdXAgPSBncm91cDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIExlZ2VuZEV4dC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgIHZhciBtZWFzdXJlbWVudCA9IHRoaXMubWVhc3VyZW1lbnQsXG4gICAgICB0b29sYmFycyA9IHRoaXMudG9vbGJhcnMsXG4gICAgICBsbixcbiAgICAgIGksXG4gICAgICB0b29sYmFyO1xuICAgIHggPSB4ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC54IDogeDtcbiAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG4gICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LmhlaWdodCA6IGhlaWdodDtcbiAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG4gICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgZm9yIChpID0gMCwgbG4gPSB0b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcbiAgICAgICAgdG9vbGJhci5kcmF3KHgsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBGdXNpb25DaGFydHMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnbGVnZW5kRXh0JywgTGVnZW5kRXh0KTtcbn1dKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9leHRlbnNpb24uanMiLCIndXNlIHN0cmljdCc7XG5jbGFzcyBHcm93dGhBbmFseXNlciB7XG4gIGNvbnN0cnVjdG9yIChkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YS5tYXAoKGEpID0+IHtcbiAgICAgIHJldHVybiBhLm1hcCgoYikgPT4geyByZXR1cm4gYjsgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5Gb3JtdWxhZSA9IEZvcm11bGFlO1xuICB9XG4gIGFuYWx5c2UgKG1vZGUpIHtcbiAgICBsZXQgaSA9IDAsXG4gICAgICBpaSA9IDAsXG4gICAgICBqID0gMCxcbiAgICAgIGpqID0gMCxcbiAgICAgIG51bSA9IDAsXG4gICAgICBjaGVja0FyciA9IFtdLFxuICAgICAgY2hlY2tOdW0gPSAwLFxuICAgICAgZGF0YUFyID0gdGhpcy5kYXRhLFxuICAgICAgbkRhdGFBciA9IFtdLFxuICAgICAgdGVtcEFyID0gW10sXG4gICAgICB0ZW1wID0gMDtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmIG1vZGUudG9Mb3dlckNhc2UoKSA9PT0gJ3Jlc2V0Jykge1xuICAgICAgcmV0dXJuIGRhdGFBci5tYXAoKGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGEubWFwKChiKSA9PiB7IHJldHVybiBiOyB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWlzTmFOKG1vZGUpKSB7IC8vIEhhbmRsaW5nIGEgbnVtYmVyXG4gICAgICBjaGVja051bSA9ICttb2RlO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB0ZW1wQXIgPSBbXTtcbiAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcbiAgICAgICAgICB0ZW1wQXIucHVzaCgxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gY2hlY2tOdW0pO1xuICAgICAgICB9XG4gICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2RlID0gdGhpcy5Gb3JtdWxhZVttb2RlXTtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGVtcEFyID0gW107XG4gICAgICAgIGNoZWNrTnVtID0gbW9kZShkYXRhQXJbaV0pO1xuICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgbnVtID0gZGF0YUFyW2ldW2pdO1xuICAgICAgICAgIGlmIChjaGVja051bSA9PT0gMCkge1xuICAgICAgICAgICAgdGVtcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVtcCA9IDEwMCAqIChudW0gLSBjaGVja051bSkgLyBjaGVja051bTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVtcEFyLnB1c2godGVtcCk7XG4gICAgICAgIH1cbiAgICAgICAgbkRhdGFBci5wdXNoKHRlbXBBcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNOYU4obW9kZS5yZWxwb3NpdGlvbikpIHtcbiAgICAgIG1vZGUgPSBtb2RlLnJlbHBvc2l0aW9uO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB0ZW1wQXIgPSBbXTtcbiAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcbiAgICAgICAgICBpZiAoaiArIG1vZGUgPj0gMCAmJiBqICsgbW9kZSA8IGpqKSB7XG4gICAgICAgICAgICBjaGVja051bSA9IGRhdGFBcltpXVtqICsgbW9kZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrTnVtID0gbnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZW1wQXIucHVzaCgxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gY2hlY2tOdW0pO1xuICAgICAgICB9XG4gICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzTmFOKG1vZGUucG9zaXRpb24pKSB7XG4gICAgICBtb2RlID0gbW9kZS5wb3NpdGlvbjtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGVtcEFyID0gW107XG4gICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG4gICAgICAgICAgaWYgKG1vZGUgPj0gMCAmJiBtb2RlIDwgamopIHtcbiAgICAgICAgICAgIGNoZWNrTnVtID0gZGF0YUFyW2ldW21vZGVdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja051bSA9IG51bTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVtcEFyLnB1c2goMTAwICogKG51bSAtIGNoZWNrTnVtKSAvIGNoZWNrTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc05hTihtb2RlLnJlbGRhdGFzZXRwb3NpdGlvbikpIHtcbiAgICAgIG1vZGUgPSBtb2RlLnJlbGRhdGFzZXRwb3NpdGlvbjtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGVtcEFyID0gW107XG4gICAgICAgIGlmIChpICsgbW9kZSA+PSAwICYmIGkgKyBtb2RlIDwgaWkpIHtcbiAgICAgICAgICBjaGVja0FyciA9IGRhdGFBcltpICsgbW9kZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tBcnIgPSBkYXRhQXJbaV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIGNoZWNrTnVtID0gY2hlY2tBcnJbal07XG4gICAgICAgICAgbnVtID0gZGF0YUFyW2ldW2pdO1xuICAgICAgICAgIHRlbXBBci5wdXNoKDEwMCAqIChudW0gLSBjaGVja051bSkgLyBudW0pO1xuICAgICAgICB9XG4gICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwLCBpaSA9IG5EYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgZm9yIChqID0gMCwgamogPSBuRGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobkRhdGFBcltpXVtqXSkpIHtcbiAgICAgICAgICBuRGF0YUFyW2ldW2pdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbkRhdGFBcjtcbiAgfVxufVxuXG52YXIgRm9ybXVsYWUgPSB7XG4gIE1pbmltdW06IChhcnIpID0+IHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEgPiBiID8gYiA6IGE7XG4gICAgfSk7XG4gIH0sXG4gIE1heGltdW06IChhcnIpID0+IHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEgPCBiID8gYiA6IGE7XG4gICAgfSk7XG4gIH0sXG4gIE1lYW46IChhcnIpID0+IHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH0pIC8gYXJyLmxlbmd0aDtcbiAgfSxcbiAgTWVkaWFuOiAoYXJyKSA9PiB7XG4gICAgcmV0dXJuIGFyci5tYXAoKGEpID0+IGEpLnNvcnQoKGEsIGIpID0+IHsgcmV0dXJuIGEgLSBiOyB9KVthcnIubGVuZ3RoIC8gMl07XG4gIH0sXG4gICdTdGFuZGFyZCBEZXZpYXRpb24nOiAodmFsdWVzKSA9PiB7XG4gICAgZnVuY3Rpb24gYXZlcmFnZSAoZGF0YSkge1xuICAgICAgdmFyIHN1bSwgYXZnO1xuICAgICAgc3VtID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1bSArIHZhbHVlO1xuICAgICAgfSwgMCk7XG5cbiAgICAgIGF2ZyA9IHN1bSAvIGRhdGEubGVuZ3RoO1xuICAgICAgcmV0dXJuIGF2ZztcbiAgICB9XG4gICAgdmFyIGF2ZyA9IDAsXG4gICAgICBzcXVhcmVEaWZmcyA9IDAsXG4gICAgICBzcXJEaWZmID0gMCxcbiAgICAgIGF2Z1NxdWFyZURpZmYgPSAwLFxuICAgICAgc3RkRGV2ID0gMCxcbiAgICAgIGRpZmYgPSAwO1xuICAgIGF2ZyA9IGF2ZXJhZ2UodmFsdWVzKTtcbiAgICBzcXVhcmVEaWZmcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBkaWZmID0gdmFsdWUgLSBhdmc7XG4gICAgICBzcXJEaWZmID0gZGlmZiAqIGRpZmY7XG4gICAgICByZXR1cm4gc3FyRGlmZjtcbiAgICB9KTtcbiAgICBhdmdTcXVhcmVEaWZmID0gYXZlcmFnZShzcXVhcmVEaWZmcyk7XG4gICAgc3RkRGV2ID0gTWF0aC5zcXJ0KGF2Z1NxdWFyZURpZmYpO1xuICAgIHJldHVybiBzdGREZXY7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gR3Jvd3RoQW5hbHlzZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ3Jvd3RoYW5hbHlzZXIuanMiXSwic291cmNlUm9vdCI6IiJ9