!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);FusionCharts.register("extension",["private","growth-analyser-ext",function(){function t(){this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore}t.prototype.constructor=t,t.prototype.renderChange=function(){var t=this.tsObject.chartInstance,e=t.apiInstance.getComponentStore(),n=0;for(n=0;e.getCanvasByIndex(n);++n)e.getCanvasByIndex(n).getComposition().PlotManager.plot()},t.prototype.analyser=function(t){var e,n=this.ga||{},o=this.tsObject.apiInstance.getComponentStore(),r=o.getCanvasByIndex(0),a=(o.getNavigatorByIndex(0),r.getComposition()),s=n.ds||a.dataset,l=n.idMap||{},h=n.storeAr||[],p=[],c=r.composition.yAxis;if("reset"===t?c.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t}:c.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t+"%"},this.ga=n,!n.storeAr&&(o={},!n.idMap)){s.forEachSeries(function(t,e,n,i){o[i.getId()]=i.getOriginalData()});for(e in o)h.push(o[e]),l[e]=h.length-1;n.idMap=l,n.ds=s,n.storeAr=h,n.gAnalyser=new i(h)}p=n.gAnalyser.analyse(t),s.setDataBySeries(function(t){p.length&&t.setOriginalData(p[l[t.getId()]])}),a.impl.update()},t.prototype.init=function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","canvasData",function(t,n,i,o,r,a,s,l,h,p,c,u,d,f){e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=o,e.dataset=r,e.plotManager=a,e.markerManager=l,e.canvasConfig=s,e.reactiveModel=h,e.globalReactiveModel=p,e.spaceManagerInstance=c,e.smartLabel=u,e.chartInstance=d,e.canvasData=f}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.tsObject=e.chartInstance,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this},t.prototype.createToolbar=function(){var t,e,n,i,o=this,r=[],a={},s=this.graphics.paper,l=this.graphics.container,h={"font-size":"12px",color:"#696969",fontFamily:"Myriad Pro"},p={"font-size":"13px",color:"#696969","font-family":"Myriad Pro Semibold"};t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),e=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),a={"Fixed-Number":"dialogBox",Functions:["Minimum","Maximum","Mean","Median","Standard Deviation"],Position:"dialogBox",Dataset:["Previous Dataset","Next Dataset"],"Relative-Position":["Next","Previous"]},n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),r.push({"Growth Analyser":{style:p}}),i=function(t){function e(){a.element.value=a.element.value.replace(/[^\d.-]/g,"")}var n,i,o,r,a,h,p={fontSize:"10px",lineHeight:"15px",fontFamily:"Lucida Grande",stroke:"#676767","stroke-width":"2"},c=180,u=500,d=100;n=s.html("div",{fill:"#f7f7f7",x:u-200,y:d+100,width:180,height:80},p,l),i=s.html("div",{fill:"#e8e8e8",width:c,height:20},p,n),o=s.html("div",{fill:"transparent",width:.6*c,height:20,x:10,y:2},p,i),o.attr({text:"Provide Specific Value"}),r=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},p,i),r.on("click",function(){n.hide()}),a=s.html("input",{width:100,height:20,x:10,y:30},p,n),h=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px",fontFamily:"Lucida Grande",fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},n),h.on("click",function(){n.hide(),t(a.val())}),h.attr({text:"Apply"}),a.element.focus(),a.element.addEventListener("keyup",e),r.element.style.position="relative",r.element.style.backgroundColor="#d2d2d2",r.element.style.border="2px solid #cbcbcb",r.element.style.padding="0px 0px 3.5px 2px",r.element.style.color="#8c8c8c",r.element.style.margin="1px 2px",r.element.style.float="right",a.element.style.marginTop="8px",a.element.style.border="2px solid #dadbda",h.element.style.marginTop="8px",n.element.style.border="1px solid #d4d2d3",i.element.style.border="1px solid #d4d2d3",i.element.style.width="179px",o.element.style.fontSize="11.5px",o.element.style.marginTop="0.5px",o.element.style.color="#676767",i.element.style.fontFamily="Myriad pro Semibold",h.element.style.textAlign="center",h.element.style.fontSize="11px",h.element.style.paddingTop="3px",h.element.style.borderRadius="3px",h.element.style.color="#e4e4e4"};var c=function(t){var e=void 0,n={},s={};if("dialogBox"===a[t])e="&nbsp; &nbsp; "+t,n[e]={},n[e]={style:h,handler:function(){if("Fixed-Number"===t){i(function(t){o.analyser(parseInt(t))})}else if("Position"===t){i(function(t){o.analyser({position:t})})}},action:"click"};else{e="&#9666&nbsp; "+t,n[e]={},n[e].action="click",n[e].style=h,n[e].handler=[];for(var l=function(i){var r=a[t][i];s={},s["&nbsp;"+r]={},s["&nbsp;"+r].handler=function(){"Minimum"===r||"Maximum"===r||"Mean"===r||"Median"===r||"Standard Deviation"===r?o.analyser(r):"Previous Dataset"===r?o.analyser({reldatasetposition:-1}):"Next Dataset"===r?o.analyser({reldatasetposition:1}):"Next"===r?o.analyser({relposition:-1}):"Previous"===r&&o.analyser({relposition:1})},s["&nbsp;"+r].action="click",s["&nbsp;"+r].style=h,n[e].handler.push(s),i!==a[t].length-1&&n[e].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})},p=0;p<a[t].length;p++)l(p)}r.push(n),r.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var u in a)c(u);return r.push({"&nbsp; &nbsp; Reset View":{handler:function(){o.analyser("reset")},action:"click",style:h}}),n.appendAsList(r),this.SymbolStore.register("ContextIcon",function(t,e,n){var i=t,o=e,r=2*n,a=Math.round(r/4),s=.7*Math.round(r/2),l=i-s,h=i+s,p=o+a,c=o-a;return["M",l,o,"L",h,o,"M",l,p,"L",h,p,"M",l,c,"L",h,c]}),e.addSymbol(n),t.addComponent(e),t},t.prototype.getLogicalSpace=function(t,e){t/=2;var n,i,o,r=0,a=0;for(i=0,o=this.toolbars.length;i<o;i++)n=this.toolbars[i].getLogicalSpace(t,e),r=Math.max(n.width,r),a+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return a+=this.padding,{width:r>t?0:r,height:a>e?0:a}},t.prototype.placeInCanvas=function(){var t=this;t.padding=5,t.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t.inline},orientation:[{type:function(t){return t.horizontal},position:[{type:function(t){return t.top},alignment:[{type:function(t){return t.right},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])},t.prototype.setDrawingConfiguration=function(t,e,n,i,o){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=i,this.parentGroup=o,this},t.prototype.draw=function(t,e,n,i,o){var r,a,s,l=this.measurement,h=this.toolbars;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,o=void 0===o?this.parentGroup:o,n&&i)for(a=0,r=h.length;a<r;a++)s=h[a],s.draw(t,e)},FusionCharts.registerComponent("extensions","GrowthAnalyserExt",t)}])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){n(this,t),this.data=e.map(function(t){return t.map(function(t){return t})}),this.Formulae=r}return i(t,[{key:"analyse",value:function(t){var e=0,n=0,i=0,o=0,r=0,a=[],s=0,l=this.data,h=[],p=[],c=0;if("string"==typeof t&&"reset"===t.toLowerCase())return l.map(function(t){return t.map(function(t){return t})});if(isNaN(t))if("string"==typeof t)for(t=this.Formulae[t],e=0,n=l.length;e<n;++e){for(p=[],s=t(l[e]),i=0,o=l[e].length;i<o;++i)r=l[e][i],c=0===s?void 0:100*(r-s)/s,p.push(c);h.push(p)}else if(isNaN(t.relposition))if(isNaN(t.position)){if(!isNaN(t.reldatasetposition))for(t=t.reldatasetposition,e=0,n=l.length;e<n;++e){for(p=[],a=e+t>=0&&e+t<n?l[e+t]:l[e],i=0,o=l[e].length;i<o;++i)s=a[i],r=l[e][i],p.push(100*(r-s)/r);h.push(p)}}else for(t=t.position,e=0,n=l.length;e<n;++e){for(p=[],i=0,o=l[e].length;i<o;++i)r=l[e][i],s=t>=0&&t<o?l[e][t]:r,p.push(100*(r-s)/s);h.push(p)}else for(t=t.relposition,e=0,n=l.length;e<n;++e){for(p=[],i=0,o=l[e].length;i<o;++i)r=l[e][i],s=i+t>=0&&i+t<o?l[e][i+t]:r,p.push(100*(r-s)/s);h.push(p)}else for(s=+t,e=0,n=l.length;e<n;++e){for(p=[],i=0,o=l[e].length;i<o;++i)r=l[e][i],p.push(100*(r-s)/s);h.push(p)}for(e=0,n=h.length;e<n;++e)for(i=0,o=h[e].length;i<o;++i)Number.isFinite(h[e][i])||(h[e][i]=null);return h}}]),t}(),r={Minimum:function(t){return t.reduce(function(t,e){return t>e?e:t})},Maximum:function(t){return t.reduce(function(t,e){return t<e?e:t})},Mean:function(t){return t.reduce(function(t,e){return t+e})/t.length},Median:function(t){return t.map(function(t){return t}).sort(function(t,e){return t-e})[t.length/2]},"Standard Deviation":function(t){function e(t){var e,n;return e=t.reduce(function(t,e){return t+e},0),n=e/t.length}var n=0,i=0,o=0,r=0,a=0,s=0;return n=e(t),i=t.map(function(t){return s=t-n,o=s*s}),r=e(i),a=Math.sqrt(r)}};t.exports=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZ3Jvd3RoLWFuYWx5c2VyLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDJjMjhkZTBmMjMwMzQyYzMyODkwIiwid2VicGFjazovLy8uL3NyYy9leHRlbnNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyb3d0aGFuYWx5c2VyLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIkdyb3d0aEFuYWx5c2VyIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJHcm93dGhBbmFseXNlckV4dCIsInRoaXMiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJyZW5kZXJDaGFuZ2UiLCJjaGFydEluc3RhbmNlIiwidHNPYmplY3QiLCJjb21wb25lbnRTdG9yZSIsImFwaUluc3RhbmNlIiwiZ2V0Q29tcG9uZW50U3RvcmUiLCJpIiwiZ2V0Q2FudmFzQnlJbmRleCIsImdldENvbXBvc2l0aW9uIiwiUGxvdE1hbmFnZXIiLCJwbG90IiwiYW5hbHlzZXIiLCJtb2RlIiwiZ2EiLCJzdG9yZSIsImNhbnZhcyIsImNvbXAiLCJnZXROYXZpZ2F0b3JCeUluZGV4IiwiZHMiLCJkYXRhc2V0IiwiaWRNYXAiLCJzdG9yZUFyIiwiblN0b3JlQXJyIiwieUF4aXMiLCJjb21wb3NpdGlvbiIsImdldFNjYWxlT2JqIiwiZ2V0SW50ZXJ2YWxPYmoiLCJnZXRDb25maWciLCJtYWpvciIsImZvcm1hdHRlciIsInZhbCIsImZvckVhY2hTZXJpZXMiLCJhIiwiYiIsInNlcmllcyIsImdldElkIiwiZ2V0T3JpZ2luYWxEYXRhIiwicHVzaCIsImxlbmd0aCIsImdBbmFseXNlciIsImFuYWx5c2UiLCJzZXREYXRhQnlTZXJpZXMiLCJzZXRPcmlnaW5hbERhdGEiLCJpbXBsIiwidXBkYXRlIiwiaW5pdCIsInJlcXVpcmUiLCJpbnN0YW5jZSIsInhBeGlzIiwiZ3JhcGhpY3MiLCJjaGFydCIsInBsb3RNYW5hZ2VyIiwiY2FudmFzQ29uZmlnIiwibWFya2VyTWFuYWdlciIsInJlYWN0aXZlTW9kZWwiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwic3BhY2VNYW5hZ2VySW5zdGFuY2UiLCJzbWFydExhYmVsIiwiY2FudmFzRGF0YSIsInN0YXJ0RHQiLCJtb2RlbCIsImVuZER0Iiwic3RhcnREYXRhc2V0IiwiZW5kRGF0YXNldCIsInRvb2xiYXJzIiwibWVhc3VyZW1lbnQiLCJjcmVhdGVUb29sYmFyIiwidG9vbGJhciIsImdyb3VwIiwiY29udGV4dE1lbnUiLCJwb3B1cCIsInNlbGYiLCJjb250ZXh0QXJyYXkiLCJnYU9wdGlvbnNPYmoiLCJwYXBlciIsImNoYXJ0Q29udGFpbmVyIiwiY29udGFpbmVyIiwic3ViQ2F0U3R5bGUiLCJmb250LXNpemUiLCJjb2xvciIsImZvbnRGYW1pbHkiLCJjYXRTdHlsZSIsImZvbnQtZmFtaWx5Iiwic2V0Q29uZmlnIiwiZmlsbCIsImJvcmRlclRoaWNrbmVzcyIsIkZpeGVkLU51bWJlciIsIkZ1bmN0aW9ucyIsIlBvc2l0aW9uIiwiRGF0YXNldCIsIlJlbGF0aXZlLVBvc2l0aW9uIiwiU3ltYm9sV2l0aENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJyYWRpdXMiLCJzeW1ib2xTdHJva2UiLCJzeW1ib2xTdHJva2VXaWR0aCIsIkdyb3d0aCBBbmFseXNlciIsInN0eWxlIiwiY2FsbGJhY2siLCJpbnB1dEZpZWxkTnVtYmVySGFuZGxlciIsImlucHV0RmllbGQiLCJlbGVtZW50IiwidmFsdWUiLCJyZXBsYWNlIiwiYm94IiwiaGVhZGVyIiwiaGVhZGVyVGV4dCIsImNyb3NzIiwiYXBwbHlCdXR0b24iLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJzdHJva2Utd2lkdGgiLCJoZWFkZXJXaWR0aCIsIngiLCJ5IiwiaHRtbCIsImF0dHIiLCJ0ZXh0IiwiZmxvYXQiLCJjdXJzb3IiLCJvbiIsImhpZGUiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfbG9vcCIsImtleSIsIm9iaiIsInN1Yk9iaiIsImhhbmRsZXIiLCJzdHIiLCJwYXJzZUludCIsImFjdGlvbiIsIl9sb29wMiIsImoiLCJzdWJNZW51TmFtZSIsInJlbGRhdGFzZXRwb3NpdGlvbiIsInJlbHBvc2l0aW9uIiwiIiwiYmFja2dyb3VuZENvbG9yIiwibWFyZ2luIiwicGFkZGluZyIsIiZuYnNwOyAmbmJzcDsgUmVzZXQgVmlldyIsImFwcGVuZEFzTGlzdCIsInBvc3giLCJwb3N5IiwicmFkIiwiciIsInNwYWNlIiwiTWF0aCIsInJvdW5kIiwiaGFsZldpZHRoIiwic3RhcnRYIiwiZW5kWCIsInN0YXJ0WSIsImVuZFkiLCJhZGRTeW1ib2wiLCJhZGRDb21wb25lbnQiLCJnZXRMb2dpY2FsU3BhY2UiLCJhdmFpbGFibGVXaWR0aCIsImF2YWlsYWJsZUhlaWdodCIsImxvZ2ljYWxTcGFjZSIsImxuIiwibWF4IiwicGxhY2VJbkNhbnZhcyIsImFkZCIsIm5hbWUiLCJyZWYiLCJwcmlvcml0eSIsImxheW91dCIsImlubGluZSIsIm9yaWVudGF0aW9uIiwidHlwZSIsImhvcml6b250YWwiLCJ0b3AiLCJhbGlnbm1lbnQiLCJyaWdodCIsImRpbWVuc2lvbnMiLCJwYXJlbnQiLCJnZXRQYXJlbnRDb21wb25lbnRHcm91cCIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0Iiwic2V0RHJhd2luZ0NvbmZpZ3VyYXRpb24iLCJtZXMiLCJwYXJlbnRHcm91cCIsImRyYXciLCJ1bmRlZmluZWQiLCJyZWdpc3RlckNvbXBvbmVudCIsIl9jbGFzc0NhbGxDaGVjayIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiZGF0YSIsIm1hcCIsIkZvcm11bGFlIiwiaWkiLCJqaiIsIm51bSIsImNoZWNrQXJyIiwiY2hlY2tOdW0iLCJkYXRhQXIiLCJuRGF0YUFyIiwidGVtcEFyIiwidGVtcCIsInRvTG93ZXJDYXNlIiwiaXNOYU4iLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIk1pbmltdW0iLCJhcnIiLCJyZWR1Y2UiLCJNYXhpbXVtIiwiTWVhbiIsIk1lZGlhbiIsInNvcnQiLCJTdGFuZGFyZCBEZXZpYXRpb24iLCJ2YWx1ZXMiLCJhdmVyYWdlIiwic3VtIiwiYXZnIiwic3F1YXJlRGlmZnMiLCJzcXJEaWZmIiwiYXZnU3F1YXJlRGlmZiIsInN0ZERldiIsImRpZmYiLCJzcXJ0Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQXFDQSxPQVRBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLEdBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHQUUvQixZRTlDRCxJQUFNVyxHQUFpQlgsRUFBUSxFQUUvQlksY0FBYUMsU0FBUyxhQUFjLFVBQVcsc0JBQXVCLFdBQ3BFLFFBQVNDLEtBQ1BDLEtBQUtDLFFBQVVKLGFBQWFLLGFBQWEsTUFBTyxX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S0FHdkJpTSxRQUFTLFNBQUNGLEdBQ1IsTUFBT0EsR0FBSUMsT0FBTyxTQUFDaE0sRUFBR0MsR0FDcEIsTUFBT0QsR0FBSUMsRUFBSUEsRUFBSUQsS0FHdkJrTSxLQUFNLFNBQUNILEdBQ0wsTUFBT0EsR0FBSUMsT0FBTyxTQUFDaE0sRUFBR0MsR0FDcEIsTUFBT0QsR0FBSUMsSUFDUjhMLEVBQUl6TCxRQUVYNkwsT0FBUSxTQUFDSixHQUNQLE1BQU9BLEdBQUloQixJQUFJLFNBQUMvSyxHQUFELE1BQU9BLEtBQUdvTSxLQUFLLFNBQUNwTSxFQUFHQyxHQUFRLE1BQU9ELEdBQUlDLElBQU04TCxFQUFJekwsT0FBUyxJQUUxRStMLHFCQUFzQixTQUFDQyxHQUNyQixRQUFTQyxHQUFTekIsR0FDaEIsR0FBSTBCLEdBQUtDLENBTVQsT0FMQUQsR0FBTTFCLEVBQUtrQixPQUFPLFNBQVVRLEVBQUs5SCxHQUMvQixNQUFPOEgsR0FBTTlILEdBQ1osR0FFSCtILEVBQU1ELEVBQU0xQixFQUFLeEssT0FHbkIsR0FBSW1NLEdBQU0sRUFDUkMsRUFBYyxFQUNkQyxFQUFVLEVBQ1ZDLEVBQWdCLEVBQ2hCQyxFQUFTLEVBQ1RDLEVBQU8sQ0FTVCxPQVJBTCxHQUFNRixFQUFRRCxHQUNkSSxFQUFjSixFQUFPdkIsSUFBSSxTQUFVckcsR0FHakMsTUFGQW9JLEdBQU9wSSxFQUFRK0gsRUFDZkUsRUFBVUcsRUFBT0EsSUFHbkJGLEVBQWdCTCxFQUFRRyxHQUN4QkcsRUFBU3JGLEtBQUt1RixLQUFLSCxJQUt2Qi9QLEdBQU9ELFFBQVVRIiwiZmlsZSI6Imdyb3d0aC1hbmFseXNlci1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgR3Jvd3RoQW5hbHlzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0RnVzaW9uQ2hhcnRzLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ3ByaXZhdGUnLCAnZ3Jvd3RoLWFuYWx5c2VyLWV4dCcsIGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBHcm93dGhBbmFseXNlckV4dCgpIHtcblx0ICAgIHRoaXMudG9vbGJveCA9IEZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG5cdCAgICB0aGlzLkhvcml6b250YWxUb29sYmFyID0gdGhpcy50b29sYm94Lkhvcml6b250YWxUb29sYmFyO1xuXHQgICAgdGhpcy5Db21wb25lbnRHcm91cCA9IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cDtcblx0ICAgIHRoaXMuU3ltYm9sU3RvcmUgPSB0aGlzLnRvb2xib3guU3ltYm9sU3RvcmU7XG5cdCAgfVxuXHQgIEdyb3d0aEFuYWx5c2VyRXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyb3d0aEFuYWx5c2VyRXh0O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUucmVuZGVyQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGNoYXJ0SW5zdGFuY2UgPSB0aGlzLnRzT2JqZWN0LmNoYXJ0SW5zdGFuY2UsXG5cdCAgICAgICAgY29tcG9uZW50U3RvcmUgPSBjaGFydEluc3RhbmNlLmFwaUluc3RhbmNlLmdldENvbXBvbmVudFN0b3JlKCksXG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICBmb3IgKGkgPSAwOyBjb21wb25lbnRTdG9yZS5nZXRDYW52YXNCeUluZGV4KGkpOyArK2kpIHtcblx0ICAgICAgY29tcG9uZW50U3RvcmUuZ2V0Q2FudmFzQnlJbmRleChpKS5nZXRDb21wb3NpdGlvbigpLlBsb3RNYW5hZ2VyLnBsb3QoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuYW5hbHlzZXIgPSBmdW5jdGlvbiAobW9kZSkge1xuXHQgICAgdmFyIGdhID0gdGhpcy5nYSB8fCB7fSxcblx0ICAgICAgICBzdG9yZSA9IHRoaXMudHNPYmplY3QuYXBpSW5zdGFuY2UuZ2V0Q29tcG9uZW50U3RvcmUoKSxcblx0ICAgICAgICBjYW52YXMgPSBzdG9yZS5nZXRDYW52YXNCeUluZGV4KDApLFxuXHQgICAgICAgIG5hdiA9IHN0b3JlLmdldE5hdmlnYXRvckJ5SW5kZXgoMCksXG5cdCAgICAgICAgY29tcCA9IGNhbnZhcy5nZXRDb21wb3NpdGlvbigpLFxuXHQgICAgICAgIGRzID0gZ2EuZHMgfHwgY29tcC5kYXRhc2V0LFxuXHQgICAgICAgIGksXG5cdCAgICAgICAgaWRNYXAgPSBnYS5pZE1hcCB8fCB7fSxcblx0ICAgICAgICBzdG9yZUFyID0gZ2Euc3RvcmVBciB8fCBbXSxcblx0ICAgICAgICBuU3RvcmVBcnIgPSBbXSxcblx0ICAgICAgICB5QXhpcyA9IGNhbnZhcy5jb21wb3NpdGlvbi55QXhpcztcblx0ICAgIC8vIENoYW5naW5nIHkgQXhpcyBmb3JtYXR0b3Jcblx0ICAgIGlmIChtb2RlID09PSAncmVzZXQnKSB7XG5cdCAgICAgIHlBeGlzLmdldFNjYWxlT2JqKCkuZ2V0SW50ZXJ2YWxPYmooKS5nZXRDb25maWcoJ2ludGVydmFscycpLm1ham9yLmZvcm1hdHRlciA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgeUF4aXMuZ2V0U2NhbGVPYmooKS5nZXRJbnRlcnZhbE9iaigpLmdldENvbmZpZygnaW50ZXJ2YWxzJykubWFqb3IuZm9ybWF0dGVyID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB2YWwgKyAnJSc7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICAvLyBEZWNsYXJhdGlvbiBlbmRzXG5cdCAgICB0aGlzLmdhID0gZ2E7XG5cdCAgICBpZiAoIWdhLnN0b3JlQXIpIHtcblx0ICAgICAgc3RvcmUgPSB7fTtcblx0ICAgICAgaWYgKCFnYS5pZE1hcCkge1xuXHQgICAgICAgIGRzLmZvckVhY2hTZXJpZXMoZnVuY3Rpb24gKGEsIGIsIGMsIHNlcmllcykge1xuXHQgICAgICAgICAgc3RvcmVbc2VyaWVzLmdldElkKCldID0gc2VyaWVzLmdldE9yaWdpbmFsRGF0YSgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGZvciAoaSBpbiBzdG9yZSkge1xuXHQgICAgICAgICAgc3RvcmVBci5wdXNoKHN0b3JlW2ldKTtcblx0ICAgICAgICAgIGlkTWFwW2ldID0gc3RvcmVBci5sZW5ndGggLSAxO1xuXHQgICAgICAgICAgLy8gPSBzdG9yZVtpXS5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIDIwICogZSArIChNYXRoLnJhbmRvbSgpICogMTAwMCk7IH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBnYS5pZE1hcCA9IGlkTWFwO1xuXHQgICAgICAgIGdhLmRzID0gZHM7XG5cdCAgICAgICAgZ2Euc3RvcmVBciA9IHN0b3JlQXI7XG5cdCAgICAgICAgZ2EuZ0FuYWx5c2VyID0gbmV3IEdyb3d0aEFuYWx5c2VyKHN0b3JlQXIpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBuU3RvcmVBcnIgPSBnYS5nQW5hbHlzZXIuYW5hbHlzZShtb2RlKTtcblx0ICAgIGRzLnNldERhdGFCeVNlcmllcyhmdW5jdGlvbiAoc2VyaWVzKSB7XG5cdCAgICAgIGlmIChuU3RvcmVBcnIubGVuZ3RoKSB7XG5cdCAgICAgICAgc2VyaWVzLnNldE9yaWdpbmFsRGF0YShuU3RvcmVBcnJbaWRNYXBbc2VyaWVzLmdldElkKCldXSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgY29tcC5pbXBsLnVwZGF0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIEdyb3d0aEFuYWx5c2VyRXh0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHJlcXVpcmUpIHtcblx0ICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cdCAgICByZXF1aXJlKFsneEF4aXMnLCAneUF4aXMnLCAnZ3JhcGhpY3MnLCAnY2hhcnQnLCAnZGF0YXNldCcsICdQbG90TWFuYWdlcicsICdjYW52YXNDb25maWcnLCAnTWFya2VyTWFuYWdlcicsICdyZWFjdGl2ZU1vZGVsJywgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLCAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLCAnc21hcnRMYWJlbCcsICdjaGFydEluc3RhbmNlJywgJ2NhbnZhc0RhdGEnLCBmdW5jdGlvbiAoeEF4aXMsIHlBeGlzLCBncmFwaGljcywgY2hhcnQsIGRhdGFzZXQsIHBsb3RNYW5hZ2VyLCBjYW52YXNDb25maWcsIG1hcmtlck1hbmFnZXIsIHJlYWN0aXZlTW9kZWwsIGdsb2JhbFJlYWN0aXZlTW9kZWwsIHNwYWNlTWFuYWdlckluc3RhbmNlLCBzbWFydExhYmVsLCBjaGFydEluc3RhbmNlLCBjYW52YXNEYXRhKSB7XG5cdCAgICAgIGluc3RhbmNlLnhBeGlzID0geEF4aXM7XG5cdCAgICAgIGluc3RhbmNlLnlBeGlzID0geUF4aXM7XG5cdCAgICAgIGluc3RhbmNlLmdyYXBoaWNzID0gZ3JhcGhpY3M7XG5cdCAgICAgIGluc3RhbmNlLmNoYXJ0ID0gY2hhcnQ7XG5cdCAgICAgIGluc3RhbmNlLmRhdGFzZXQgPSBkYXRhc2V0O1xuXHQgICAgICBpbnN0YW5jZS5wbG90TWFuYWdlciA9IHBsb3RNYW5hZ2VyO1xuXHQgICAgICBpbnN0YW5jZS5tYXJrZXJNYW5hZ2VyID0gbWFya2VyTWFuYWdlcjtcblx0ICAgICAgaW5zdGFuY2UuY2FudmFzQ29uZmlnID0gY2FudmFzQ29uZmlnO1xuXHQgICAgICBpbnN0YW5jZS5yZWFjdGl2ZU1vZGVsID0gcmVhY3RpdmVNb2RlbDtcblx0ICAgICAgaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbCA9IGdsb2JhbFJlYWN0aXZlTW9kZWw7XG5cdCAgICAgIGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlID0gc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICAgIGluc3RhbmNlLnNtYXJ0TGFiZWwgPSBzbWFydExhYmVsO1xuXHQgICAgICBpbnN0YW5jZS5jaGFydEluc3RhbmNlID0gY2hhcnRJbnN0YW5jZTtcblx0ICAgICAgaW5zdGFuY2UuY2FudmFzRGF0YSA9IGNhbnZhc0RhdGE7XG5cdCAgICB9XSk7XG5cdCAgICB0aGlzLnNwYWNlTWFuYWdlckluc3RhbmNlID0gaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsO1xuXHQgICAgdGhpcy50c09iamVjdCA9IGluc3RhbmNlLmNoYXJ0SW5zdGFuY2U7XG5cdCAgICB0aGlzLnN0YXJ0RHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuXHQgICAgdGhpcy5lbmREdCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLWVuZCddO1xuXHQgICAgdGhpcy5zdGFydERhdGFzZXQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2Utc3RhcnQnXTtcblx0ICAgIHRoaXMuZW5kRGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcblx0ICAgIHRoaXMudG9vbGJhcnMgPSBbXTtcblx0ICAgIHRoaXMubWVhc3VyZW1lbnQgPSB7fTtcblx0ICAgIHRoaXMudG9vbGJhcnMucHVzaCh0aGlzLmNyZWF0ZVRvb2xiYXIoKSk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuY3JlYXRlVG9vbGJhciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0b29sYmFyLFxuXHQgICAgICAgIGdyb3VwLFxuXHQgICAgICAgIHNlbGYgPSB0aGlzLFxuXHQgICAgICAgIGNvbnRleHRNZW51LFxuXHQgICAgICAgIGNvbnRleHRBcnJheSA9IFtdLFxuXHQgICAgICAgIGdhT3B0aW9uc09iaiA9IHt9LFxuXHQgICAgICAgIHBvcHVwLFxuXHQgICAgICAgIHBhcGVyID0gdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgICBjaGFydENvbnRhaW5lciA9IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyLFxuXHQgICAgICAgIHN1YkNhdFN0eWxlID0ge1xuXHQgICAgICAnZm9udC1zaXplJzogJzEycHgnLFxuXHQgICAgICAnY29sb3InOiAnIzY5Njk2OScsXG5cdCAgICAgICdmb250RmFtaWx5JzogJ015cmlhZCBQcm8nXG5cdCAgICB9LFxuXHQgICAgICAgIGNhdFN0eWxlID0ge1xuXHQgICAgICAnZm9udC1zaXplJzogJzEzcHgnLFxuXHQgICAgICAnY29sb3InOiAnIzY5Njk2OScsXG5cdCAgICAgICdmb250LWZhbWlseSc6ICdNeXJpYWQgUHJvIFNlbWlib2xkJ1xuXHQgICAgfTtcblx0XG5cdCAgICB0b29sYmFyID0gbmV3IHRoaXMuSG9yaXpvbnRhbFRvb2xiYXIoe1xuXHQgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG5cdCAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICB9KTtcblx0XG5cdCAgICB0b29sYmFyLnNldENvbmZpZyh7XG5cdCAgICAgIGZpbGw6ICcjZmZmJyxcblx0ICAgICAgYm9yZGVyVGhpY2tuZXNzOiAwXG5cdCAgICB9KTtcblx0XG5cdCAgICBncm91cCA9IG5ldyB0aGlzLnRvb2xib3guQ29tcG9uZW50R3JvdXAoe1xuXHQgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG5cdCAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICB9KTtcblx0XG5cdCAgICBncm91cC5zZXRDb25maWcoe1xuXHQgICAgICBmaWxsOiAnI2ZmZicsXG5cdCAgICAgIGJvcmRlclRoaWNrbmVzczogMFxuXHQgICAgfSk7XG5cdFxuXHQgICAgZ2FPcHRpb25zT2JqID0ge1xuXHQgICAgICAnRml4ZWQtTnVtYmVyJzogJ2RpYWxvZ0JveCcsXG5cdCAgICAgICdGdW5jdGlvbnMnOiBbJ01pbmltdW0nLCAnTWF4aW11bScsICdNZWFuJywgJ01lZGlhbicsICdTdGFuZGFyZCBEZXZpYXRpb24nXSxcblx0ICAgICAgJ1Bvc2l0aW9uJzogJ2RpYWxvZ0JveCcsXG5cdCAgICAgICdEYXRhc2V0JzogWydQcmV2aW91cyBEYXRhc2V0JywgJ05leHQgRGF0YXNldCddLFxuXHQgICAgICAnUmVsYXRpdmUtUG9zaXRpb24nOiBbJ05leHQnLCAnUHJldmlvdXMnXVxuXHQgICAgfTtcblx0XG5cdCAgICBjb250ZXh0TWVudSA9IG5ldyB0aGlzLnRvb2xib3guU3ltYm9sV2l0aENvbnRleHQoJ0NvbnRleHRJY29uJywge1xuXHQgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG5cdCAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICB9LCB7XG5cdCAgICAgIHdpZHRoOiAyNCxcblx0ICAgICAgaGVpZ2h0OiAyNCxcblx0ICAgICAgcG9zaXRpb246ICdyaWdodCcsXG5cdCAgICAgIHN0cm9rZTogJyNjZWQ1ZDQnLFxuXHQgICAgICBzdHJva2VXaWR0aDogJzEnLFxuXHQgICAgICByYWRpdXM6ICcxJyxcblx0ICAgICAgc3ltYm9sU3Ryb2tlOiAnIzY5Njk2OScsXG5cdCAgICAgIHN5bWJvbFN0cm9rZVdpZHRoOiAnMidcblx0ICAgIH0pO1xuXHRcblx0ICAgIGNvbnRleHRBcnJheS5wdXNoKHtcblx0ICAgICAgJ0dyb3d0aCBBbmFseXNlcic6IHtcblx0ICAgICAgICBzdHlsZTogY2F0U3R5bGVcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBwb3B1cCA9IGZ1bmN0aW9uIHBvcHVwKGNhbGxiYWNrKSB7XG5cdCAgICAgIHZhciBib3gsXG5cdCAgICAgICAgICBoZWFkZXIsXG5cdCAgICAgICAgICBzdHlsZSA9IHtcblx0ICAgICAgICBmb250U2l6ZTogMTAgKyAncHgnLFxuXHQgICAgICAgIGxpbmVIZWlnaHQ6IDE1ICsgJ3B4Jyxcblx0ICAgICAgICBmb250RmFtaWx5OiAnTHVjaWRhIEdyYW5kZScsXG5cdCAgICAgICAgc3Ryb2tlOiAnIzY3Njc2NycsXG5cdCAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcyJ1xuXHQgICAgICB9LFxuXHQgICAgICAgICAgaGVhZGVyV2lkdGggPSAxODAsXG5cdCAgICAgICAgICBoZWFkZXJUZXh0LFxuXHQgICAgICAgICAgY3Jvc3MsXG5cdCAgICAgICAgICBpbnB1dEZpZWxkLFxuXHQgICAgICAgICAgYXBwbHlCdXR0b24sXG5cdCAgICAgICAgICB4ID0gNTAwLFxuXHQgICAgICAgICAgeSA9IDEwMDtcblx0XG5cdCAgICAgIGJveCA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcblx0ICAgICAgICBmaWxsOiAnI2Y3ZjdmNycsXG5cdCAgICAgICAgeDogeCAtIDIwMCxcblx0ICAgICAgICB5OiB5ICsgMTAwLFxuXHQgICAgICAgIHdpZHRoOiAxODAsXG5cdCAgICAgICAgaGVpZ2h0OiA4MFxuXHQgICAgICB9LCBzdHlsZSwgY2hhcnRDb250YWluZXIpO1xuXHRcblx0ICAgICAgaGVhZGVyID0gcGFwZXIuaHRtbCgnZGl2Jywge1xuXHQgICAgICAgIGZpbGw6ICcjZThlOGU4Jyxcblx0ICAgICAgICB3aWR0aDogaGVhZGVyV2lkdGgsXG5cdCAgICAgICAgaGVpZ2h0OiAyMFxuXHQgICAgICB9LCBzdHlsZSwgYm94KTtcblx0XG5cdCAgICAgIGhlYWRlclRleHQgPSBwYXBlci5odG1sKCdkaXYnLCB7XG5cdCAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50Jyxcblx0ICAgICAgICB3aWR0aDogaGVhZGVyV2lkdGggKiAwLjYsXG5cdCAgICAgICAgaGVpZ2h0OiAyMCxcblx0ICAgICAgICB4OiAxMCxcblx0ICAgICAgICB5OiAyXG5cdCAgICAgIH0sIHN0eWxlLCBoZWFkZXIpO1xuXHRcblx0ICAgICAgaGVhZGVyVGV4dC5hdHRyKHtcblx0ICAgICAgICB0ZXh0OiAnUHJvdmlkZSBTcGVjaWZpYyBWYWx1ZSdcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBjcm9zcyA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcblx0ICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuXHQgICAgICAgIHdpZHRoOiAxMCxcblx0ICAgICAgICBoZWlnaHQ6IDEwLFxuXHQgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXHQgICAgICAgIGZsb2F0OiAncmlnaHQnLFxuXHQgICAgICAgIHRleHQ6ICdYJyxcblx0ICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuXHQgICAgICB9LCBzdHlsZSwgaGVhZGVyKTtcblx0XG5cdCAgICAgIGNyb3NzLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBib3guaGlkZSgpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGlucHV0RmllbGQgPSBwYXBlci5odG1sKCdpbnB1dCcsIHtcblx0ICAgICAgICB3aWR0aDogMTAwLFxuXHQgICAgICAgIGhlaWdodDogMjAsXG5cdCAgICAgICAgeDogMTAsXG5cdCAgICAgICAgeTogMzBcblx0ICAgICAgfSwgc3R5bGUsIGJveCk7XG5cdFxuXHQgICAgICBhcHBseUJ1dHRvbiA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcblx0ICAgICAgICB3aWR0aDogNTAsXG5cdCAgICAgICAgaGVpZ2h0OiAyMCxcblx0ICAgICAgICB4OiAxMjAsXG5cdCAgICAgICAgeTogMzAsXG5cdCAgICAgICAgZmlsbDogJyM1NTU1NTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICBmb250U2l6ZTogMTAgKyAncHgnLFxuXHQgICAgICAgIGxpbmVIZWlnaHQ6IDE1ICsgJ3B4Jyxcblx0ICAgICAgICBmb250RmFtaWx5OiAnTHVjaWRhIEdyYW5kZScsXG5cdCAgICAgICAgZmlsbDogJyNlYWVhZWEnLFxuXHQgICAgICAgIGNvbG9yOiAnI2VhZWFlYScsXG5cdCAgICAgICAgc3Ryb2tlOiAnI2VhZWFlYScsXG5cdCAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcblx0ICAgICAgfSwgYm94KTtcblx0XG5cdCAgICAgIGFwcGx5QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBib3guaGlkZSgpO1xuXHQgICAgICAgIGNhbGxiYWNrKGlucHV0RmllbGQudmFsKCkpO1xuXHQgICAgICB9KTtcblx0ICAgICAgYXBwbHlCdXR0b24uYXR0cih7XG5cdCAgICAgICAgdGV4dDogJ0FwcGx5J1xuXHQgICAgICB9KTtcblx0ICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LmZvY3VzKCk7XG5cdCAgICAgIGZ1bmN0aW9uIGlucHV0RmllbGROdW1iZXJIYW5kbGVyKCkge1xuXHQgICAgICAgIGlucHV0RmllbGQuZWxlbWVudC52YWx1ZSA9IGlucHV0RmllbGQuZWxlbWVudC52YWx1ZS5yZXBsYWNlKC9bXlxcZC4tXS9nLCAnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaW5wdXRGaWVsZE51bWJlckhhbmRsZXIpO1xuXHQgICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydwb3NpdGlvbiddID0gJ3JlbGF0aXZlJztcblx0ICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnYmFja2dyb3VuZENvbG9yJ10gPSAnI2QyZDJkMic7XG5cdCAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzJweCBzb2xpZCAjY2JjYmNiJztcblx0ICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsncGFkZGluZyddID0gJzBweCAwcHggMy41cHggMnB4Jztcblx0ICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnY29sb3InXSA9ICcjOGM4YzhjJztcblx0ICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnbWFyZ2luJ10gPSAnMXB4IDJweCc7XG5cdCAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2Zsb2F0J10gPSAncmlnaHQnO1xuXHQgICAgICBpbnB1dEZpZWxkLmVsZW1lbnQuc3R5bGVbJ21hcmdpblRvcCddID0gJzhweCc7XG5cdCAgICAgIGlucHV0RmllbGQuZWxlbWVudC5zdHlsZVsnYm9yZGVyJ10gPSAnMnB4IHNvbGlkICNkYWRiZGEnO1xuXHQgICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydtYXJnaW5Ub3AnXSA9ICc4cHgnO1xuXHQgICAgICBib3guZWxlbWVudC5zdHlsZVsnYm9yZGVyJ10gPSAnMXB4IHNvbGlkICNkNGQyZDMnO1xuXHQgICAgICBoZWFkZXIuZWxlbWVudC5zdHlsZVsnYm9yZGVyJ10gPSAnMXB4IHNvbGlkICNkNGQyZDMnO1xuXHQgICAgICBoZWFkZXIuZWxlbWVudC5zdHlsZVsnd2lkdGgnXSA9ICcxNzlweCc7XG5cdCAgICAgIGhlYWRlclRleHQuZWxlbWVudC5zdHlsZVsnZm9udFNpemUnXSA9ICcxMS41cHgnO1xuXHQgICAgICBoZWFkZXJUZXh0LmVsZW1lbnQuc3R5bGVbJ21hcmdpblRvcCddID0gJzAuNXB4Jztcblx0ICAgICAgaGVhZGVyVGV4dC5lbGVtZW50LnN0eWxlWydjb2xvciddID0gJyM2NzY3NjcnO1xuXHQgICAgICBoZWFkZXIuZWxlbWVudC5zdHlsZVsnZm9udEZhbWlseSddID0gJ015cmlhZCBwcm8gU2VtaWJvbGQnO1xuXHQgICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWyd0ZXh0QWxpZ24nXSA9ICdjZW50ZXInO1xuXHQgICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydmb250U2l6ZSddID0gJzExcHgnO1xuXHQgICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydwYWRkaW5nVG9wJ10gPSAnM3B4Jztcblx0ICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsnYm9yZGVyUmFkaXVzJ10gPSAnM3B4Jztcblx0ICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsnY29sb3InXSA9ICcjZTRlNGU0Jztcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuXHQgICAgICB2YXIga2V5ID0gdm9pZCAwLFxuXHQgICAgICAgICAgb2JqID0ge30sXG5cdCAgICAgICAgICBzdWJPYmogPSB7fTtcblx0ICAgICAgaWYgKGdhT3B0aW9uc09ialtpXSA9PT0gJ2RpYWxvZ0JveCcpIHtcblx0ICAgICAgICBrZXkgPSAnJm5ic3A7ICZuYnNwOyAnICsgaTtcblx0ICAgICAgICBvYmpba2V5XSA9IHt9O1xuXHQgICAgICAgIG9ialtrZXldID0ge1xuXHQgICAgICAgICAgc3R5bGU6IHN1YkNhdFN0eWxlLFxuXHQgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHtcblx0ICAgICAgICAgICAgLy8gbGV0IHBvcHVwVmFsID0gcG9wdXAoZnVuY3Rpb24gKHN0cikge1xuXHQgICAgICAgICAgICAvLyAgIHNlbGYuYW5hbHlzZXIocGFyc2VJbnQoc3RyKSk7XG5cdCAgICAgICAgICAgIC8vIH0pO1xuXHQgICAgICAgICAgICBpZiAoaSA9PT0gJ0ZpeGVkLU51bWJlcicpIHtcblx0ICAgICAgICAgICAgICAvLyBzZWxmLmFuYWx5c2VyKHBhcnNlSW50KHdpbmRvdy5wcm9tcHQoJ0VudGVyIHZhbHVlJykpKTtcblx0ICAgICAgICAgICAgICB2YXIgcG9wdXBWYWwgPSBwb3B1cChmdW5jdGlvbiAoc3RyKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHBhcnNlSW50KHN0cikpO1xuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09ICdQb3NpdGlvbicpIHtcblx0ICAgICAgICAgICAgICB2YXIgX3BvcHVwVmFsID0gcG9wdXAoZnVuY3Rpb24gKHN0cikge1xuXHQgICAgICAgICAgICAgICAgc2VsZi5hbmFseXNlcih7IHBvc2l0aW9uOiBzdHIgfSk7XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBhY3Rpb246ICdjbGljaydcblx0ICAgICAgICB9O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGtleSA9ICcmIzk2NjYmbmJzcDsgJyArIGk7XG5cdCAgICAgICAgb2JqW2tleV0gPSB7fTtcblx0ICAgICAgICBvYmpba2V5XS5hY3Rpb24gPSAnY2xpY2snO1xuXHQgICAgICAgIG9ialtrZXldLnN0eWxlID0gc3ViQ2F0U3R5bGU7XG5cdCAgICAgICAgb2JqW2tleV0uaGFuZGxlciA9IFtdO1xuXHRcblx0ICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKGopIHtcblx0ICAgICAgICAgIHZhciBzdWJNZW51TmFtZSA9IGdhT3B0aW9uc09ialtpXVtqXTtcblx0ICAgICAgICAgIHN1Yk9iaiA9IHt9O1xuXHQgICAgICAgICAgc3ViT2JqWycmbmJzcDsnICsgc3ViTWVudU5hbWVdID0ge307XG5cdCAgICAgICAgICBzdWJPYmpbJyZuYnNwOycgKyBzdWJNZW51TmFtZV0uaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gWydNaW5pbXVtJywgJ01heGltdW0nLCAnTWVhbicsICdNZWRpYW4nLCAnU3RhbmRhcmQgRGV2aWF0aW9uJ11cblx0ICAgICAgICAgICAgLy8gWydQcmV2aW91cyBEYXRhc2V0JywgJ05leHQgRGF0YXNldCddXG5cdCAgICAgICAgICAgIC8vIFsnTmV4dCcsICdQcmV2aW91cyddXG5cdCAgICAgICAgICAgIGlmIChzdWJNZW51TmFtZSA9PT0gJ01pbmltdW0nIHx8IHN1Yk1lbnVOYW1lID09PSAnTWF4aW11bScgfHwgc3ViTWVudU5hbWUgPT09ICdNZWFuJyB8fCBzdWJNZW51TmFtZSA9PT0gJ01lZGlhbicgfHwgc3ViTWVudU5hbWUgPT09ICdTdGFuZGFyZCBEZXZpYXRpb24nKSB7XG5cdCAgICAgICAgICAgICAgc2VsZi5hbmFseXNlcihzdWJNZW51TmFtZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdQcmV2aW91cyBEYXRhc2V0Jykge1xuXHQgICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoeyByZWxkYXRhc2V0cG9zaXRpb246IC0xIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Yk1lbnVOYW1lID09PSAnTmV4dCBEYXRhc2V0Jykge1xuXHQgICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoeyByZWxkYXRhc2V0cG9zaXRpb246IDEgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdOZXh0Jykge1xuXHQgICAgICAgICAgICAgIHNlbGYuYW5hbHlzZXIoeyByZWxwb3NpdGlvbjogLTEgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdQcmV2aW91cycpIHtcblx0ICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHsgcmVscG9zaXRpb246IDEgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgICBzdWJPYmpbJyZuYnNwOycgKyBzdWJNZW51TmFtZV0uYWN0aW9uID0gJ2NsaWNrJztcblx0ICAgICAgICAgIHN1Yk9ialsnJm5ic3A7JyArIHN1Yk1lbnVOYW1lXS5zdHlsZSA9IHN1YkNhdFN0eWxlO1xuXHQgICAgICAgICAgb2JqW2tleV0uaGFuZGxlci5wdXNoKHN1Yk9iaik7XG5cdCAgICAgICAgICBpZiAoaiAhPT0gZ2FPcHRpb25zT2JqW2ldLmxlbmd0aCAtIDEpIHtcblx0ICAgICAgICAgICAgb2JqW2tleV0uaGFuZGxlci5wdXNoKHtcblx0ICAgICAgICAgICAgICAnJzoge1xuXHQgICAgICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Q1ZDJkMicsXG5cdCAgICAgICAgICAgICAgICAgIGhlaWdodDogJzFweCcsXG5cdCAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzFweCcsXG5cdCAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdhT3B0aW9uc09ialtpXS5sZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgX2xvb3AyKGopO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBjb250ZXh0QXJyYXkucHVzaChvYmopO1xuXHQgICAgICBjb250ZXh0QXJyYXkucHVzaCh7XG5cdCAgICAgICAgJyc6IHtcblx0ICAgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNkNWQyZDInLFxuXHQgICAgICAgICAgICBoZWlnaHQ6ICcxcHgnLFxuXHQgICAgICAgICAgICBtYXJnaW46ICcxcHgnLFxuXHQgICAgICAgICAgICBwYWRkaW5nOiAnMHB4J1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIGZvciAodmFyIGkgaW4gZ2FPcHRpb25zT2JqKSB7XG5cdCAgICAgIF9sb29wKGkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbnRleHRBcnJheS5wdXNoKHtcblx0ICAgICAgJyZuYnNwOyAmbmJzcDsgUmVzZXQgVmlldyc6IHtcblx0ICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkge1xuXHQgICAgICAgICAgc2VsZi5hbmFseXNlcigncmVzZXQnKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGFjdGlvbjogJ2NsaWNrJyxcblx0ICAgICAgICBzdHlsZTogc3ViQ2F0U3R5bGVcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgY29udGV4dE1lbnUuYXBwZW5kQXNMaXN0KGNvbnRleHRBcnJheSk7XG5cdFxuXHQgICAgdGhpcy5TeW1ib2xTdG9yZS5yZWdpc3RlcignQ29udGV4dEljb24nLCBmdW5jdGlvbiAocG9zeCwgcG9zeSwgcmFkKSB7XG5cdCAgICAgIHZhciB4ID0gcG9zeCxcblx0ICAgICAgICAgIHkgPSBwb3N5LFxuXHQgICAgICAgICAgciA9IHJhZCAqIDIsXG5cdCAgICAgICAgICBzcGFjZSA9IE1hdGgucm91bmQociAvIDQpLFxuXHQgICAgICAgICAgaGFsZldpZHRoID0gTWF0aC5yb3VuZChyIC8gMikgKiAwLjcsXG5cdCAgICAgICAgICBzdGFydFggPSB4IC0gaGFsZldpZHRoLFxuXHQgICAgICAgICAgZW5kWCA9IHggKyBoYWxmV2lkdGgsXG5cdCAgICAgICAgICBzdGFydFkgPSB5ICsgc3BhY2UsXG5cdCAgICAgICAgICBlbmRZID0geSAtIHNwYWNlO1xuXHQgICAgICByZXR1cm4gWydNJywgc3RhcnRYLCB5LCAnTCcsIGVuZFgsIHksICdNJywgc3RhcnRYLCBzdGFydFksICdMJywgZW5kWCwgc3RhcnRZLCAnTScsIHN0YXJ0WCwgZW5kWSwgJ0wnLCBlbmRYLCBlbmRZXTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGdyb3VwLmFkZFN5bWJvbChjb250ZXh0TWVudSk7XG5cdCAgICB0b29sYmFyLmFkZENvbXBvbmVudChncm91cCk7XG5cdCAgICByZXR1cm4gdG9vbGJhcjtcblx0ICB9O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuZ2V0TG9naWNhbFNwYWNlID0gZnVuY3Rpb24gKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpIHtcblx0ICAgIGF2YWlsYWJsZVdpZHRoIC89IDI7XG5cdCAgICB2YXIgbG9naWNhbFNwYWNlLFxuXHQgICAgICAgIHdpZHRoID0gMCxcblx0ICAgICAgICBoZWlnaHQgPSAwLFxuXHQgICAgICAgIGksXG5cdCAgICAgICAgbG47XG5cdFxuXHQgICAgZm9yIChpID0gMCwgbG4gPSB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0ICAgICAgbG9naWNhbFNwYWNlID0gdGhpcy50b29sYmFyc1tpXS5nZXRMb2dpY2FsU3BhY2UoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCk7XG5cdCAgICAgIHdpZHRoID0gTWF0aC5tYXgobG9naWNhbFNwYWNlLndpZHRoLCB3aWR0aCk7XG5cdCAgICAgIGhlaWdodCArPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuXHQgICAgICB0aGlzLnRvb2xiYXJzW2ldLndpZHRoID0gbG9naWNhbFNwYWNlLndpZHRoO1xuXHQgICAgICB0aGlzLnRvb2xiYXJzW2ldLmhlaWdodCA9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG5cdCAgICB9XG5cdCAgICBoZWlnaHQgKz0gdGhpcy5wYWRkaW5nO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgd2lkdGg6IHdpZHRoID4gYXZhaWxhYmxlV2lkdGggPyAwIDogd2lkdGgsXG5cdCAgICAgIGhlaWdodDogaGVpZ2h0ID4gYXZhaWxhYmxlSGVpZ2h0ID8gMCA6IGhlaWdodFxuXHQgICAgfTtcblx0ICB9O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUucGxhY2VJbkNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cdCAgICBfc2VsZi5wYWRkaW5nID0gNTtcblx0ICAgIF9zZWxmLnNwYWNlTWFuYWdlckluc3RhbmNlLmFkZChbe1xuXHQgICAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKCkge1xuXHQgICAgICAgIHJldHVybiAnVG9vbEJveEV4dCc7XG5cdCAgICAgIH0sXG5cdCAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmpbJzAnXTtcblx0ICAgICAgfSxcblx0ICAgICAgc2VsZjogZnVuY3Rpb24gc2VsZigpIHtcblx0ICAgICAgICByZXR1cm4gX3NlbGY7XG5cdCAgICAgIH0sXG5cdCAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiBwcmlvcml0eSgpIHtcblx0ICAgICAgICByZXR1cm4gMjtcblx0ICAgICAgfSxcblx0ICAgICAgbGF5b3V0OiBmdW5jdGlvbiBsYXlvdXQob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIG9iai5pbmxpbmU7XG5cdCAgICAgIH0sXG5cdCAgICAgIG9yaWVudGF0aW9uOiBbe1xuXHQgICAgICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICAgICAgICByZXR1cm4gb2JqLmhvcml6b250YWw7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwb3NpdGlvbjogW3tcblx0ICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmoudG9wO1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGFsaWdubWVudDogW3tcblx0ICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShvYmopIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gb2JqLnJpZ2h0O1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBkaW1lbnNpb25zOiBbZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9zZWxmLmdldExvZ2ljYWxTcGFjZShwYXJlbnQuZ2V0V2lkdGgoKSwgcGFyZW50LmdldEhlaWdodCgpKTtcblx0ICAgICAgICAgICAgfV1cblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfV1cblx0ICAgICAgfV1cblx0ICAgIH1dKTtcblx0ICB9O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuc2V0RHJhd2luZ0NvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcblx0ICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuXHQgICAgbWVzLnggPSB4O1xuXHQgICAgbWVzLnkgPSB5O1xuXHQgICAgbWVzLndpZHRoID0gd2lkdGg7XG5cdCAgICBtZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcblx0ICAgIHRoaXMucGFyZW50R3JvdXAgPSBncm91cDtcblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuXHQgICAgdmFyIG1lYXN1cmVtZW50ID0gdGhpcy5tZWFzdXJlbWVudCxcblx0ICAgICAgICB0b29sYmFycyA9IHRoaXMudG9vbGJhcnMsXG5cdCAgICAgICAgbG4sXG5cdCAgICAgICAgaSxcblx0ICAgICAgICB0b29sYmFyO1xuXHQgICAgeCA9IHggPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnggOiB4O1xuXHQgICAgeSA9IHkgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnkgOiB5O1xuXHQgICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcblx0ICAgIGhlaWdodCA9IGhlaWdodCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQuaGVpZ2h0IDogaGVpZ2h0O1xuXHQgICAgZ3JvdXAgPSBncm91cCA9PT0gdW5kZWZpbmVkID8gdGhpcy5wYXJlbnRHcm91cCA6IGdyb3VwO1xuXHQgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuXHQgICAgICBmb3IgKGkgPSAwLCBsbiA9IHRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0ICAgICAgICB0b29sYmFyID0gdG9vbGJhcnNbaV07XG5cdCAgICAgICAgdG9vbGJhci5kcmF3KHgsIHkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgRnVzaW9uQ2hhcnRzLnJlZ2lzdGVyQ29tcG9uZW50KCdleHRlbnNpb25zJywgJ0dyb3d0aEFuYWx5c2VyRXh0JywgR3Jvd3RoQW5hbHlzZXJFeHQpO1xuXHR9XSk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBHcm93dGhBbmFseXNlciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBHcm93dGhBbmFseXNlcihkYXRhKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3Jvd3RoQW5hbHlzZXIpO1xuXHRcblx0ICAgIHRoaXMuZGF0YSA9IGRhdGEubWFwKGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiBhLm1hcChmdW5jdGlvbiAoYikge1xuXHQgICAgICAgIHJldHVybiBiO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgICAgdGhpcy5Gb3JtdWxhZSA9IEZvcm11bGFlO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKEdyb3d0aEFuYWx5c2VyLCBbe1xuXHQgICAga2V5OiAnYW5hbHlzZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYW5hbHlzZShtb2RlKSB7XG5cdCAgICAgIHZhciBpID0gMCxcblx0ICAgICAgICAgIGlpID0gMCxcblx0ICAgICAgICAgIGogPSAwLFxuXHQgICAgICAgICAgamogPSAwLFxuXHQgICAgICAgICAgbnVtID0gMCxcblx0ICAgICAgICAgIGNoZWNrQXJyID0gW10sXG5cdCAgICAgICAgICBjaGVja051bSA9IDAsXG5cdCAgICAgICAgICBkYXRhQXIgPSB0aGlzLmRhdGEsXG5cdCAgICAgICAgICBuRGF0YUFyID0gW10sXG5cdCAgICAgICAgICB0ZW1wQXIgPSBbXSxcblx0ICAgICAgICAgIHRlbXAgPSAwO1xuXHQgICAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmIG1vZGUudG9Mb3dlckNhc2UoKSA9PT0gJ3Jlc2V0Jykge1xuXHQgICAgICAgIHJldHVybiBkYXRhQXIubWFwKGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICByZXR1cm4gYS5tYXAoZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGI7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIGlmICghaXNOYU4obW9kZSkpIHtcblx0ICAgICAgICAvLyBIYW5kbGluZyBhIG51bWJlclxuXHQgICAgICAgIGNoZWNrTnVtID0gK21vZGU7XG5cdCAgICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuXHQgICAgICAgICAgdGVtcEFyID0gW107XG5cdCAgICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG5cdCAgICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcblx0ICAgICAgICAgICAgdGVtcEFyLnB1c2goMTAwICogKG51bSAtIGNoZWNrTnVtKSAvIGNoZWNrTnVtKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBtb2RlID0gdGhpcy5Gb3JtdWxhZVttb2RlXTtcblx0ICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGRhdGFBci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG5cdCAgICAgICAgICB0ZW1wQXIgPSBbXTtcblx0ICAgICAgICAgIGNoZWNrTnVtID0gbW9kZShkYXRhQXJbaV0pO1xuXHQgICAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuXHQgICAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG5cdCAgICAgICAgICAgIGlmIChjaGVja051bSA9PT0gMCkge1xuXHQgICAgICAgICAgICAgIHRlbXAgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgdGVtcCA9IDEwMCAqIChudW0gLSBjaGVja051bSkgLyBjaGVja051bTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0ZW1wQXIucHVzaCh0ZW1wKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICghaXNOYU4obW9kZS5yZWxwb3NpdGlvbikpIHtcblx0ICAgICAgICBtb2RlID0gbW9kZS5yZWxwb3NpdGlvbjtcblx0ICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGRhdGFBci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG5cdCAgICAgICAgICB0ZW1wQXIgPSBbXTtcblx0ICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcblx0ICAgICAgICAgICAgbnVtID0gZGF0YUFyW2ldW2pdO1xuXHQgICAgICAgICAgICBpZiAoaiArIG1vZGUgPj0gMCAmJiBqICsgbW9kZSA8IGpqKSB7XG5cdCAgICAgICAgICAgICAgY2hlY2tOdW0gPSBkYXRhQXJbaV1baiArIG1vZGVdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGNoZWNrTnVtID0gbnVtO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRlbXBBci5wdXNoKDEwMCAqIChudW0gLSBjaGVja051bSkgLyBjaGVja051bSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKG1vZGUucG9zaXRpb24pKSB7XG5cdCAgICAgICAgbW9kZSA9IG1vZGUucG9zaXRpb247XG5cdCAgICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuXHQgICAgICAgICAgdGVtcEFyID0gW107XG5cdCAgICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG5cdCAgICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcblx0ICAgICAgICAgICAgaWYgKG1vZGUgPj0gMCAmJiBtb2RlIDwgamopIHtcblx0ICAgICAgICAgICAgICBjaGVja051bSA9IGRhdGFBcltpXVttb2RlXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBjaGVja051bSA9IG51bTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0ZW1wQXIucHVzaCgxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gY2hlY2tOdW0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgbkRhdGFBci5wdXNoKHRlbXBBcik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKCFpc05hTihtb2RlLnJlbGRhdGFzZXRwb3NpdGlvbikpIHtcblx0ICAgICAgICBtb2RlID0gbW9kZS5yZWxkYXRhc2V0cG9zaXRpb247XG5cdCAgICAgICAgZm9yIChpID0gMCwgaWkgPSBkYXRhQXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuXHQgICAgICAgICAgdGVtcEFyID0gW107XG5cdCAgICAgICAgICBpZiAoaSArIG1vZGUgPj0gMCAmJiBpICsgbW9kZSA8IGlpKSB7XG5cdCAgICAgICAgICAgIGNoZWNrQXJyID0gZGF0YUFyW2kgKyBtb2RlXTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNoZWNrQXJyID0gZGF0YUFyW2ldO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuXHQgICAgICAgICAgICBjaGVja051bSA9IGNoZWNrQXJyW2pdO1xuXHQgICAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG5cdCAgICAgICAgICAgIHRlbXBBci5wdXNoKDEwMCAqIChudW0gLSBjaGVja051bSkgLyBudW0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgbkRhdGFBci5wdXNoKHRlbXBBcik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGZvciAoaSA9IDAsIGlpID0gbkRhdGFBci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG5cdCAgICAgICAgZm9yIChqID0gMCwgamogPSBuRGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcblx0ICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKG5EYXRhQXJbaV1bal0pKSB7XG5cdCAgICAgICAgICAgIG5EYXRhQXJbaV1bal0gPSBudWxsO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbkRhdGFBcjtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBHcm93dGhBbmFseXNlcjtcblx0fSgpO1xuXHRcblx0dmFyIEZvcm11bGFlID0ge1xuXHQgIE1pbmltdW06IGZ1bmN0aW9uIE1pbmltdW0oYXJyKSB7XG5cdCAgICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICByZXR1cm4gYSA+IGIgPyBiIDogYTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgTWF4aW11bTogZnVuY3Rpb24gTWF4aW11bShhcnIpIHtcblx0ICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIHJldHVybiBhIDwgYiA/IGIgOiBhO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBNZWFuOiBmdW5jdGlvbiBNZWFuKGFycikge1xuXHQgICAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgcmV0dXJuIGEgKyBiO1xuXHQgICAgfSkgLyBhcnIubGVuZ3RoO1xuXHQgIH0sXG5cdCAgTWVkaWFuOiBmdW5jdGlvbiBNZWRpYW4oYXJyKSB7XG5cdCAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gYTtcblx0ICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgcmV0dXJuIGEgLSBiO1xuXHQgICAgfSlbYXJyLmxlbmd0aCAvIDJdO1xuXHQgIH0sXG5cdCAgJ1N0YW5kYXJkIERldmlhdGlvbic6IGZ1bmN0aW9uIFN0YW5kYXJkRGV2aWF0aW9uKHZhbHVlcykge1xuXHQgICAgZnVuY3Rpb24gYXZlcmFnZShkYXRhKSB7XG5cdCAgICAgIHZhciBzdW0sIGF2Zztcblx0ICAgICAgc3VtID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgdmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gc3VtICsgdmFsdWU7XG5cdCAgICAgIH0sIDApO1xuXHRcblx0ICAgICAgYXZnID0gc3VtIC8gZGF0YS5sZW5ndGg7XG5cdCAgICAgIHJldHVybiBhdmc7XG5cdCAgICB9XG5cdCAgICB2YXIgYXZnID0gMCxcblx0ICAgICAgICBzcXVhcmVEaWZmcyA9IDAsXG5cdCAgICAgICAgc3FyRGlmZiA9IDAsXG5cdCAgICAgICAgYXZnU3F1YXJlRGlmZiA9IDAsXG5cdCAgICAgICAgc3RkRGV2ID0gMCxcblx0ICAgICAgICBkaWZmID0gMDtcblx0ICAgIGF2ZyA9IGF2ZXJhZ2UodmFsdWVzKTtcblx0ICAgIHNxdWFyZURpZmZzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgZGlmZiA9IHZhbHVlIC0gYXZnO1xuXHQgICAgICBzcXJEaWZmID0gZGlmZiAqIGRpZmY7XG5cdCAgICAgIHJldHVybiBzcXJEaWZmO1xuXHQgICAgfSk7XG5cdCAgICBhdmdTcXVhcmVEaWZmID0gYXZlcmFnZShzcXVhcmVEaWZmcyk7XG5cdCAgICBzdGREZXYgPSBNYXRoLnNxcnQoYXZnU3F1YXJlRGlmZik7XG5cdCAgICByZXR1cm4gc3RkRGV2O1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gR3Jvd3RoQW5hbHlzZXI7XG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBncm93dGgtYW5hbHlzZXItZXM1Lm1pbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDJjMjhkZTBmMjMwMzQyYzMyODkwIiwiY29uc3QgR3Jvd3RoQW5hbHlzZXIgPSByZXF1aXJlKCcuL2dyb3d0aGFuYWx5c2VyJyk7XG5cbkZ1c2lvbkNoYXJ0cy5yZWdpc3RlcignZXh0ZW5zaW9uJywgWydwcml2YXRlJywgJ2dyb3d0aC1hbmFseXNlci1leHQnLCBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdyb3d0aEFuYWx5c2VyRXh0ICgpIHtcbiAgICB0aGlzLnRvb2xib3ggPSBGdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuICAgIHRoaXMuSG9yaXpvbnRhbFRvb2xiYXIgPSB0aGlzLnRvb2xib3guSG9yaXpvbnRhbFRvb2xiYXI7XG4gICAgdGhpcy5Db21wb25lbnRHcm91cCA9IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cDtcbiAgICB0aGlzLlN5bWJvbFN0b3JlID0gdGhpcy50b29sYm94LlN5bWJvbFN0b3JlO1xuICB9XG4gIEdyb3d0aEFuYWx5c2VyRXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyb3d0aEFuYWx5c2VyRXh0O1xuXG4gIEdyb3d0aEFuYWx5c2VyRXh0LnByb3RvdHlwZS5yZW5kZXJDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNoYXJ0SW5zdGFuY2UgPSB0aGlzLnRzT2JqZWN0LmNoYXJ0SW5zdGFuY2UsXG4gICAgICBjb21wb25lbnRTdG9yZSA9IGNoYXJ0SW5zdGFuY2UuYXBpSW5zdGFuY2UuZ2V0Q29tcG9uZW50U3RvcmUoKSxcbiAgICAgIGkgPSAwO1xuICAgIGZvciAoaSA9IDA7IGNvbXBvbmVudFN0b3JlLmdldENhbnZhc0J5SW5kZXgoaSk7ICsraSkge1xuICAgICAgY29tcG9uZW50U3RvcmUuZ2V0Q2FudmFzQnlJbmRleChpKS5nZXRDb21wb3NpdGlvbigpLlBsb3RNYW5hZ2VyLnBsb3QoKTtcbiAgICB9XG4gIH07XG5cbiAgR3Jvd3RoQW5hbHlzZXJFeHQucHJvdG90eXBlLmFuYWx5c2VyID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICB2YXIgZ2EgPSB0aGlzLmdhIHx8IHt9LFxuICAgICAgc3RvcmUgPSB0aGlzLnRzT2JqZWN0LmFwaUluc3RhbmNlLmdldENvbXBvbmVudFN0b3JlKCksXG4gICAgICBjYW52YXMgPSBzdG9yZS5nZXRDYW52YXNCeUluZGV4KDApLFxuICAgICAgbmF2ID0gc3RvcmUuZ2V0TmF2aWdhdG9yQnlJbmRleCgwKSxcbiAgICAgIGNvbXAgPSBjYW52YXMuZ2V0Q29tcG9zaXRpb24oKSxcbiAgICAgIGRzID0gZ2EuZHMgfHwgY29tcC5kYXRhc2V0LFxuICAgICAgaSxcbiAgICAgIGlkTWFwID0gZ2EuaWRNYXAgfHwge30sXG4gICAgICBzdG9yZUFyID0gZ2Euc3RvcmVBciB8fCBbXSxcbiAgICAgIG5TdG9yZUFyciA9IFtdLFxuICAgICAgeUF4aXMgPSBjYW52YXMuY29tcG9zaXRpb24ueUF4aXM7XG4gICAgLy8gQ2hhbmdpbmcgeSBBeGlzIGZvcm1hdHRvclxuICAgIGlmIChtb2RlID09PSAncmVzZXQnKSB7XG4gICAgICB5QXhpcy5nZXRTY2FsZU9iaigpLmdldEludGVydmFsT2JqKCkuZ2V0Q29uZmlnKCdpbnRlcnZhbHMnKS5tYWpvci5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB5QXhpcy5nZXRTY2FsZU9iaigpLmdldEludGVydmFsT2JqKCkuZ2V0Q29uZmlnKCdpbnRlcnZhbHMnKS5tYWpvci5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwgKyAnJSc7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBEZWNsYXJhdGlvbiBlbmRzXG4gICAgdGhpcy5nYSA9IGdhO1xuICAgIGlmICghZ2Euc3RvcmVBcikge1xuICAgICAgc3RvcmUgPSB7fTtcbiAgICAgIGlmICghZ2EuaWRNYXApIHtcbiAgICAgICAgZHMuZm9yRWFjaFNlcmllcyhmdW5jdGlvbiAoYSwgYiwgYywgc2VyaWVzKSB7XG4gICAgICAgICAgc3RvcmVbc2VyaWVzLmdldElkKCldID0gc2VyaWVzLmdldE9yaWdpbmFsRGF0YSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChpIGluIHN0b3JlKSB7XG4gICAgICAgICAgc3RvcmVBci5wdXNoKHN0b3JlW2ldKTtcbiAgICAgICAgICBpZE1hcFtpXSA9IHN0b3JlQXIubGVuZ3RoIC0gMTtcbiAgICAgICAgICAvLyA9IHN0b3JlW2ldLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gMjAgKiBlICsgKE1hdGgucmFuZG9tKCkgKiAxMDAwKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2EuaWRNYXAgPSBpZE1hcDtcbiAgICAgICAgZ2EuZHMgPSBkcztcbiAgICAgICAgZ2Euc3RvcmVBciA9IHN0b3JlQXI7XG4gICAgICAgIGdhLmdBbmFseXNlciA9IG5ldyBHcm93dGhBbmFseXNlcihzdG9yZUFyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgblN0b3JlQXJyID0gZ2EuZ0FuYWx5c2VyLmFuYWx5c2UobW9kZSk7XG4gICAgZHMuc2V0RGF0YUJ5U2VyaWVzKGZ1bmN0aW9uIChzZXJpZXMpIHtcbiAgICAgIGlmIChuU3RvcmVBcnIubGVuZ3RoKSB7XG4gICAgICAgIHNlcmllcy5zZXRPcmlnaW5hbERhdGEoblN0b3JlQXJyW2lkTWFwW3Nlcmllcy5nZXRJZCgpXV0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbXAuaW1wbC51cGRhdGUoKTtcbiAgfTtcblxuICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChyZXF1aXJlKSB7XG4gICAgdmFyIGluc3RhbmNlID0gdGhpcztcbiAgICByZXF1aXJlKFtcbiAgICAgICd4QXhpcycsXG4gICAgICAneUF4aXMnLFxuICAgICAgJ2dyYXBoaWNzJyxcbiAgICAgICdjaGFydCcsXG4gICAgICAnZGF0YXNldCcsXG4gICAgICAnUGxvdE1hbmFnZXInLFxuICAgICAgJ2NhbnZhc0NvbmZpZycsXG4gICAgICAnTWFya2VyTWFuYWdlcicsXG4gICAgICAncmVhY3RpdmVNb2RlbCcsXG4gICAgICAnZ2xvYmFsUmVhY3RpdmVNb2RlbCcsXG4gICAgICAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLFxuICAgICAgJ3NtYXJ0TGFiZWwnLFxuICAgICAgJ2NoYXJ0SW5zdGFuY2UnLFxuICAgICAgJ2NhbnZhc0RhdGEnLFxuICAgICAgZnVuY3Rpb24gKFxuICAgICAgICAgICAgeEF4aXMsXG4gICAgICAgICAgICB5QXhpcyxcbiAgICAgICAgICAgIGdyYXBoaWNzLFxuICAgICAgICAgICAgY2hhcnQsXG4gICAgICAgICAgICBkYXRhc2V0LFxuICAgICAgICAgICAgcGxvdE1hbmFnZXIsXG4gICAgICAgICAgICBjYW52YXNDb25maWcsXG4gICAgICAgICAgICBtYXJrZXJNYW5hZ2VyLFxuICAgICAgICAgICAgcmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgIGdsb2JhbFJlYWN0aXZlTW9kZWwsXG4gICAgICAgICAgICBzcGFjZU1hbmFnZXJJbnN0YW5jZSxcbiAgICAgICAgICAgIHNtYXJ0TGFiZWwsXG4gICAgICAgICAgICBjaGFydEluc3RhbmNlLFxuICAgICAgICAgICAgY2FudmFzRGF0YSkge1xuICAgICAgICBpbnN0YW5jZS54QXhpcyA9IHhBeGlzO1xuICAgICAgICBpbnN0YW5jZS55QXhpcyA9IHlBeGlzO1xuICAgICAgICBpbnN0YW5jZS5ncmFwaGljcyA9IGdyYXBoaWNzO1xuICAgICAgICBpbnN0YW5jZS5jaGFydCA9IGNoYXJ0O1xuICAgICAgICBpbnN0YW5jZS5kYXRhc2V0ID0gZGF0YXNldDtcbiAgICAgICAgaW5zdGFuY2UucGxvdE1hbmFnZXIgPSBwbG90TWFuYWdlcjtcbiAgICAgICAgaW5zdGFuY2UubWFya2VyTWFuYWdlciA9IG1hcmtlck1hbmFnZXI7XG4gICAgICAgIGluc3RhbmNlLmNhbnZhc0NvbmZpZyA9IGNhbnZhc0NvbmZpZztcbiAgICAgICAgaW5zdGFuY2UucmVhY3RpdmVNb2RlbCA9IHJlYWN0aXZlTW9kZWw7XG4gICAgICAgIGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBnbG9iYWxSZWFjdGl2ZU1vZGVsO1xuICAgICAgICBpbnN0YW5jZS5zcGFjZU1hbmFnZXJJbnN0YW5jZSA9IHNwYWNlTWFuYWdlckluc3RhbmNlO1xuICAgICAgICBpbnN0YW5jZS5zbWFydExhYmVsID0gc21hcnRMYWJlbDtcbiAgICAgICAgaW5zdGFuY2UuY2hhcnRJbnN0YW5jZSA9IGNoYXJ0SW5zdGFuY2U7XG4gICAgICAgIGluc3RhbmNlLmNhbnZhc0RhdGEgPSBjYW52YXNEYXRhO1xuICAgICAgfVxuICAgIF0pO1xuICAgIHRoaXMuc3BhY2VNYW5hZ2VySW5zdGFuY2UgPSBpbnN0YW5jZS5zcGFjZU1hbmFnZXJJbnN0YW5jZTtcbiAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsO1xuICAgIHRoaXMudHNPYmplY3QgPSBpbnN0YW5jZS5jaGFydEluc3RhbmNlO1xuICAgIHRoaXMuc3RhcnREdCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J107XG4gICAgdGhpcy5lbmREdCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLWVuZCddO1xuICAgIHRoaXMuc3RhcnREYXRhc2V0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLXN0YXJ0J107XG4gICAgdGhpcy5lbmREYXRhc2V0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLWVuZCddO1xuICAgIHRoaXMudG9vbGJhcnMgPSBbXTtcbiAgICB0aGlzLm1lYXN1cmVtZW50ID0ge307XG4gICAgdGhpcy50b29sYmFycy5wdXNoKHRoaXMuY3JlYXRlVG9vbGJhcigpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuY3JlYXRlVG9vbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG9vbGJhcixcbiAgICAgIGdyb3VwLFxuICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICBjb250ZXh0TWVudSxcbiAgICAgIGNvbnRleHRBcnJheSA9IFtdLFxuICAgICAgZ2FPcHRpb25zT2JqID0ge30sXG4gICAgICBwb3B1cCxcbiAgICAgIHBhcGVyID0gdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgIGNoYXJ0Q29udGFpbmVyID0gdGhpcy5ncmFwaGljcy5jb250YWluZXIsXG4gICAgICBzdWJDYXRTdHlsZSA9IHtcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMnB4JyxcbiAgICAgICAgJ2NvbG9yJzogJyM2OTY5NjknLFxuICAgICAgICAnZm9udEZhbWlseSc6ICdNeXJpYWQgUHJvJ1xuICAgICAgfSxcbiAgICAgIGNhdFN0eWxlID0ge1xuICAgICAgICAnZm9udC1zaXplJzogJzEzcHgnLFxuICAgICAgICAnY29sb3InOiAnIzY5Njk2OScsXG4gICAgICAgICdmb250LWZhbWlseSc6ICdNeXJpYWQgUHJvIFNlbWlib2xkJ1xuICAgICAgfTtcblxuICAgIHRvb2xiYXIgPSBuZXcgdGhpcy5Ib3Jpem9udGFsVG9vbGJhcih7XG4gICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgfSk7XG5cbiAgICB0b29sYmFyLnNldENvbmZpZyh7XG4gICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICBib3JkZXJUaGlja25lc3M6IDBcbiAgICB9KTtcblxuICAgIGdyb3VwID0gbmV3IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cCh7XG4gICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgfSk7XG5cbiAgICBncm91cC5zZXRDb25maWcoe1xuICAgICAgZmlsbDogJyNmZmYnLFxuICAgICAgYm9yZGVyVGhpY2tuZXNzOiAwXG4gICAgfSk7XG5cbiAgICBnYU9wdGlvbnNPYmogPSB7XG4gICAgICAnRml4ZWQtTnVtYmVyJzogJ2RpYWxvZ0JveCcsXG4gICAgICAnRnVuY3Rpb25zJzogWydNaW5pbXVtJywgJ01heGltdW0nLCAnTWVhbicsICdNZWRpYW4nLCAnU3RhbmRhcmQgRGV2aWF0aW9uJ10sXG4gICAgICAnUG9zaXRpb24nOiAnZGlhbG9nQm94JyxcbiAgICAgICdEYXRhc2V0JzogWydQcmV2aW91cyBEYXRhc2V0JywgJ05leHQgRGF0YXNldCddLFxuICAgICAgJ1JlbGF0aXZlLVBvc2l0aW9uJzogWydOZXh0JywgJ1ByZXZpb3VzJ11cbiAgICB9O1xuXG4gICAgY29udGV4dE1lbnUgPSBuZXcgdGhpcy50b29sYm94LlN5bWJvbFdpdGhDb250ZXh0KCdDb250ZXh0SWNvbicsIHtcbiAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcbiAgICB9LCB7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICBzdHJva2U6ICcjY2VkNWQ0JyxcbiAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICByYWRpdXM6ICcxJyxcbiAgICAgIHN5bWJvbFN0cm9rZTogJyM2OTY5NjknLFxuICAgICAgc3ltYm9sU3Ryb2tlV2lkdGg6ICcyJ1xuICAgIH0pO1xuXG4gICAgY29udGV4dEFycmF5LnB1c2goe1xuICAgICAgJ0dyb3d0aCBBbmFseXNlcic6IHtcbiAgICAgICAgc3R5bGU6IGNhdFN0eWxlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcG9wdXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBib3gsXG4gICAgICAgIGhlYWRlcixcbiAgICAgICAgc3R5bGUgPSB7XG4gICAgICAgICAgZm9udFNpemU6IDEwICsgJ3B4JyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAxNSArICdweCcsXG4gICAgICAgICAgZm9udEZhbWlseTogJ0x1Y2lkYSBHcmFuZGUnLFxuICAgICAgICAgIHN0cm9rZTogJyM2NzY3NjcnLFxuICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAnMidcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVyV2lkdGggPSAxODAsXG4gICAgICAgIGhlYWRlclRleHQsXG4gICAgICAgIGNyb3NzLFxuICAgICAgICBpbnB1dEZpZWxkLFxuICAgICAgICBhcHBseUJ1dHRvbixcbiAgICAgICAgeCA9IDUwMCxcbiAgICAgICAgeSA9IDEwMDtcblxuICAgICAgYm94ID0gcGFwZXIuaHRtbCgnZGl2Jywge1xuICAgICAgICBmaWxsOiAnI2Y3ZjdmNycsXG4gICAgICAgIHg6IHggLSAyMDAsXG4gICAgICAgIHk6IHkgKyAxMDAsXG4gICAgICAgIHdpZHRoOiAxODAsXG4gICAgICAgIGhlaWdodDogODBcbiAgICAgIH0sIHN0eWxlLCBjaGFydENvbnRhaW5lcik7XG5cbiAgICAgIGhlYWRlciA9IHBhcGVyLmh0bWwoJ2RpdicsIHtcbiAgICAgICAgZmlsbDogJyNlOGU4ZTgnLFxuICAgICAgICB3aWR0aDogaGVhZGVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogMjBcbiAgICAgIH0sIHN0eWxlLCBib3gpO1xuXG4gICAgICBoZWFkZXJUZXh0ID0gcGFwZXIuaHRtbCgnZGl2Jywge1xuICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICB3aWR0aDogaGVhZGVyV2lkdGggKiAwLjYsXG4gICAgICAgIGhlaWdodDogMjAsXG4gICAgICAgIHg6IDEwLFxuICAgICAgICB5OiAyXG4gICAgICB9LCBzdHlsZSwgaGVhZGVyKTtcblxuICAgICAgaGVhZGVyVGV4dC5hdHRyKHtcbiAgICAgICAgdGV4dDogJ1Byb3ZpZGUgU3BlY2lmaWMgVmFsdWUnXG4gICAgICB9KTtcblxuICAgICAgY3Jvc3MgPSBwYXBlci5odG1sKCdkaXYnLCB7XG4gICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIHdpZHRoOiAxMCxcbiAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgICB0ZXh0OiAnWCcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICB9LCBzdHlsZSwgaGVhZGVyKTtcblxuICAgICAgY3Jvc3Mub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBib3guaGlkZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGlucHV0RmllbGQgPSBwYXBlci5odG1sKCdpbnB1dCcsIHtcbiAgICAgICAgd2lkdGg6IDEwMCxcbiAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgeDogMTAsXG4gICAgICAgIHk6IDMwXG4gICAgICB9LCBzdHlsZSwgYm94KTtcblxuICAgICAgYXBwbHlCdXR0b24gPSBwYXBlci5odG1sKCdkaXYnLCB7XG4gICAgICAgIHdpZHRoOiA1MCxcbiAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgeDogMTIwLFxuICAgICAgICB5OiAzMCxcbiAgICAgICAgZmlsbDogJyM1NTU1NTUnXG4gICAgICB9LCB7XG4gICAgICAgIGZvbnRTaXplOiAxMCArICdweCcsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDE1ICsgJ3B4JyxcbiAgICAgICAgZm9udEZhbWlseTogJ0x1Y2lkYSBHcmFuZGUnLFxuICAgICAgICBmaWxsOiAnI2VhZWFlYScsXG4gICAgICAgIGNvbG9yOiAnI2VhZWFlYScsXG4gICAgICAgIHN0cm9rZTogJyNlYWVhZWEnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgfSwgYm94KTtcblxuICAgICAgYXBwbHlCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBib3guaGlkZSgpO1xuICAgICAgICBjYWxsYmFjayhpbnB1dEZpZWxkLnZhbCgpKTtcbiAgICAgIH0pO1xuICAgICAgYXBwbHlCdXR0b24uYXR0cih7XG4gICAgICAgIHRleHQ6ICdBcHBseSdcbiAgICAgIH0pO1xuICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LmZvY3VzKCk7XG4gICAgICBmdW5jdGlvbiBpbnB1dEZpZWxkTnVtYmVySGFuZGxlciAoKSB7XG4gICAgICAgIGlucHV0RmllbGQuZWxlbWVudC52YWx1ZSA9IGlucHV0RmllbGQuZWxlbWVudC52YWx1ZS5yZXBsYWNlKC9bXlxcZC4tXS9nLCAnJyk7XG4gICAgICB9XG4gICAgICBpbnB1dEZpZWxkLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBpbnB1dEZpZWxkTnVtYmVySGFuZGxlcik7XG4gICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydwb3NpdGlvbiddID0gJ3JlbGF0aXZlJztcbiAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2JhY2tncm91bmRDb2xvciddID0gJyNkMmQyZDInO1xuICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsnYm9yZGVyJ10gPSAnMnB4IHNvbGlkICNjYmNiY2InO1xuICAgICAgY3Jvc3MuZWxlbWVudC5zdHlsZVsncGFkZGluZyddID0gJzBweCAwcHggMy41cHggMnB4JztcbiAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2NvbG9yJ10gPSAnIzhjOGM4Yyc7XG4gICAgICBjcm9zcy5lbGVtZW50LnN0eWxlWydtYXJnaW4nXSA9ICcxcHggMnB4JztcbiAgICAgIGNyb3NzLmVsZW1lbnQuc3R5bGVbJ2Zsb2F0J10gPSAncmlnaHQnO1xuICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LnN0eWxlWydtYXJnaW5Ub3AnXSA9ICc4cHgnO1xuICAgICAgaW5wdXRGaWVsZC5lbGVtZW50LnN0eWxlWydib3JkZXInXSA9ICcycHggc29saWQgI2RhZGJkYSc7XG4gICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydtYXJnaW5Ub3AnXSA9ICc4cHgnO1xuICAgICAgYm94LmVsZW1lbnQuc3R5bGVbJ2JvcmRlciddID0gJzFweCBzb2xpZCAjZDRkMmQzJztcbiAgICAgIGhlYWRlci5lbGVtZW50LnN0eWxlWydib3JkZXInXSA9ICcxcHggc29saWQgI2Q0ZDJkMyc7XG4gICAgICBoZWFkZXIuZWxlbWVudC5zdHlsZVsnd2lkdGgnXSA9ICcxNzlweCc7XG4gICAgICBoZWFkZXJUZXh0LmVsZW1lbnQuc3R5bGVbJ2ZvbnRTaXplJ10gPSAnMTEuNXB4JztcbiAgICAgIGhlYWRlclRleHQuZWxlbWVudC5zdHlsZVsnbWFyZ2luVG9wJ10gPSAnMC41cHgnO1xuICAgICAgaGVhZGVyVGV4dC5lbGVtZW50LnN0eWxlWydjb2xvciddID0gJyM2NzY3NjcnO1xuICAgICAgaGVhZGVyLmVsZW1lbnQuc3R5bGVbJ2ZvbnRGYW1pbHknXSA9ICdNeXJpYWQgcHJvIFNlbWlib2xkJztcbiAgICAgIGFwcGx5QnV0dG9uLmVsZW1lbnQuc3R5bGVbJ3RleHRBbGlnbiddID0gJ2NlbnRlcic7XG4gICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydmb250U2l6ZSddID0gJzExcHgnO1xuICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsncGFkZGluZ1RvcCddID0gJzNweCc7XG4gICAgICBhcHBseUJ1dHRvbi5lbGVtZW50LnN0eWxlWydib3JkZXJSYWRpdXMnXSA9ICczcHgnO1xuICAgICAgYXBwbHlCdXR0b24uZWxlbWVudC5zdHlsZVsnY29sb3InXSA9ICcjZTRlNGU0JztcbiAgICB9O1xuXG4gICAgZm9yIChsZXQgaSBpbiBnYU9wdGlvbnNPYmopIHtcbiAgICAgIGxldCBrZXksXG4gICAgICAgIG9iaiA9IHt9LFxuICAgICAgICBzdWJPYmogPSB7fTtcbiAgICAgIGlmIChnYU9wdGlvbnNPYmpbaV0gPT09ICdkaWFsb2dCb3gnKSB7XG4gICAgICAgIGtleSA9ICcmbmJzcDsgJm5ic3A7ICcgKyBpO1xuICAgICAgICBvYmpba2V5XSA9IHt9O1xuICAgICAgICBvYmpba2V5XSA9IHtcbiAgICAgICAgICBzdHlsZTogc3ViQ2F0U3R5bGUsXG4gICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gbGV0IHBvcHVwVmFsID0gcG9wdXAoZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgLy8gICBzZWxmLmFuYWx5c2VyKHBhcnNlSW50KHN0cikpO1xuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICBpZiAoaSA9PT0gJ0ZpeGVkLU51bWJlcicpIHtcbiAgICAgICAgICAgICAgLy8gc2VsZi5hbmFseXNlcihwYXJzZUludCh3aW5kb3cucHJvbXB0KCdFbnRlciB2YWx1ZScpKSk7XG4gICAgICAgICAgICAgIGxldCBwb3B1cFZhbCA9IHBvcHVwKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHBhcnNlSW50KHN0cikpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gJ1Bvc2l0aW9uJykge1xuICAgICAgICAgICAgICBsZXQgcG9wdXBWYWwgPSBwb3B1cChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbmFseXNlcih7cG9zaXRpb246IHN0cn0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGlvbjogJ2NsaWNrJ1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5ID0gJyYjOTY2NiZuYnNwOyAnICsgaTtcbiAgICAgICAgb2JqW2tleV0gPSB7fTtcbiAgICAgICAgb2JqW2tleV0uYWN0aW9uID0gJ2NsaWNrJztcbiAgICAgICAgb2JqW2tleV0uc3R5bGUgPSBzdWJDYXRTdHlsZTtcbiAgICAgICAgb2JqW2tleV0uaGFuZGxlciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdhT3B0aW9uc09ialtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGxldCBzdWJNZW51TmFtZSA9IGdhT3B0aW9uc09ialtpXVtqXTtcbiAgICAgICAgICBzdWJPYmogPSB7fTtcbiAgICAgICAgICBzdWJPYmpbJyZuYnNwOycgKyBzdWJNZW51TmFtZV0gPSB7fTtcbiAgICAgICAgICBzdWJPYmpbJyZuYnNwOycgKyBzdWJNZW51TmFtZV0uaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFsnTWluaW11bScsICdNYXhpbXVtJywgJ01lYW4nLCAnTWVkaWFuJywgJ1N0YW5kYXJkIERldmlhdGlvbiddXG4gICAgICAgICAgICAvLyBbJ1ByZXZpb3VzIERhdGFzZXQnLCAnTmV4dCBEYXRhc2V0J11cbiAgICAgICAgICAgIC8vIFsnTmV4dCcsICdQcmV2aW91cyddXG4gICAgICAgICAgICBpZiAoc3ViTWVudU5hbWUgPT09ICdNaW5pbXVtJyB8fFxuICAgICAgICAgICAgICBzdWJNZW51TmFtZSA9PT0gJ01heGltdW0nIHx8IHN1Yk1lbnVOYW1lID09PSAnTWVhbicgfHxcbiAgICAgICAgICAgICAgc3ViTWVudU5hbWUgPT09ICdNZWRpYW4nIHx8IHN1Yk1lbnVOYW1lID09PSAnU3RhbmRhcmQgRGV2aWF0aW9uJykge1xuICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHN1Yk1lbnVOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdQcmV2aW91cyBEYXRhc2V0Jykge1xuICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHtyZWxkYXRhc2V0cG9zaXRpb246IC0xfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN1Yk1lbnVOYW1lID09PSAnTmV4dCBEYXRhc2V0Jykge1xuICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHtyZWxkYXRhc2V0cG9zaXRpb246IDF9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdOZXh0Jykge1xuICAgICAgICAgICAgICBzZWxmLmFuYWx5c2VyKHtyZWxwb3NpdGlvbjogLTF9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTWVudU5hbWUgPT09ICdQcmV2aW91cycpIHtcbiAgICAgICAgICAgICAgc2VsZi5hbmFseXNlcih7cmVscG9zaXRpb246IDF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHN1Yk9ialsnJm5ic3A7JyArIHN1Yk1lbnVOYW1lXS5hY3Rpb24gPSAnY2xpY2snO1xuICAgICAgICAgIHN1Yk9ialsnJm5ic3A7JyArIHN1Yk1lbnVOYW1lXS5zdHlsZSA9IHN1YkNhdFN0eWxlO1xuICAgICAgICAgIG9ialtrZXldLmhhbmRsZXIucHVzaChzdWJPYmopO1xuICAgICAgICAgIGlmIChqICE9PSBnYU9wdGlvbnNPYmpbaV0ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgb2JqW2tleV0uaGFuZGxlci5wdXNoKHtcbiAgICAgICAgICAgICAgJyc6IHtcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Q1ZDJkMicsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxcHgnLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMXB4JyxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwcHgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRleHRBcnJheS5wdXNoKG9iaik7XG4gICAgICBjb250ZXh0QXJyYXkucHVzaCh7XG4gICAgICAgICcnOiB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNkNWQyZDInLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMXB4JyxcbiAgICAgICAgICAgIG1hcmdpbjogJzFweCcsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMHB4J1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29udGV4dEFycmF5LnB1c2goe1xuICAgICAgJyZuYnNwOyAmbmJzcDsgUmVzZXQgVmlldyc6IHtcbiAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuYW5hbHlzZXIoJ3Jlc2V0Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbjogJ2NsaWNrJyxcbiAgICAgICAgc3R5bGU6IHN1YkNhdFN0eWxlXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb250ZXh0TWVudS5hcHBlbmRBc0xpc3QoY29udGV4dEFycmF5KTtcblxuICAgIHRoaXMuU3ltYm9sU3RvcmUucmVnaXN0ZXIoJ0NvbnRleHRJY29uJywgZnVuY3Rpb24gKHBvc3gsIHBvc3ksIHJhZCkge1xuICAgICAgdmFyIHggPSBwb3N4LFxuICAgICAgICB5ID0gcG9zeSxcbiAgICAgICAgciA9IHJhZCAqIDIsXG4gICAgICAgIHNwYWNlID0gTWF0aC5yb3VuZChyIC8gNCksXG4gICAgICAgIGhhbGZXaWR0aCA9IE1hdGgucm91bmQociAvIDIpICogMC43LFxuICAgICAgICBzdGFydFggPSAoeCAtIGhhbGZXaWR0aCksXG4gICAgICAgIGVuZFggPSAoeCArIGhhbGZXaWR0aCksXG4gICAgICAgIHN0YXJ0WSA9ICh5ICsgc3BhY2UpLFxuICAgICAgICBlbmRZID0gKHkgLSBzcGFjZSk7XG4gICAgICByZXR1cm4gWydNJywgc3RhcnRYLCB5LCAnTCcsIGVuZFgsIHksICdNJywgc3RhcnRYLCBzdGFydFksICdMJywgZW5kWCwgc3RhcnRZLCAnTScsIHN0YXJ0WCwgZW5kWSwgJ0wnLCBlbmRYLCBlbmRZXTtcbiAgICB9KTtcblxuICAgIGdyb3VwLmFkZFN5bWJvbChjb250ZXh0TWVudSk7XG4gICAgdG9vbGJhci5hZGRDb21wb25lbnQoZ3JvdXApO1xuICAgIHJldHVybiB0b29sYmFyO1xuICB9O1xuXG4gIEdyb3d0aEFuYWx5c2VyRXh0LnByb3RvdHlwZS5nZXRMb2dpY2FsU3BhY2UgPSBmdW5jdGlvbiAoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCkge1xuICAgIGF2YWlsYWJsZVdpZHRoIC89IDI7XG4gICAgdmFyIGxvZ2ljYWxTcGFjZSxcbiAgICAgIHdpZHRoID0gMCxcbiAgICAgIGhlaWdodCA9IDAsXG4gICAgICBpLFxuICAgICAgbG47XG5cbiAgICBmb3IgKGkgPSAwLCBsbiA9IHRoaXMudG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgbG9naWNhbFNwYWNlID0gdGhpcy50b29sYmFyc1tpXS5nZXRMb2dpY2FsU3BhY2UoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCk7XG4gICAgICB3aWR0aCA9IE1hdGgubWF4KGxvZ2ljYWxTcGFjZS53aWR0aCwgd2lkdGgpO1xuICAgICAgaGVpZ2h0ICs9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG4gICAgICB0aGlzLnRvb2xiYXJzW2ldLndpZHRoID0gbG9naWNhbFNwYWNlLndpZHRoO1xuICAgICAgdGhpcy50b29sYmFyc1tpXS5oZWlnaHQgPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgIH1cbiAgICBoZWlnaHQgKz0gdGhpcy5wYWRkaW5nO1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogd2lkdGggPiBhdmFpbGFibGVXaWR0aCA/IDAgOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0ID4gYXZhaWxhYmxlSGVpZ2h0ID8gMCA6IGhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgR3Jvd3RoQW5hbHlzZXJFeHQucHJvdG90eXBlLnBsYWNlSW5DYW52YXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYucGFkZGluZyA9IDU7XG4gICAgc2VsZi5zcGFjZU1hbmFnZXJJbnN0YW5jZS5hZGQoW3tcbiAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdUb29sQm94RXh0JztcbiAgICAgIH0sXG4gICAgICByZWY6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9ialsnMCddO1xuICAgICAgfSxcbiAgICAgIHNlbGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9LFxuICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICB9LFxuICAgICAgbGF5b3V0OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmouaW5saW5lO1xuICAgICAgfSxcbiAgICAgIG9yaWVudGF0aW9uOiBbe1xuICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9iai5ob3Jpem9udGFsO1xuICAgICAgICB9LFxuICAgICAgICBwb3NpdGlvbjogW3tcbiAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLnRvcDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFsaWdubWVudDogW3tcbiAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iai5yaWdodDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRDb21wb25lbnRHcm91cCgpO1xuICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRMb2dpY2FsU3BhY2UocGFyZW50LmdldFdpZHRoKCksIHBhcmVudC5nZXRIZWlnaHQoKSk7XG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH1dXG4gICAgICAgIH1dXG4gICAgICB9XVxuICAgIH1dKTtcbiAgfTtcblxuICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuc2V0RHJhd2luZ0NvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcbiAgICB2YXIgbWVzID0gdGhpcy5tZWFzdXJlbWVudDtcbiAgICBtZXMueCA9IHg7XG4gICAgbWVzLnkgPSB5O1xuICAgIG1lcy53aWR0aCA9IHdpZHRoO1xuICAgIG1lcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLnBhcmVudEdyb3VwID0gZ3JvdXA7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcm93dGhBbmFseXNlckV4dC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgIHZhciBtZWFzdXJlbWVudCA9IHRoaXMubWVhc3VyZW1lbnQsXG4gICAgICB0b29sYmFycyA9IHRoaXMudG9vbGJhcnMsXG4gICAgICBsbixcbiAgICAgIGksXG4gICAgICB0b29sYmFyO1xuICAgIHggPSB4ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC54IDogeDtcbiAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG4gICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LmhlaWdodCA6IGhlaWdodDtcbiAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG4gICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgZm9yIChpID0gMCwgbG4gPSB0b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcbiAgICAgICAgdG9vbGJhci5kcmF3KHgsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBGdXNpb25DaGFydHMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnR3Jvd3RoQW5hbHlzZXJFeHQnLCBHcm93dGhBbmFseXNlckV4dCk7XG59XSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZXh0ZW5zaW9uLmpzIiwiJ3VzZSBzdHJpY3QnO1xuY2xhc3MgR3Jvd3RoQW5hbHlzZXIge1xuICBjb25zdHJ1Y3RvciAoZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGEubWFwKChhKSA9PiB7XG4gICAgICByZXR1cm4gYS5tYXAoKGIpID0+IHsgcmV0dXJuIGI7IH0pO1xuICAgIH0pO1xuICAgIHRoaXMuRm9ybXVsYWUgPSBGb3JtdWxhZTtcbiAgfVxuICBhbmFseXNlIChtb2RlKSB7XG4gICAgbGV0IGkgPSAwLFxuICAgICAgaWkgPSAwLFxuICAgICAgaiA9IDAsXG4gICAgICBqaiA9IDAsXG4gICAgICBudW0gPSAwLFxuICAgICAgY2hlY2tBcnIgPSBbXSxcbiAgICAgIGNoZWNrTnVtID0gMCxcbiAgICAgIGRhdGFBciA9IHRoaXMuZGF0YSxcbiAgICAgIG5EYXRhQXIgPSBbXSxcbiAgICAgIHRlbXBBciA9IFtdLFxuICAgICAgdGVtcCA9IDA7XG4gICAgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiBtb2RlLnRvTG93ZXJDYXNlKCkgPT09ICdyZXNldCcpIHtcbiAgICAgIHJldHVybiBkYXRhQXIubWFwKChhKSA9PiB7XG4gICAgICAgIHJldHVybiBhLm1hcCgoYikgPT4geyByZXR1cm4gYjsgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFpc05hTihtb2RlKSkgeyAvLyBIYW5kbGluZyBhIG51bWJlclxuICAgICAgY2hlY2tOdW0gPSArbW9kZTtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGVtcEFyID0gW107XG4gICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG4gICAgICAgICAgdGVtcEFyLnB1c2goMTAwICogKG51bSAtIGNoZWNrTnVtKSAvIGNoZWNrTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kZSA9IHRoaXMuRm9ybXVsYWVbbW9kZV07XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGRhdGFBci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHRlbXBBciA9IFtdO1xuICAgICAgICBjaGVja051bSA9IG1vZGUoZGF0YUFyW2ldKTtcbiAgICAgICAgZm9yIChqID0gMCwgamogPSBkYXRhQXJbaV0ubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcbiAgICAgICAgICBpZiAoY2hlY2tOdW0gPT09IDApIHtcbiAgICAgICAgICAgIHRlbXAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXAgPSAxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gY2hlY2tOdW07XG4gICAgICAgICAgfVxuICAgICAgICAgIHRlbXBBci5wdXNoKHRlbXApO1xuICAgICAgICB9XG4gICAgICAgIG5EYXRhQXIucHVzaCh0ZW1wQXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzTmFOKG1vZGUucmVscG9zaXRpb24pKSB7XG4gICAgICBtb2RlID0gbW9kZS5yZWxwb3NpdGlvbjtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gZGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGVtcEFyID0gW107XG4gICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBudW0gPSBkYXRhQXJbaV1bal07XG4gICAgICAgICAgaWYgKGogKyBtb2RlID49IDAgJiYgaiArIG1vZGUgPCBqaikge1xuICAgICAgICAgICAgY2hlY2tOdW0gPSBkYXRhQXJbaV1baiArIG1vZGVdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja051bSA9IG51bTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVtcEFyLnB1c2goMTAwICogKG51bSAtIGNoZWNrTnVtKSAvIGNoZWNrTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc05hTihtb2RlLnBvc2l0aW9uKSkge1xuICAgICAgbW9kZSA9IG1vZGUucG9zaXRpb247XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGRhdGFBci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHRlbXBBciA9IFtdO1xuICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgbnVtID0gZGF0YUFyW2ldW2pdO1xuICAgICAgICAgIGlmIChtb2RlID49IDAgJiYgbW9kZSA8IGpqKSB7XG4gICAgICAgICAgICBjaGVja051bSA9IGRhdGFBcltpXVttb2RlXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tOdW0gPSBudW07XG4gICAgICAgICAgfVxuICAgICAgICAgIHRlbXBBci5wdXNoKDEwMCAqIChudW0gLSBjaGVja051bSkgLyBjaGVja051bSk7XG4gICAgICAgIH1cbiAgICAgICAgbkRhdGFBci5wdXNoKHRlbXBBcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNOYU4obW9kZS5yZWxkYXRhc2V0cG9zaXRpb24pKSB7XG4gICAgICBtb2RlID0gbW9kZS5yZWxkYXRhc2V0cG9zaXRpb247XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGRhdGFBci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHRlbXBBciA9IFtdO1xuICAgICAgICBpZiAoaSArIG1vZGUgPj0gMCAmJiBpICsgbW9kZSA8IGlpKSB7XG4gICAgICAgICAgY2hlY2tBcnIgPSBkYXRhQXJbaSArIG1vZGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrQXJyID0gZGF0YUFyW2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaiA9IDAsIGpqID0gZGF0YUFyW2ldLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBjaGVja051bSA9IGNoZWNrQXJyW2pdO1xuICAgICAgICAgIG51bSA9IGRhdGFBcltpXVtqXTtcbiAgICAgICAgICB0ZW1wQXIucHVzaCgxMDAgKiAobnVtIC0gY2hlY2tOdW0pIC8gbnVtKTtcbiAgICAgICAgfVxuICAgICAgICBuRGF0YUFyLnB1c2godGVtcEFyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWkgPSBuRGF0YUFyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGZvciAoaiA9IDAsIGpqID0gbkRhdGFBcltpXS5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKG5EYXRhQXJbaV1bal0pKSB7XG4gICAgICAgICAgbkRhdGFBcltpXVtqXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5EYXRhQXI7XG4gIH1cbn1cblxudmFyIEZvcm11bGFlID0ge1xuICBNaW5pbXVtOiAoYXJyKSA9PiB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhID4gYiA/IGIgOiBhO1xuICAgIH0pO1xuICB9LFxuICBNYXhpbXVtOiAoYXJyKSA9PiB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhIDwgYiA/IGIgOiBhO1xuICAgIH0pO1xuICB9LFxuICBNZWFuOiAoYXJyKSA9PiB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhICsgYjtcbiAgICB9KSAvIGFyci5sZW5ndGg7XG4gIH0sXG4gIE1lZGlhbjogKGFycikgPT4ge1xuICAgIHJldHVybiBhcnIubWFwKChhKSA9PiBhKS5zb3J0KChhLCBiKSA9PiB7IHJldHVybiBhIC0gYjsgfSlbYXJyLmxlbmd0aCAvIDJdO1xuICB9LFxuICAnU3RhbmRhcmQgRGV2aWF0aW9uJzogKHZhbHVlcykgPT4ge1xuICAgIGZ1bmN0aW9uIGF2ZXJhZ2UgKGRhdGEpIHtcbiAgICAgIHZhciBzdW0sIGF2ZztcbiAgICAgIHN1bSA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uIChzdW0sIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdW0gKyB2YWx1ZTtcbiAgICAgIH0sIDApO1xuXG4gICAgICBhdmcgPSBzdW0gLyBkYXRhLmxlbmd0aDtcbiAgICAgIHJldHVybiBhdmc7XG4gICAgfVxuICAgIHZhciBhdmcgPSAwLFxuICAgICAgc3F1YXJlRGlmZnMgPSAwLFxuICAgICAgc3FyRGlmZiA9IDAsXG4gICAgICBhdmdTcXVhcmVEaWZmID0gMCxcbiAgICAgIHN0ZERldiA9IDAsXG4gICAgICBkaWZmID0gMDtcbiAgICBhdmcgPSBhdmVyYWdlKHZhbHVlcyk7XG4gICAgc3F1YXJlRGlmZnMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgZGlmZiA9IHZhbHVlIC0gYXZnO1xuICAgICAgc3FyRGlmZiA9IGRpZmYgKiBkaWZmO1xuICAgICAgcmV0dXJuIHNxckRpZmY7XG4gICAgfSk7XG4gICAgYXZnU3F1YXJlRGlmZiA9IGF2ZXJhZ2Uoc3F1YXJlRGlmZnMpO1xuICAgIHN0ZERldiA9IE1hdGguc3FydChhdmdTcXVhcmVEaWZmKTtcbiAgICByZXR1cm4gc3RkRGV2O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdyb3d0aEFuYWx5c2VyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dyb3d0aGFuYWx5c2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==