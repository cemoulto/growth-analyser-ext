!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1);FusionCharts.register("extension",["private","growth-analyser",function(){var t=function(){function t(){i(this,t),this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,window.ext=this}return a(t,[{key:"renderChange",value:function(){var t=this.tsObject.chartInstance,e=t.apiInstance.getComponentStore(),n=0;for(n=0;e.getCanvasByIndex(n);++n)e.getCanvasByIndex(n).getComposition().PlotManager.plot()}},{key:"analyser",value:function(t){var e,n=this,i=this.ga||{},a=this.tsObject.apiInstance.getComponentStore(),o=a.getCanvasByIndex(0),s=o.getComposition(),l=i.ds||s.dataset,h=i.idMap||{},u=i.storeAr||[],c=[],d=o.composition.yAxis;if(this.ga=i,!i.storeAr&&(a={},!i.idMap)){l.forEachSeries(function(t,e,n,i){a[i.getId()]=i.getOriginalData()});for(e in a)u.push(a[e]),h[e]=u.length-1;i.idMap=h,i.ds=l,i.storeAr=u,i.gAnalyser=new r(u)}c=i.gAnalyser.analyse(t),"reset"!==t&&c.changed?(d.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t+"%"},n.contextMenu&&n.contextMenu.showListItem("reset")):(d.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t},n.contextMenu&&n.contextMenu.hideListItem("reset")),l.setDataBySeries(function(t){c.value.length&&t.setOriginalData(c.value[h[t.getId()]])}),s.impl.update()}},{key:"init",value:function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData","canvasData",function(t,n,i,a,r,o,s,l,h,u,c,d,p,g,f){e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=a,e.dataset=r,e.plotManager=o,e.markerManager=l,e.canvasConfig=s,e.reactiveModel=h,e.globalReactiveModel=u,e.spaceManagerInstance=c,e.smartLabel=d,e.chartInstance=p,e.canvasData=f,e.extData=g}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.tsObject=e.chartInstance,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),e.growthOverMode(),this}},{key:"growthOverMode",value:function(){var t=this,e=this.extData&&this.extData.growthOver;isNaN(e)?"firstIndex"===e?(t.highlight("First"),t.analyser({position:0})):"prevIndex"===e?(t.highlight("Previous"),t.analyser({relposition:-1})):(t.highlight(e),t.analyser(e)):(t.analyser(e),t.highlight("Custom"))}},{key:"highlight",value:function(t){for(var e=this.contextMenu,n=e&&e.listContainerManager.container.atomicLists,i=n.length,a=0,r={},o={},s=!0;i-- -1;)for(r=n[i],s=!0,r.name.indexOf(t)+1?r.node.style.fontWeight="bold":r.node.style.fontWeight="",a=r.subConRef&&r.subConRef.atomicLists.length||0;a--;)o=r.subConRef.atomicLists[a],o.name.indexOf(t)+1?(o.node.style.fontWeight="bold",r.node.style.fontWeight="bold",s=!1):o.node.style.fontWeight="",s&&(r.node.style.fontWeight="")}},{key:"createToolbar",value:function(){var t,e,n,i,a=this,r=[],o={},s=this.graphics.paper,l=this.graphics.container,h=a.extData&&a.extData.style||{},u={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},c={"font-size":"13px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif',fontWeight:"bold"},d={fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"};h.category=h.category||{},h.subCategory=h.subCategory||{},h.popup=h.popup||{},Object.assign(c,h.category),Object.assign(u,h.subCategory),Object.assign(d,h.popup),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),e=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),o={"First Index":{position:0},"Previous Index":{relposition:-1},"Specific Value":{submenu:!0,Minimum:"Minimum",Maximum:"Maximum",Average:"Mean",Median:"Median","Standard Deviation":"Standard Deviation","Custom Value...":function(){i(function(t){a.analyser(t),a.highlight("Custom")})}}},n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),this.contextMenu=n,r.push({"Show Growth Over":{style:c}}),i=function(t){function e(){i.hide(),t(u.val())}function n(){u.element.value=u.element.value.replace(/[^\d.-]/g,"")}var i,r,o,h,u,c,p=d,g=180,f=.47*a.chart.width-90,m=a.chart.height/2-40;i=s.html("div",{fill:"#f7f7f7",x:f,y:m,width:180,height:80},p,l),r=s.html("div",{fill:"#e8e8e8",width:g,height:20},p,i),o=s.html("div",{fill:"transparent",width:.6*g,height:20,x:10,y:2},p,r),o.attr({text:"Provide value"}),h=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},p,r),h.on("click",function(){i.hide()}),u=s.html("input",{width:100,height:20,x:10,y:30},p,i),c=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},i),c.on("click",function(){e()}),u.on("keyup",function(t){13===t.keyCode&&e()}),c.attr({text:"Apply"}),u.element.focus(),u.element.addEventListener("keyup",n),h.element.style.position="relative",h.element.style.backgroundColor="#d2d2d2",h.element.style.border="2px solid #cbcbcb",h.element.style.padding="0px 0px 3.5px 2px",h.element.style.color="#8c8c8c",h.element.style.margin="1px 2px",h.element.style.float="right",u.element.style.marginTop="8px",u.element.style.border="2px solid #dadbda",c.element.style.marginTop="8px",i.element.style.border="1px solid #d4d2d3",r.element.style.border="1px solid #d4d2d3",r.element.style.width="179px",o.element.style.fontSize="11.5px",o.element.style.marginTop="0.5px",o.element.style.color="#676767",r.element.style["font-family"]='"Lucida Grande", Sans-serif',c.element.style.textAlign="center",c.element.style.fontSize="11px",c.element.style.paddingTop="3px",c.element.style.borderRadius="3px",c.element.style.color="#e4e4e4"},r.push({"&nbsp; &nbsp; Reset View":{id:"reset",handler:function(){a.analyser("reset"),a.highlight("reset")},action:"click",style:u}}),r.push({"":{id:"reset",style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}});var p=function(t){var e=void 0,n={},i={};if(o[t].submenu){e="&#9666&nbsp; "+t,n[e]={},n[e].action="click",n[e].style=u,n[e].handler=[];var s=function(r){var s=r,l=o[t][r];return"submenu"===r?"continue":(i={},i["&nbsp;"+s]={},i["&nbsp;"+s].handler=function(){"function"==typeof l?l():(a.analyser(l),a.highlight("&nbsp;"+s))},i["&nbsp;"+s].action="click",i["&nbsp;"+s].style=u,n[e].handler.push(i),void(r.indexOf("Custom")===-1&&n[e].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})))};for(var l in o[t]){s(l)}}else e="&nbsp; &nbsp; "+t,n[e]={},n[e]={style:u,handler:function(){a.analyser(o[t]),a.highlight(e)},action:"click"};r.push(n),t.indexOf("Specific")===-1&&r.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var g in o)p(g);return n.appendAsList(r),this.SymbolStore.register("ContextIcon",function(t,e,n){var i=t,a=e,r=2*n,o=Math.round(r/4),s=.7*Math.round(r/2),l=i-s,h=i+s,u=a+o,c=a-o;return["M",l,a,"L",h,a,"M",l,u,"L",h,u,"M",l,c,"L",h,c]}),e.addSymbol(n),t.addComponent(e),t}},{key:"getLogicalSpace",value:function(t,e){t/=2;var n,i,a,r=0,o=0;for(i=0,a=this.toolbars.length;i<a;i++)n=this.toolbars[i].getLogicalSpace(t,e),r=Math.max(n.width,r),o+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return o+=this.padding,{width:r>t?0:r,height:o>e?0:o}}},{key:"placeInCanvas",value:function(){var t=this,e=this.extData||{},n=e.posWrtCanvas||"top",i=e.layout||"inline",a=e.alignment||"right",r=e.orientation||"horizontal";t.padding=5,t.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t[i]},orientation:[{type:function(t){return t[r]},position:[{type:function(t){return t[n]},alignment:[{type:function(t){return t[a]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,i,a){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=i,this.parentGroup=a,this}},{key:"draw",value:function(t,e,n,i,a){var r,o,s,l=this.measurement,h=this.toolbars;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,a=void 0===a?this.parentGroup:a,n&&i)for(o=0,r=h.length;o<r;o++)s=h[o],s.draw(t,e)}}]),t}();FusionCharts.registerComponent("extensions","growth-analyser",t)}])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){n(this,t),this.data=e.map(function(t){return t.map(function(t){return t})}),this.Formulae=r}return i(t,[{key:"analyse",value:function(t){var e=0,n=0,i=0,a=0,r=0,o=[],s=0,l=this.data,h=[],u=[],c=0,d=({changed:!1,value:this.data.map(function(t){return t.map(function(t){})})},{changed:!1,value:this.data.map(function(t){return t.map(function(t){return t})})});if(void 0===t)return d;if("string"==typeof t&&"reset"===t.toLowerCase())return d;if(isNaN(t))if("string"==typeof t){if(t=this.Formulae[t],!t)return d;for(e=0,n=l.length;e<n;++e){for(u=[],s=t(l[e]),i=0,a=l[e].length;i<a;++i)r=l[e][i],c=0===s?void 0:100*(r-s)/s,u.push(c);h.push(u)}}else if(isNaN(t.relposition))if(isNaN(t.position)&&"string"!=typeof t.position){if(isNaN(t.reldatasetposition))return d;for(t=t.reldatasetposition,e=0,n=l.length;e<n;++e){for(u=[],o=e+t>=0&&e+t<n?l[e+t]:l[e],i=0,a=l[e].length;i<a;++i)s=o[i],r=l[e][i],u.push(100*(r-s)/r);h.push(u)}}else for(t=t.position,e=0,n=l.length;e<n;++e){for(u=[],i=0,a=l[e].length;i<a;++i)r=l[e][i],s="last"===t?l[e][a-1]:"mid"===t?l[e][a/2]:t>=0&&t<a?l[e][t]:r,u.push(100*(r-s)/s);h.push(u)}else for(t=t.relposition,e=0,n=l.length;e<n;++e){for(u=[],i=0,a=l[e].length;i<a;++i)r=l[e][i],s=i+t>=0&&i+t<a?l[e][i+t]:r,u.push(100*(r-s)/s);h.push(u)}else for(s=+t,e=0,n=l.length;e<n;++e){for(u=[],i=0,a=l[e].length;i<a;++i)r=l[e][i],u.push(100*(r-s)/s);h.push(u)}for(e=0,n=h.length;e<n;++e)for(i=0,a=h[e].length;i<a;++i)Number.isFinite(h[e][i])||(h[e][i]=null),c=parseInt(100*h[e][i]),h[e][i]=c/100;return{changed:!0,value:h}}}]),t}(),r={Minimum:function(t){return t.reduce(function(t,e){return t>e?e:t})},Maximum:function(t){return t.reduce(function(t,e){return t<e?e:t})},Mean:function(t){return t.reduce(function(t,e){return t+e})/t.length},Median:function(t){return t.map(function(t){return t}).sort(function(t,e){return t-e})[t.length/2]},"Standard Deviation":function(t){function e(t){var e,n;return e=t.reduce(function(t,e){return t+e},0),n=e/t.length}var n=0,i=0,a=0,r=0,o=0,s=0;return n=e(t),i=t.map(function(t){return s=t-n,a=s*s}),r=e(i),o=Math.sqrt(r)}};t.exports=a}]);