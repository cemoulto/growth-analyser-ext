!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1);FusionCharts.register("extension",["private","growth-analyser",function(){var t=function(){function t(){i(this,t);var e=this;this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.analyserOptionsObject={"First Index":{position:0},"Previous Index":{relposition:-1},"Specific Value":{submenu:!0,Minimum:"Minimum",Maximum:"Maximum",Average:"Mean",Median:"Median","Standard Deviation":"Standard Deviation","Custom Value...":function(t){t(function(t){e.analyser(t),e.preGrowthHook("Custom")})}}}}return a(t,[{key:"analyser",value:function(t){var e,n=this,i=this.ga||{},o=this.tsObject.apiInstance.getComponentStore(),a=o.getCanvasByIndex(0),s=a.getComposition(),l=i.ds||s.dataset,u=i.idMap||{},h=i.storeAr||[],c=[],p=a.composition.yAxis;if(this.ga=i,!i.storeAr&&(o={},!i.idMap)){l.forEachSeries(function(t,e,n,i){o[i.getId()]=i.getOriginalData()});for(e in o)h.push(o[e]),u[e]=h.length-1;i.idMap=u,i.ds=l,i.storeAr=h,i.gAnalyser=new r(h)}c=i.gAnalyser.analyse(t),"reset"!==t&&c.changed?(p.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t+"%"},n.contextMenu&&n.contextMenu.showListItem("reset")):(p.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t},n.contextMenu&&n.contextMenu.hideListItem("reset")),l.setDataBySeries(function(t){c.value.length&&t.setOriginalData(c.value[u[t.getId()]])}),s.impl.update()}},{key:"init",value:function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData","canvasData",function(t,n,i,o,a,r,s,l,u,h,c,p,d,f,g){e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=o,e.dataset=a,e.plotManager=r,e.markerManager=l,e.canvasConfig=s,e.reactiveModel=u,e.globalReactiveModel=h,e.spaceManagerInstance=c,e.smartLabel=p,e.chartInstance=d,e.canvasData=g,e.extData=f}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.tsObject=e.chartInstance,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this}},{key:"growthOverMode",value:function(){function t(e){var i,r;for(i in e)r=e[i],"object"===("undefined"==typeof r?"undefined":o(r))&&r.submenu&&t(r),i.indexOf(n)+1&&(a=!0)}var e=this,n=this.extData&&this.extData.growthOver,i=this.analyserOptionsObject,a=!1;return t(i),a?void(isNaN(n)?"firstIndex"===n?(e.preGrowthHook("First"),e.analyser({position:0})):"prevIndex"===n?(e.preGrowthHook("Previous"),e.analyser({relposition:-1})):(e.preGrowthHook(n),e.analyser(n)):(e.analyser(n),e.preGrowthHook("Custom"))):void(e.contextMenu&&e.contextMenu.hideListItem("reset"))}},{key:"updateAxisName",value:function(t){function e(n){for(r in n)s=n[r],"object"===("undefined"==typeof s?"undefined":o(s))&&s.submenu&&e(s),r.indexOf(t)+1&&(a=!0)}var n=this.origAxisName||"Sale",i=(this.extData&&this.extData.axisFormatter,this.analyserOptionsObject),a=!1,r="",s=void 0;e(i),this.origAxisName=n}},{key:"preGrowthHook",value:function(t){this.highlight(t),this.updateAxisName(t)}},{key:"highlight",value:function(t){for(var e=this.contextMenu,n=e&&e.listContainerManager.container.atomicLists,i=n.length,o=0,a={},r={},s=!0;i-- -1;)for(a=n[i],s=!0,a.name.indexOf(t)+1?a.node.style.fontWeight="bold":a.node.style.fontWeight="",o=a.subConRef&&a.subConRef.atomicLists.length||0;o--;)r=a.subConRef.atomicLists[o],r.name.indexOf(t)+1?(r.node.style.fontWeight="bold",a.node.style.fontWeight="bold",s=!1):r.node.style.fontWeight="",s&&(a.node.style.fontWeight="")}},{key:"createToolbar",value:function(){var t,e,n,i,o=this,a=[],r={},s=this.graphics.paper,l=this.graphics.container,u=o.extData&&o.extData.style||{},h={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},c={"font-size":"13px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif',fontWeight:"bold"},p={fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"};u.category=u.category||{},u.subCategory=u.subCategory||{},u.popup=u.popup||{},Object.assign(c,u.category),Object.assign(h,u.subCategory),Object.assign(p,u.popup),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),e=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),r=this.analyserOptionsObject,n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),this.contextMenu=n,a.push({"Show Growth Over":{style:c}}),i=function(t){function e(){i.hide(),t(h.val())}function n(){h.element.value=h.element.value.replace(/[^\d.-]/g,"")}var i,a,r,u,h,c,d=p,f=180,g=.47*o.chart.width-90,m=o.chart.height/2-40;i=s.html("div",{fill:"#f7f7f7",x:g,y:m,width:180,height:80},d,l),a=s.html("div",{fill:"#e8e8e8",width:f,height:20},d,i),r=s.html("div",{fill:"transparent",width:.6*f,height:20,x:10,y:2},d,a),r.attr({text:"Provide value"}),u=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},d,a),u.on("click",function(){i.hide()}),h=s.html("input",{width:100,height:20,x:10,y:30},d,i),c=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},i),c.on("click",function(){e()}),h.on("keyup",function(t){13===t.keyCode&&e()}),c.attr({text:"Apply"}),h.element.focus(),h.element.addEventListener("keyup",n),u.element.style.position="relative",u.element.style.backgroundColor="#d2d2d2",u.element.style.border="2px solid #cbcbcb",u.element.style.padding="0px 0px 3.5px 2px",u.element.style.color="#8c8c8c",u.element.style.margin="1px 2px",u.element.style.float="right",h.element.style.marginTop="8px",h.element.style.border="2px solid #dadbda",c.element.style.marginTop="8px",i.element.style.border="1px solid #d4d2d3",a.element.style.border="1px solid #d4d2d3",a.element.style.width="179px",r.element.style.fontSize="11.5px",r.element.style.marginTop="0.5px",r.element.style.color="#676767",a.element.style["font-family"]='"Lucida Grande", Sans-serif',c.element.style.textAlign="center",c.element.style.fontSize="11px",c.element.style.paddingTop="3px",c.element.style.borderRadius="3px",c.element.style.color="#e4e4e4"},a.push({"&nbsp; &nbsp; Reset View":{id:"reset",handler:function(){o.analyser("reset"),o.preGrowthHook("reset")},action:"click",style:h}}),a.push({"":{id:"reset",style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}});var d=function(t){var e=void 0,n={},s={};if(r[t].submenu){e="&#9666&nbsp; "+t,n[e]={},n[e].action="click",n[e].style=h,n[e].handler=[];var l=function(a){var l=a,u=r[t][a];return"submenu"===a?"continue":(s={},s["&nbsp;"+l]={},s["&nbsp;"+l].handler=function(){"function"==typeof u?u(i):(o.analyser(u),o.preGrowthHook(l))},s["&nbsp;"+l].action="click",s["&nbsp;"+l].style=h,n[e].handler.push(s),void(a.indexOf("Custom")===-1&&n[e].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})))};for(var u in r[t]){l(u)}}else e="&nbsp; &nbsp; "+t,n[e]={},n[e]={style:h,handler:function(){o.analyser(r[t]),o.preGrowthHook(t)},action:"click"};a.push(n),t.indexOf("Specific")===-1&&a.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var f in r)d(f);return n.appendAsList(a),this.SymbolStore.register("ContextIcon",function(t,e,n){var i=t,o=e,a=2*n,r=Math.round(a/4),s=.7*Math.round(a/2),l=i-s,u=i+s,h=o+r,c=o-r;return["M",l,o,"L",u,o,"M",l,h,"L",u,h,"M",l,c,"L",u,c]}),e.addSymbol(n),t.addComponent(e),t}},{key:"getLogicalSpace",value:function(t,e){t/=2;var n,i,o,a=0,r=0;for(i=0,o=this.toolbars.length;i<o;i++)n=this.toolbars[i].getLogicalSpace(t,e),a=Math.max(n.width,a),r+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return r+=this.padding,{width:a>t?0:a,height:r>e?0:r}}},{key:"placeInCanvas",value:function(){var t=this,e=this.extData||{},n=e.posWrtCanvas||"top",i=e.layout||"inline",o=e.alignment||"right",a=e.orientation||"horizontal";t.padding=5,t.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t[i]},orientation:[{type:function(t){return t[a]},position:[{type:function(t){return t[n]},alignment:[{type:function(t){return t[o]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,i,o){var a=this.measurement;return a.x=t,a.y=e,a.width=n,a.height=i,this.parentGroup=o,this}},{key:"draw",value:function(t,e,n,i,o){var a,r,s,l=this.measurement,u=this.toolbars;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,o=void 0===o?this.parentGroup:o,n&&i)for(r=0,a=u.length;r<a;r++)s=u[r],s.draw(t,e)}}]),t}();FusionCharts.registerComponent("extensions","growth-analyser",t)}])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){n(this,t),this.data=e.map(function(t){return t.map(function(t){return t})}),this.Formulae=a}return i(t,[{key:"analyse",value:function(t){var e=0,n=0,i=0,o=0,a=0,r=[],s=0,l=this.data,u=[],h=[],c=0,p=({changed:!1,value:this.data.map(function(t){return t.map(function(t){})})},{changed:!1,value:this.data.map(function(t){return t.map(function(t){return t})})});if(void 0===t)return p;if("string"==typeof t&&"reset"===t.toLowerCase())return p;if(isNaN(t))if("string"==typeof t){if(t=this.Formulae[t],!t)return p;for(e=0,n=l.length;e<n;++e){for(h=[],s=t(l[e]),i=0,o=l[e].length;i<o;++i)a=l[e][i],c=0===s?void 0:100*(a-s)/s,h.push(c);u.push(h)}}else if(isNaN(t.relposition))if(isNaN(t.position)&&"string"!=typeof t.position){if(isNaN(t.reldatasetposition))return p;for(t=t.reldatasetposition,e=0,n=l.length;e<n;++e){for(h=[],r=e+t>=0&&e+t<n?l[e+t]:l[e],i=0,o=l[e].length;i<o;++i)s=r[i],a=l[e][i],h.push(100*(a-s)/a);u.push(h)}}else for(t=t.position,e=0,n=l.length;e<n;++e){for(h=[],i=0,o=l[e].length;i<o;++i)a=l[e][i],s="last"===t?l[e][o-1]:"mid"===t?l[e][o/2]:t>=0&&t<o?l[e][t]:a,h.push(100*(a-s)/s);u.push(h)}else for(t=t.relposition,e=0,n=l.length;e<n;++e){for(h=[],i=0,o=l[e].length;i<o;++i)a=l[e][i],s=i+t>=0&&i+t<o?l[e][i+t]:a,h.push(100*(a-s)/s);u.push(h)}else for(s=+t,e=0,n=l.length;e<n;++e){for(h=[],i=0,o=l[e].length;i<o;++i)a=l[e][i],h.push(100*(a-s)/s);u.push(h)}for(e=0,n=u.length;e<n;++e)for(i=0,o=u[e].length;i<o;++i)Number.isFinite(u[e][i])||(u[e][i]=null),c=parseInt(100*u[e][i]),u[e][i]=c/100;return{changed:!0,value:u}}}]),t}(),a={Minimum:function(t){return t.reduce(function(t,e){return t>e?e:t})},Maximum:function(t){return t.reduce(function(t,e){return t<e?e:t})},Mean:function(t){return t.reduce(function(t,e){return t+e})/t.length},Median:function(t){return t.map(function(t){return t}).sort(function(t,e){return t-e})[t.length/2]},"Standard Deviation":function(t){function e(t){var e,n;return e=t.reduce(function(t,e){return t+e},0),n=e/t.length}var n=0,i=0,o=0,a=0,r=0,s=0;return n=e(t),i=t.map(function(t){return s=t-n,o=s*s}),a=e(i),r=Math.sqrt(a)}};t.exports=o}]);