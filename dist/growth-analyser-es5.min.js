!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=n(1);FusionCharts.register("extension",["private","growth-analyser-ext",function(){var t=function(){function t(){a(this,t),this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore}return i(t,[{key:"renderChange",value:function(){var t=this.tsObject.chartInstance,e=t.apiInstance.getComponentStore(),n=0;for(n=0;e.getCanvasByIndex(n);++n)e.getCanvasByIndex(n).getComposition().PlotManager.plot()}},{key:"analyser",value:function(t){var e,n=this.ga||{},a=this.tsObject.apiInstance.getComponentStore(),i=a.getCanvasByIndex(0),o=i.getComposition(),s=n.ds||o.dataset,l=n.idMap||{},u=n.storeAr||[],c=[],h=i.composition.yAxis;if("reset"===t?h.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t}:h.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(t){return t+"%"},this.ga=n,!n.storeAr&&(a={},!n.idMap)){s.forEachSeries(function(t,e,n,i){a[i.getId()]=i.getOriginalData()});for(e in a)u.push(a[e]),l[e]=u.length-1;n.idMap=l,n.ds=s,n.storeAr=u,n.gAnalyser=new r(u)}c=n.gAnalyser.analyse(t),s.setDataBySeries(function(t){c.length&&t.setOriginalData(c[l[t.getId()]])}),o.impl.update()}},{key:"init",value:function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData","canvasData",function(t,n,a,i,r,o,s,l,u,c,h,p,d,f,g){e.xAxis=t,e.yAxis=n,e.graphics=a,e.chart=i,e.dataset=r,e.plotManager=o,e.markerManager=l,e.canvasConfig=s,e.reactiveModel=u,e.globalReactiveModel=c,e.spaceManagerInstance=h,e.smartLabel=p,e.chartInstance=d,e.canvasData=g,e.extData=f}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.tsObject=e.chartInstance,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),setTimeout(e.growthOverMode.bind(e),50),this}},{key:"growthOverMode",value:function(){var t=this,e=this.extData&&this.extData.growthOver;console.log(this.extData,e),isNaN(e)?"firstIndex"===e?t.analyser({position:0}):"prevIndex"===e?t.analyser({relposition:-1}):t.analyser(e):t.analyser(e)}},{key:"createToolbar",value:function(){var t,e,n,a,i=this,r=[],o={},s=this.graphics.paper,l=this.graphics.container,u=i.extData&&i.extData.style||{},c={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},h={"font-size":"13px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif',fontWeight:"bold"},p={fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"};u.category=u.category||{},u.subCategory=u.subCategory||{},u.popup=u.popup||{},Object.assign(h,u.category),Object.assign(c,u.subCategory),Object.assign(p,u.popup),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),e=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),o={"First Index":{position:0},"Previous Index":{relposition:-1},"Specific Value":{submenu:!0,Minimum:"Minimum",Maximum:"Maximum",Mean:"Mean",Median:"Median","Standard Deviation":"Standard Deviation","Custom Value...":function(){a(function(t){return i.analyser(t)})}}},n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),r.push({"Growth Analyser":{style:h}}),a=function(t){function e(){a.hide(),t(c.val())}function n(){c.element.value=c.element.value.replace(/[^\d.-]/g,"")}var a,r,o,u,c,h,d=p,f=180,g=.47*i.chart.width-90,m=i.chart.height/2-40;a=s.html("div",{fill:"#f7f7f7",x:g,y:m,width:180,height:80},d,l),r=s.html("div",{fill:"#e8e8e8",width:f,height:20},d,a),o=s.html("div",{fill:"transparent",width:.6*f,height:20,x:10,y:2},d,r),o.attr({text:"Provide value"}),u=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},d,r),u.on("click",function(){a.hide()}),c=s.html("input",{width:100,height:20,x:10,y:30},d,a),h=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},a),h.on("click",function(){e()}),c.on("keyup",function(t){13===t.keyCode&&e()}),h.attr({text:"Apply"}),c.element.focus(),c.element.addEventListener("keyup",n),u.element.style.position="relative",u.element.style.backgroundColor="#d2d2d2",u.element.style.border="2px solid #cbcbcb",u.element.style.padding="0px 0px 3.5px 2px",u.element.style.color="#8c8c8c",u.element.style.margin="1px 2px",u.element.style.float="right",c.element.style.marginTop="8px",c.element.style.border="2px solid #dadbda",h.element.style.marginTop="8px",a.element.style.border="1px solid #d4d2d3",r.element.style.border="1px solid #d4d2d3",r.element.style.width="179px",o.element.style.fontSize="11.5px",o.element.style.marginTop="0.5px",o.element.style.color="#676767",r.element.style["font-family"]='"Lucida Grande", Sans-serif',h.element.style.textAlign="center",h.element.style.fontSize="11px",h.element.style.paddingTop="3px",h.element.style.borderRadius="3px",h.element.style.color="#e4e4e4"};var d=function(t){var e=void 0,n={},a={};if(o[t].submenu){e="&#9666&nbsp; "+t,n[e]={},n[e].action="click",n[e].style=c,n[e].handler=[];var s=function(r){var s=r,l=o[t][r];return"submenu"===r?"continue":(a={},a["&nbsp;"+s]={},a["&nbsp;"+s].handler=function(){"function"==typeof l?l():i.analyser(l)},a["&nbsp;"+s].action="click",a["&nbsp;"+s].style=c,n[e].handler.push(a),void(r.indexOf("Custom")===-1&&n[e].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})))};for(var l in o[t]){s(l)}}else e="&nbsp; &nbsp; "+t,n[e]={},n[e]={style:c,handler:function(){i.analyser(o[t])},action:"click"};r.push(n),r.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var f in o)d(f);return r.push({"&nbsp; &nbsp; Reset View":{handler:function(){i.analyser("reset")},action:"click",style:c}}),console.log(n),window.ctx=n,n.appendAsList(r),this.SymbolStore.register("ContextIcon",function(t,e,n){var a=t,i=e,r=2*n,o=Math.round(r/4),s=.7*Math.round(r/2),l=a-s,u=a+s,c=i+o,h=i-o;return["M",l,i,"L",u,i,"M",l,c,"L",u,c,"M",l,h,"L",u,h]}),e.addSymbol(n),t.addComponent(e),t}},{key:"getLogicalSpace",value:function(t,e){t/=2;var n,a,i,r=0,o=0;for(a=0,i=this.toolbars.length;a<i;a++)n=this.toolbars[a].getLogicalSpace(t,e),r=Math.max(n.width,r),o+=n.height,this.toolbars[a].width=n.width,this.toolbars[a].height=n.height;return o+=this.padding,{width:r>t?0:r,height:o>e?0:o}}},{key:"placeInCanvas",value:function(){var t=this;t.padding=5,t.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t.inline},orientation:[{type:function(t){return t.horizontal},position:[{type:function(t){return t.top},alignment:[{type:function(t){return t.right},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,a,i){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=a,this.parentGroup=i,this}},{key:"draw",value:function(t,e,n,a,i){var r,o,s,l=this.measurement,u=this.toolbars;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,a=void 0===a?l.height:a,i=void 0===i?this.parentGroup:i,n&&a)for(o=0,r=u.length;o<r;o++)s=u[o],s.draw(t,e)}}]),t}();FusionCharts.registerComponent("extensions","growth-analyser-ext",t)}])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(e){n(this,t),this.data=e.map(function(t){return t.map(function(t){return t})}),this.Formulae=r}return a(t,[{key:"analyse",value:function(t){var e=0,n=0,a=0,i=0,r=0,o=[],s=0,l=this.data,u=[],c=[],h=0;if(void 0===t)return this.data.map(function(t){return t.map(function(t){})});if("string"==typeof t&&"reset"===t.toLowerCase())return l.map(function(t){return t.map(function(t){return t})});if(isNaN(t))if("string"==typeof t){if(t=this.Formulae[t],!t)return this.data.map(function(t){return t.map(function(t){})});for(e=0,n=l.length;e<n;++e){for(c=[],s=t(l[e]),a=0,i=l[e].length;a<i;++a)r=l[e][a],h=0===s?void 0:100*(r-s)/s,c.push(h);u.push(c)}}else if(isNaN(t.relposition))if(isNaN(t.position)&&"string"!=typeof t.position){if(isNaN(t.reldatasetposition))return this.data.map(function(t){return t.map(function(t){})});for(t=t.reldatasetposition,e=0,n=l.length;e<n;++e){for(c=[],o=e+t>=0&&e+t<n?l[e+t]:l[e],a=0,i=l[e].length;a<i;++a)s=o[a],r=l[e][a],c.push(100*(r-s)/r);u.push(c)}}else for(t=t.position,e=0,n=l.length;e<n;++e){for(c=[],a=0,i=l[e].length;a<i;++a)r=l[e][a],s="last"===t?l[e][i-1]:"mid"===t?l[e][i/2]:t>=0&&t<i?l[e][t]:r,c.push(100*(r-s)/s);u.push(c)}else for(t=t.relposition,e=0,n=l.length;e<n;++e){for(c=[],a=0,i=l[e].length;a<i;++a)r=l[e][a],s=a+t>=0&&a+t<i?l[e][a+t]:r,c.push(100*(r-s)/s);u.push(c)}else for(s=+t,e=0,n=l.length;e<n;++e){for(c=[],a=0,i=l[e].length;a<i;++a)r=l[e][a],c.push(100*(r-s)/s);u.push(c)}for(e=0,n=u.length;e<n;++e)for(a=0,i=u[e].length;a<i;++a)Number.isFinite(u[e][a])||(u[e][a]=null);var p=function(t){return+(Math.round(t+"e+2")+"e-2")};for(e=0,n=u.length;e<n;++e)for(a=0,i=u[e].length;a<i;++a)u[e][a]=p(u[e][a]);for(e=u.length;e--;)for(a=u[e].length;a--;)h=parseInt(100*u[e][a]),u[e][a]=h/100;return u}}]),t}(),r={Minimum:function(t){return t.reduce(function(t,e){return t>e?e:t})},Maximum:function(t){return t.reduce(function(t,e){return t<e?e:t})},Mean:function(t){return t.reduce(function(t,e){return t+e})/t.length},Median:function(t){return t.map(function(t){return t}).sort(function(t,e){return t-e})[t.length/2]},"Standard Deviation":function(t){function e(t){var e,n;return e=t.reduce(function(t,e){return t+e},0),n=e/t.length}var n=0,a=0,i=0,r=0,o=0,s=0;return n=e(t),a=t.map(function(t){return s=t-n,i=s*s}),r=e(a),o=Math.sqrt(r)}};t.exports=i}]);