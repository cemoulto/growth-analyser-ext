!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1);FusionCharts.register("extension",["private","growth-analyser",function(){var e=function(){function e(){a(this,e),this.toolbox=FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore}return i(e,[{key:"renderChange",value:function(){var e=this.tsObject.chartInstance,t=e.apiInstance.getComponentStore(),n=0;for(n=0;t.getCanvasByIndex(n);++n)t.getCanvasByIndex(n).getComposition().PlotManager.plot()}},{key:"analyser",value:function(e){var t,n=this,a=this.ga||{},i=this.tsObject.apiInstance.getComponentStore(),o=i.getCanvasByIndex(0),s=o.getComposition(),l=a.ds||s.dataset,u=a.idMap||{},c=a.storeAr||[],h=[],p=o.composition.yAxis;if(this.ga=a,!a.storeAr&&(i={},!a.idMap)){l.forEachSeries(function(e,t,n,a){i[a.getId()]=a.getOriginalData()});for(t in i)c.push(i[t]),u[t]=c.length-1;a.idMap=u,a.ds=l,a.storeAr=c,a.gAnalyser=new r(c)}h=a.gAnalyser.analyse(e),"reset"!==e&&h.changed?(p.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(e){return e+"%"},n.contextMenu&&n.contextMenu.showListItem("reset"),console.log(n.contextMenu,2)):(p.getScaleObj().getIntervalObj().getConfig("intervals").major.formatter=function(e){return e},console.log(n.contextMenu,1),n.contextMenu&&n.contextMenu.hideListItem("reset")),l.setDataBySeries(function(e){h.value.length&&e.setOriginalData(h.value[u[e.getId()]])}),s.impl.update()}},{key:"init",value:function(e){var t=this;return e(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","chartInstance","extData","canvasData",function(e,n,a,i,r,o,s,l,u,c,h,p,d,f,g){t.xAxis=e,t.yAxis=n,t.graphics=a,t.chart=i,t.dataset=r,t.plotManager=o,t.markerManager=l,t.canvasConfig=s,t.reactiveModel=u,t.globalReactiveModel=c,t.spaceManagerInstance=h,t.smartLabel=p,t.chartInstance=d,t.canvasData=g,t.extData=f}]),this.spaceManagerInstance=t.spaceManagerInstance,this.globalReactiveModel=t.globalReactiveModel,this.tsObject=t.chartInstance,this.startDt=t.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=t.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=t.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=t.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),t.growthOverMode(),this}},{key:"growthOverMode",value:function(){var e=this,t=this.extData&&this.extData.growthOver;isNaN(t)?"firstIndex"===t?e.analyser({position:0}):"prevIndex"===t?e.analyser({relposition:-1}):e.analyser(t):e.analyser(t)}},{key:"createToolbar",value:function(){var e,t,n,a,i=this,r=[],o={},s=this.graphics.paper,l=this.graphics.container,u=i.extData&&i.extData.style||{},c={"font-size":"12px",color:"#696969","font-family":'"Lucida Grande", Sans-serif'},h={"font-size":"13px",color:"#4b4b4b","font-family":'"Lucida Grande", Sans-serif',fontWeight:"bold"},p={fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',stroke:"#676767","stroke-width":"2"};u.category=u.category||{},u.subCategory=u.subCategory||{},u.popup=u.popup||{},Object.assign(h,u.category),Object.assign(c,u.subCategory),Object.assign(p,u.popup),e=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),e.setConfig({fill:"#fff",borderThickness:0}),t=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#fff",borderThickness:0}),o={"First Index":{position:0},"Previous Index":{relposition:-1},"Specific Value":{submenu:!0,Minimum:"Minimum",Maximum:"Maximum",Average:"Mean",Median:"Median","Standard Deviation":"Standard Deviation","Custom Value...":function(){a(function(e){return i.analyser(e)})}}},n=new this.toolbox.SymbolWithContext("ContextIcon",{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{width:24,height:24,position:"right",stroke:"#ced5d4",strokeWidth:"1",radius:"1",symbolStroke:"#696969",symbolStrokeWidth:"2"}),this.contextMenu=n,r.push({"Show Growth Over":{style:h}}),a=function(e){function t(){a.hide(),e(c.val())}function n(){c.element.value=c.element.value.replace(/[^\d.-]/g,"")}var a,r,o,u,c,h,d=p,f=180,g=.47*i.chart.width-90,m=i.chart.height/2-40;a=s.html("div",{fill:"#f7f7f7",x:g,y:m,width:180,height:80},d,l),r=s.html("div",{fill:"#e8e8e8",width:f,height:20},d,a),o=s.html("div",{fill:"transparent",width:.6*f,height:20,x:10,y:2},d,r),o.attr({text:"Provide value"}),u=s.html("div",{fill:"transparent",width:10,height:10,position:"relative",float:"right",text:"X",cursor:"pointer"},d,r),u.on("click",function(){a.hide()}),c=s.html("input",{width:100,height:20,x:10,y:30},d,a),h=s.html("div",{width:50,height:20,x:120,y:30,fill:"#555555"},{fontSize:"10px",lineHeight:"15px","font-family":'"Lucida Grande", Sans-serif',fill:"#eaeaea",color:"#eaeaea",stroke:"#eaeaea",cursor:"pointer"},a),h.on("click",function(){t()}),c.on("keyup",function(e){13===e.keyCode&&t()}),h.attr({text:"Apply"}),c.element.focus(),c.element.addEventListener("keyup",n),u.element.style.position="relative",u.element.style.backgroundColor="#d2d2d2",u.element.style.border="2px solid #cbcbcb",u.element.style.padding="0px 0px 3.5px 2px",u.element.style.color="#8c8c8c",u.element.style.margin="1px 2px",u.element.style.float="right",c.element.style.marginTop="8px",c.element.style.border="2px solid #dadbda",h.element.style.marginTop="8px",a.element.style.border="1px solid #d4d2d3",r.element.style.border="1px solid #d4d2d3",r.element.style.width="179px",o.element.style.fontSize="11.5px",o.element.style.marginTop="0.5px",o.element.style.color="#676767",r.element.style["font-family"]='"Lucida Grande", Sans-serif',h.element.style.textAlign="center",h.element.style.fontSize="11px",h.element.style.paddingTop="3px",h.element.style.borderRadius="3px",h.element.style.color="#e4e4e4"},r.push({"&nbsp; &nbsp; Reset View":{id:"reset",handler:function(){i.analyser("reset")},action:"click",style:c}}),r.push({"":{id:"reset",style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}});var d=function(e){var t=void 0,n={},a={};if(o[e].submenu){t="&#9666&nbsp; "+e,n[t]={},n[t].action="click",n[t].style=c,n[t].handler=[];var s=function(r){var s=r,l=o[e][r];return"submenu"===r?"continue":(a={},a["&nbsp;"+s]={},a["&nbsp;"+s].handler=function(){"function"==typeof l?l():i.analyser(l)},a["&nbsp;"+s].action="click",a["&nbsp;"+s].style=c,n[t].handler.push(a),void(r.indexOf("Custom")===-1&&n[t].handler.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})))};for(var l in o[e]){s(l)}}else t="&nbsp; &nbsp; "+e,n[t]={},n[t]={style:c,handler:function(){i.analyser(o[e])},action:"click"};r.push(n),e.indexOf("Specific")===-1&&r.push({"":{style:{backgroundColor:"#d5d2d2",height:"1px",margin:"1px",padding:"0px"}}})};for(var f in o)d(f);return n.appendAsList(r),this.SymbolStore.register("ContextIcon",function(e,t,n){var a=e,i=t,r=2*n,o=Math.round(r/4),s=.7*Math.round(r/2),l=a-s,u=a+s,c=i+o,h=i-o;return["M",l,i,"L",u,i,"M",l,c,"L",u,c,"M",l,h,"L",u,h]}),t.addSymbol(n),e.addComponent(t),e}},{key:"getLogicalSpace",value:function(e,t){e/=2;var n,a,i,r=0,o=0;for(a=0,i=this.toolbars.length;a<i;a++)n=this.toolbars[a].getLogicalSpace(e,t),r=Math.max(n.width,r),o+=n.height,this.toolbars[a].width=n.width,this.toolbars[a].height=n.height;return o+=this.padding,{width:r>e?0:r,height:o>t?0:o}}},{key:"placeInCanvas",value:function(){var e=this,t=this.extData||{},n=t.posWrtCanvas||"top",a=t.layout||"inline",i=t.alignment||"right",r=t.orientation||"horizontal";e.padding=5,e.spaceManagerInstance.add([{name:function(){return"ToolBoxExt"},ref:function(e){return e[0]},self:function(){return e},priority:function(){return 2},layout:function(e){return e[a]},orientation:[{type:function(e){return e[r]},position:[{type:function(e){return e[n]},alignment:[{type:function(e){return e[i]},dimensions:[function(){var t=this.getParentComponentGroup();return e.getLogicalSpace(t.getWidth(),t.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(e,t,n,a,i){var r=this.measurement;return r.x=e,r.y=t,r.width=n,r.height=a,this.parentGroup=i,this}},{key:"draw",value:function(e,t,n,a,i){var r,o,s,l=this.measurement,u=this.toolbars;if(e=void 0===e?l.x:e,t=void 0===t?l.y:t,n=void 0===n?l.width:n,a=void 0===a?l.height:a,i=void 0===i?this.parentGroup:i,n&&a)for(o=0,r=u.length;o<r;o++)s=u[o],s.draw(e,t)}}]),e}();FusionCharts.registerComponent("extensions","growth-analyser",e)}])},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){n(this,e),this.data=t.map(function(e){return e.map(function(e){return e})}),this.Formulae=r}return a(e,[{key:"analyse",value:function(e){var t=0,n=0,a=0,i=0,r=0,o=[],s=0,l=this.data,u=[],c=[],h=0,p=({changed:!1,value:this.data.map(function(e){return e.map(function(e){})})},{changed:!1,value:this.data.map(function(e){return e.map(function(e){return e})})});if(void 0===e)return p;if("string"==typeof e&&"reset"===e.toLowerCase())return p;if(isNaN(e))if("string"==typeof e){if(e=this.Formulae[e],!e)return p;for(t=0,n=l.length;t<n;++t){for(c=[],s=e(l[t]),a=0,i=l[t].length;a<i;++a)r=l[t][a],h=0===s?void 0:100*(r-s)/s,c.push(h);u.push(c)}}else if(isNaN(e.relposition))if(isNaN(e.position)&&"string"!=typeof e.position){if(isNaN(e.reldatasetposition))return p;for(e=e.reldatasetposition,t=0,n=l.length;t<n;++t){for(c=[],o=t+e>=0&&t+e<n?l[t+e]:l[t],a=0,i=l[t].length;a<i;++a)s=o[a],r=l[t][a],c.push(100*(r-s)/r);u.push(c)}}else for(e=e.position,t=0,n=l.length;t<n;++t){for(c=[],a=0,i=l[t].length;a<i;++a)r=l[t][a],s="last"===e?l[t][i-1]:"mid"===e?l[t][i/2]:e>=0&&e<i?l[t][e]:r,c.push(100*(r-s)/s);u.push(c)}else for(e=e.relposition,t=0,n=l.length;t<n;++t){for(c=[],a=0,i=l[t].length;a<i;++a)r=l[t][a],s=a+e>=0&&a+e<i?l[t][a+e]:r,c.push(100*(r-s)/s);u.push(c)}else for(s=+e,t=0,n=l.length;t<n;++t){for(c=[],a=0,i=l[t].length;a<i;++a)r=l[t][a],c.push(100*(r-s)/s);u.push(c)}for(t=0,n=u.length;t<n;++t)for(a=0,i=u[t].length;a<i;++a)Number.isFinite(u[t][a])||(u[t][a]=null),h=parseInt(100*u[t][a]),u[t][a]=h/100;return{changed:!0,value:u}}}]),e}(),r={Minimum:function(e){return e.reduce(function(e,t){return e>t?t:e})},Maximum:function(e){return e.reduce(function(e,t){return e<t?t:e})},Mean:function(e){return e.reduce(function(e,t){return e+t})/e.length},Median:function(e){return e.map(function(e){return e}).sort(function(e,t){return e-t})[e.length/2]},"Standard Deviation":function(e){function t(e){var t,n;return t=e.reduce(function(e,t){return e+t},0),n=t/e.length}var n=0,a=0,i=0,r=0,o=0,s=0;return n=t(e),a=e.map(function(e){return s=e-n,i=s*s}),r=t(a),o=Math.sqrt(r)}};e.exports=i}]);